{"version":3,"sources":["src/app/app.component.html","src/app/components/callback/callback.component.html","src/app/components/control-bar/control-bar.component.html","src/app/components/image-box/image-box.component.html","src/app/components/image-gallery/image-gallery.component.html","src/app/components/main/main.component.html","src/app/components/map/map.component.html","src/app/components/modal-create-project/modal-create-project.component.html","src/app/components/modal-current-project/modal-current-project.component.html","src/app/components/modal-download-selector/modal-download-selector.component.html","src/app/components/modal-file-browser/modal-file-browser.component.html","src/app/components/modal-share-project/modal-share-project.component.html","src/app/components/notfound/notfound.component.html","src/app/components/side-bar/select-group/select-group.component.html","src/app/components/side-bar/select-image/select-image.component.html","src/app/components/side-bar/side-bar.component.html","src/app/components/side-bar/tag-generator/tag-generator.component.html","src/app/components/side-bar/tag-images/form-generator/form-fields/form-checkbox/form-checkbox.component.html","src/app/components/side-bar/tag-images/form-generator/form-fields/form-color/form-color.component.html","src/app/components/side-bar/tag-images/form-generator/form-fields/form-dropdown/form-dropdown.component.html","src/app/components/side-bar/tag-images/form-generator/form-fields/form-fields.component.html","src/app/components/side-bar/tag-images/form-generator/form-fields/form-file/form-file.component.html","src/app/components/side-bar/tag-images/form-generator/form-fields/form-radio/form-radio.component.html","src/app/components/side-bar/tag-images/form-generator/form-fields/form-textbox/form-textbox.component.html","src/app/components/side-bar/tag-images/form-generator/form-generator.component.html","src/app/components/side-bar/tag-images/tag-images.component.html","node_modules/tslib/tslib.es6.js","src/$_lazy_route_resource lazy namespace object","src/app/app-routing.module.ts","src/app/app.component.scss","src/app/app.component.ts","src/app/app.interceptors.ts","src/app/app.module.ts","src/app/components/callback/callback.component.scss","src/app/components/callback/callback.component.ts","src/app/components/control-bar/control-bar.component.scss","src/app/components/control-bar/control-bar.component.ts","src/app/components/image-box/image-box.component.scss","src/app/components/image-box/image-box.component.ts","src/app/components/image-gallery/image-gallery.component.scss","src/app/components/image-gallery/image-gallery.component.ts","src/app/components/main/main.component.scss","src/app/components/main/main.component.ts","src/app/components/map/map.component.scss","src/app/components/map/map.component.ts","src/app/components/modal-create-project/modal-create-project.component.scss","src/app/components/modal-create-project/modal-create-project.component.ts","src/app/components/modal-current-project/modal-current-project.component.scss","src/app/components/modal-current-project/modal-current-project.component.ts","src/app/components/modal-download-selector/modal-download-selector.component.scss","src/app/components/modal-download-selector/modal-download-selector.component.ts","src/app/components/modal-file-browser/modal-file-browser.component.scss","src/app/components/modal-file-browser/modal-file-browser.component.ts","src/app/components/modal-share-project/modal-share-project.component.scss","src/app/components/modal-share-project/modal-share-project.component.ts","src/app/components/notfound/notfound.component.scss","src/app/components/notfound/notfound.component.ts","src/app/components/side-bar/select-group/select-group.component.scss","src/app/components/side-bar/select-group/select-group.component.ts","src/app/components/side-bar/select-image/select-image.component.scss","src/app/components/side-bar/select-image/select-image.component.ts","src/app/components/side-bar/side-bar.component.scss","src/app/components/side-bar/side-bar.component.ts","src/app/components/side-bar/tag-generator/tag-generator.component.scss","src/app/components/side-bar/tag-generator/tag-generator.component.ts","src/app/components/side-bar/tag-images/form-generator/form-fields/form-checkbox/form-checkbox.component.ts","src/app/components/side-bar/tag-images/form-generator/form-fields/form-color/form-color.component.scss","src/app/components/side-bar/tag-images/form-generator/form-fields/form-color/form-color.component.ts","src/app/components/side-bar/tag-images/form-generator/form-fields/form-dropdown/form-dropdown.component.ts","src/app/components/side-bar/tag-images/form-generator/form-fields/form-fields.component.ts","src/app/components/side-bar/tag-images/form-generator/form-fields/form-file/form-file.component.scss","src/app/components/side-bar/tag-images/form-generator/form-fields/form-file/form-file.component.ts","src/app/components/side-bar/tag-images/form-generator/form-fields/form-radio/form-radio.component.ts","src/app/components/side-bar/tag-images/form-generator/form-fields/form-textbox/form-textbox.component.ts","src/app/components/side-bar/tag-images/form-generator/form-generator.component.scss","src/app/components/side-bar/tag-images/form-generator/form-generator.component.ts","src/app/components/side-bar/tag-images/tag-images.component.scss","src/app/components/side-bar/tag-images/tag-images.component.ts","src/app/models/models.ts","src/app/services/agave-systems.service.ts","src/app/services/authentication.service.ts","src/app/services/feature.service.ts","src/app/services/forms.service.ts","src/app/services/geo-data.service.ts","src/app/services/groups.service.ts","src/app/services/notifications.service.ts","src/app/services/projects.service.ts","src/app/services/scroll.service.ts","src/app/services/tapis-files.service.ts","src/app/utils/groups.ts","src/app/utils/leafletUtils.ts","src/app/utils/randomColor.ts","src/environments/environment.ts","src/environments/environmentType.ts","src/environments/jwt.ts","src/main.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<!--The content below is only a placeholder and can be replaced.-->\\n<router-outlet></router-outlet>\\n\"","export default \"<div id=\\\"callback\\\">\\n  <div>\\n    <i class=\\\"fas fa-spinner\\\"></i>\\n  </div>\\n</div>\\n\"","export default \"<mat-toolbar class=\\\"top-bar\\\" color=\\\"primary\\\">\\n  <img src=\\\"assets/logo.svg\\\" width=\\\"40PX\\\" />\\n  <span style=\\\"color: white\\\">Taggit</span>\\n\\n  <button\\n    mat-icon-button\\n    [matMenuTriggerFor]=\\\"project\\\"\\n    color=\\\"foreground\\\"\\n    class=\\\"project-menu\\\"\\n  >\\n    <mat-icon>menu</mat-icon>\\n  </button>\\n\\n  <mat-menu #project=\\\"matMenu\\\">\\n    <span\\n      mat-menu-item\\n      *ngIf=\\\"selectedProject\\\"\\n      (click)=\\\"openProjectModal(selectedProject)\\\"\\n    >\\n      Current Gallery : {{ selectedProject.name }}\\n    </span>\\n    <button mat-menu-item (click)=\\\"openCreateProjectModal()\\\">\\n      Create Gallery\\n    </button>\\n    <button mat-menu-item [matMenuTriggerFor]=\\\"projectList\\\">\\n      Select Gallery\\n    </button>\\n    <button mat-menu-item (click)=\\\"openFilePicker(test)\\\">File Browser</button>\\n    <button mat-menu-item [matMenuTriggerFor]=\\\"saveOptions\\\">Save as</button>\\n  </mat-menu>\\n\\n  <mat-menu #projectList=\\\"matMenu\\\">\\n    <button\\n      mat-menu-item\\n      class=\\\"clickable\\\"\\n      *ngFor=\\\"let p of projects\\\"\\n      (click)=\\\"selectProject(p)\\\"\\n      [ngClass]=\\\"{ 'active-project': p === selectedProject }\\\"\\n    >\\n      {{ p.name }}\\n    </button>\\n  </mat-menu>\\n\\n  <mat-menu #saveOptions=\\\"matMenu\\\">\\n    <button mat-menu-item (click)=\\\"saveFile(0)\\\">CSV file</button>\\n    <button mat-menu-item (click)=\\\"saveFile(1)\\\">JSON file</button>\\n    <button mat-menu-item (click)=\\\"openDownloadSelector()\\\">\\n      Export to DesignSafe\\n    </button>\\n  </mat-menu>\\n\\n  <span class=\\\"example-spacer\\\"></span>\\n\\n  <div *ngIf=\\\"showTagger\\\" class=\\\"path-buttons\\\">\\n    <div class=\\\"slides\\\" style=\\\"line-height: 1; font-size: 12px\\\">\\n      {{ getAssetDisplay() }}\\n      <div class=\\\"lr-buttons\\\" style=\\\"margin-top: 5px\\\">\\n        <i\\n          (click)=\\\"otherPath(false)\\\"\\n          style=\\\"margin-right: 10px; cursor: pointer\\\"\\n          class=\\\"fas fa-angle-left\\\"\\n        ></i>\\n        <i\\n          (click)=\\\"otherPath(true)\\\"\\n          style=\\\"margin-left: 10px; cursor: pointer\\\"\\n          class=\\\"fas fa-angle-right\\\"\\n        ></i>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <span class=\\\"example-spacer\\\"></span>\\n\\n  <div class=\\\"group-bar grid-x align-right\\\">\\n    <button\\n      mat-raised-button\\n      class=\\\"button-spacing\\\"\\n      [disabled]=\\\"selectedImages.length === 0\\\"\\n      (click)=\\\"clearAll()\\\"\\n    >\\n      Clear Selected\\n    </button>\\n\\n    <!-- A link that looks like a button, links to Hazmapper-->\\n    <a\\n      class=\\\"button-spacing\\\"\\n      mat-raised-button\\n      href=\\\"{{ hazmapperLink }}\\\"\\n      title=\\\"Open your gallery in HazMapper\\\"\\n      target=\\\"_blank\\\"\\n    >\\n      <img src=\\\"assets/hazmapper-header-logo.png\\\" width=\\\"100PX\\\" />\\n    </a>\\n\\n    <button\\n      mat-raised-button\\n      (click)=\\\"openAddGroupModal(addGroupModal)\\\"\\n      *ngIf=\\\"selectedImages.length > 0 && !showTagger\\\"\\n    >\\n      Add Group\\n    </button>\\n\\n    <ng-template #addGroupModal>\\n      <mat-form-field>\\n        <mat-label>Group Name</mat-label>\\n        <input\\n          matInput\\n          placeholder=\\\"Group Name\\\"\\n          (keyup.enter)=\\\"addGroup(groupInput.value)\\\"\\n          #groupInput\\n        />\\n      </mat-form-field>\\n\\n      <div style=\\\"color: #ff0000\\\" *ngIf=\\\"invalidNameError\\\">Invalid Name!</div>\\n      <div style=\\\"color: #ff0000\\\" *ngIf=\\\"existingNameError\\\">Existing Name!</div>\\n      <br />\\n      <br />\\n      <button\\n        mat-raised-button\\n        color=\\\"primary\\\"\\n        (click)=\\\"addGroup(groupInput.value)\\\"\\n      >\\n        Add Group\\n      </button>\\n      <button mat-button matDialogClose color=\\\"secondary\\\">Cancel</button>\\n    </ng-template>\\n  </div>\\n\\n  <button\\n    *ngIf=\\\"groupsExist && !showTagger\\\"\\n    mat-raised-button\\n    style=\\\"margin-left: 15px\\\"\\n    (click)=\\\"toggleTagger()\\\"\\n  >\\n    Taggit!\\n  </button>\\n\\n  <button\\n    *ngIf=\\\"showTagger\\\"\\n    mat-raised-button\\n    style=\\\"margin-left: 15px\\\"\\n    (click)=\\\"toggleTagger()\\\"\\n  >\\n    Gallery\\n  </button>\\n</mat-toolbar>\\n\"","export default \"<div class=\\\"img-container\\\">\\n  <img\\n    [ngClass]=\\\"imageSelected\\\"\\n    [src]=\\\"featureSource\\\"\\n    (click)=\\\"imageSelect()\\\"\\n    class=\\\"img-responsive img-target\\\"\\n    title=\\\"{{ featurePath }}\\\"\\n  />\\n  <div class=\\\"top-overlay\\\">\\n    <div\\n      class=\\\"image-option\\\"\\n      matTooltip=\\\"Zoom\\\"\\n      matTooltipPosition=\\\"below\\\"\\n      (click)=\\\"imageZoom(diffSizes)\\\"\\n    >\\n      <i class=\\\"fas fa-search-plus\\\"></i>\\n    </div>\\n\\n    <ng-template #diffSizes>\\n      <div class=\\\"zoom-content\\\">\\n        <div class=\\\"img-container\\\">\\n          <img [src]=\\\"featureSource\\\" title=\\\"{{ featurePath }}\\\" />\\n        </div>\\n        <div class=\\\"img-details\\\">\\n          <div class=\\\"detail-container\\\">\\n            <div class=\\\"title\\\">Coordinates</div>\\n            <div class=\\\"detail-contents\\\">\\n              <div class=\\\"detail-item\\\">{{ coordinates[0] }},</div>\\n              <div class=\\\"detail-item\\\">\\n                {{ coordinates[1] }}\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"detail-container\\\">\\n            <div class=\\\"title\\\">Image Source</div>\\n            <div class=\\\"detail-contents\\\">\\n              <div class=\\\"detail-item\\\">\\n                {{ featurePath }}\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <button\\n          mat-button\\n          class=\\\"close-button\\\"\\n          matDialogClose\\n          aria-label=\\\"Close modal\\\"\\n          type=\\\"button\\\"\\n        >\\n          <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n      </div>\\n    </ng-template>\\n\\n    <div\\n      class=\\\"image-option\\\"\\n      matTooltip=\\\"Remove\\\"\\n      matTooltipPosition=\\\"below\\\"\\n      (click)=\\\"openImageDeleteModal(deleteImage)\\\"\\n    >\\n      <i class=\\\"fas fa-trash\\\"></i>\\n    </div>\\n\\n    <ng-template #deleteImage>\\n      <div *ngIf=\\\"selectedImages.length === 1\\\">\\n        This image will be deleted from the current project. It will not be\\n        deleted from the Data Depot.\\n      </div>\\n\\n      <div *ngIf=\\\"selectedImages.length > 1\\\">\\n        {{ selectedImages.length }} images will be deleted from the current\\n        project. They will not be deleted from the Data Depot.\\n      </div>\\n\\n      <button\\n        mat-raised-button\\n        color=\\\"primary\\\"\\n        matDialogClose\\n        (click)=\\\"imageDelete()\\\"\\n      >\\n        Delete Image\\n      </button>\\n      <button mat-button matDialogClose>Cancel</button>\\n    </ng-template>\\n\\n    <div\\n      class=\\\"image-option\\\"\\n      matTooltip=\\\"Add To Group\\\"\\n      matTooltipPosition=\\\"below\\\"\\n      (click)=\\\"openImageAddModal(addMoreToGroup)\\\"\\n    >\\n      <i class=\\\"fas fa-plus\\\"></i>\\n    </div>\\n\\n    <ng-template #addMoreToGroup>\\n      <mat-form-field appearance=\\\"fill\\\">\\n        <mat-label>Groups</mat-label>\\n        <mat-select matNativeControl required [(value)]=\\\"groupToAdd\\\">\\n          <mat-option\\n            *ngFor=\\\"let group of groups | keyvalue\\\"\\n            [value]=\\\"group.value\\\"\\n          >\\n            {{ group.key }}\\n          </mat-option>\\n        </mat-select>\\n      </mat-form-field>\\n\\n      <p>\\n        <button\\n          mat-raised-button\\n          color=\\\"primary\\\"\\n          matDialogClose\\n          (click)=\\\"addGroup(groupToAdd)\\\"\\n          [disabled]=\\\"!groupToAdd\\\"\\n        >\\n          Add To Group\\n        </button>\\n        <button mat-button color=\\\"secondary\\\" matDialogClose>Cancel</button>\\n      </p>\\n    </ng-template>\\n  </div>\\n\\n  <div class=\\\"bottom-overlay\\\">\\n    <div\\n      *ngIf=\\\"feature.properties.group && feature.properties.group.length > 0\\\"\\n    >\\n      <div\\n        *ngIf=\\\"feature.properties.group.length < 5; else dotdot\\\"\\n        class=\\\"group-tags\\\"\\n      >\\n        <div\\n          *ngFor=\\\"let group of feature.properties.group\\\"\\n          class=\\\"center\\\"\\n          (mouseover)=\\\"(group.name)\\\"\\n          [matTooltip]=\\\"group.name\\\"\\n          matTooltipPosition=\\\"above\\\"\\n        >\\n          <svg\\n            class=\\\"box\\\"\\n            width=\\\"25px\\\"\\n            height=\\\"75px\\\"\\n            (click)=\\\"deleteFromGroup(feature, group)\\\"\\n          >\\n            <rect\\n              width=\\\"15px\\\"\\n              height=\\\"15px\\\"\\n              x=\\\"5\\\"\\n              y=\\\"30\\\"\\n              [style.fill]=\\\"group.color\\\"\\n            />\\n            <rect\\n              class=\\\"inner-del\\\"\\n              width=\\\"25px\\\"\\n              height=\\\"15px\\\"\\n              rx=\\\"3\\\"\\n              x=\\\"0\\\"\\n              y=\\\"0\\\"\\n              style=\\\"fill: #ffffff\\\"\\n            />\\n            <rect\\n              class=\\\"inner-del\\\"\\n              width=\\\"15px\\\"\\n              height=\\\"5px\\\"\\n              x=\\\"5\\\"\\n              y=\\\"5\\\"\\n              style=\\\"fill: #de6363\\\"\\n            />\\n          </svg>\\n        </div>\\n      </div>\\n\\n      <ng-template #dotdot class=\\\"text\\\">\\n        <div\\n          class=\\\"image-option\\\"\\n          (click)=\\\"openMoreGroupsModal(moreGroupsModal)\\\"\\n        >\\n          <i class=\\\"fas fa-ellipsis-h\\\"></i>\\n        </div>\\n      </ng-template>\\n\\n      <!-- TODO Should close modal once zero groups -->\\n      <ng-template #moreGroupsModal>\\n        <div\\n          style=\\\"display: flex; justify-content: center; align-items: center\\\"\\n        >\\n          <div\\n            *ngFor=\\\"let group of feature.properties.group\\\"\\n            class=\\\"center-temp\\\"\\n            style=\\\"display: flex\\\"\\n            (mouseover)=\\\"(group.name)\\\"\\n            [matTooltip]=\\\"group.name\\\"\\n            matTooltipPosition=\\\"right\\\"\\n          >\\n            <svg\\n              style=\\\"padding: 1\\\"\\n              (click)=\\\"deleteFromGroup(feature, group)\\\"\\n              width=\\\"15px\\\"\\n              height=\\\"15px\\\"\\n            >\\n              <rect width=\\\"15px\\\" height=\\\"15px\\\" [style.fill]=\\\"group.color\\\" />\\n              <rect\\n                class=\\\"inner-del-temp\\\"\\n                width=\\\"8px\\\"\\n                height=\\\"4px\\\"\\n                x=\\\"3.3\\\"\\n                y=\\\"5.5\\\"\\n                style=\\\"fill: #000\\\"\\n              />\\n            </svg>\\n          </div>\\n        </div>\\n      </ng-template>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<div *ngIf=\\\"loaded; else loader\\\" id=\\\"loading-load\\\">\\n  <div *ngIf=\\\"projectsExist; else noProjWarn\\\" id=\\\"gallery-container\\\">\\n    <div *ngIf=\\\"imagesExist; else noImgWarn\\\" id=\\\"gallery-container-container\\\">\\n      <div\\n        [ngClass]=\\\"scrollStatus\\\"\\n        infiniteScroll\\n        [infiniteScrollDistance]=\\\"1\\\"\\n        [infiniteScrollThrottle]=\\\"1500\\\"\\n        (scrolled)=\\\"onScroll()\\\"\\n        class=\\\"img-list-container\\\"\\n        *ngIf=\\\"!showTagger; else tagger\\\"\\n      >\\n        <app-image-box *ngFor=\\\"let feat of featureListScroll\\\" [feature]=\\\"feat\\\">\\n        </app-image-box>\\n      </div>\\n\\n      <ngx-spinner\\n        bdOpacity=\\\"0.9\\\"\\n        bdColor=\\\"\\\"\\n        size=\\\"default\\\"\\n        color=\\\"#3ADB76\\\"\\n        type=\\\"line-scale-pulse-out\\\"\\n        id=\\\"img-spin\\\"\\n        [fullScreen]=\\\"false\\\"\\n      >\\n      </ngx-spinner>\\n      <ng-template #tagger>\\n        <div>\\n          <div class=\\\"imager\\\">\\n            <img class=\\\"view-image\\\" [src]=\\\"getPath()\\\" />\\n          </div>\\n        </div>\\n      </ng-template>\\n      <div *ngIf=\\\"showTagger\\\" class=\\\"side-bar-container\\\">\\n        <app-side-bar></app-side-bar>\\n      </div>\\n    </div>\\n    <ng-template #noImgWarn>\\n      <div id=\\\"no-img\\\">\\n        No images have been imported!<br />Please import images through the\\n        menu.\\n      </div>\\n    </ng-template>\\n  </div>\\n\\n  <ng-template #noProjWarn>\\n    <div id=\\\"no-proj\\\">\\n      No project has been created!<br />Please create a project through the\\n      menu.\\n    </div>\\n  </ng-template>\\n</div>\\n\\n<ng-template #loader>\\n  <div *ngIf=\\\"projectsExist; else createProj\\\" id=\\\"loader\\\">Loading...</div>\\n\\n  <ng-template #createProj>\\n    <div id=\\\"new-proj\\\" (click)=\\\"openCreateProjectModal()\\\">\\n      Start a new project\\n    </div>\\n  </ng-template>\\n</ng-template>\\n\"","export default \"<!-- <div class=\\\"grid-x\\\"> -->\\n\\n<!--   <div class=\\\"top-bar\\\" style=\\\"background-color: black\\\" id=\\\"navbar\\\"> -->\\n\\n<!--\\t<div class=\\\"top-bar-left\\\"> -->\\n<!--\\t  <img src=\\\"assets/logo.svg\\\" width=\\\"30PX\\\"> -->\\n<!--\\t  <span style=\\\"color: white\\\">Taggit</span> -->\\n<!--\\t</div> -->\\n\\n<!--\\t<div class=\\\"top-bar-right\\\"> -->\\n<!--\\t  <div class=\\\"light-blue\\\" *ngIf=\\\"currentUser\\\">{{ currentUser.username }}</div> -->\\n<!--\\t</div> -->\\n\\n<!--   </div> -->\\n\\n<!--   <\\\\!-- <div class=\\\"cell control-bar\\\"> -\\\\-> -->\\n<!--   <\\\\!--\\t<app-control-bar></app-control-bar> -\\\\-> -->\\n<!--   <\\\\!-- </div> -\\\\-> -->\\n<!-- </div> -->\\n\\n<app-control-bar></app-control-bar>\\n<!-- NOTE Router Outlet was here -->\\n<app-image-gallery></app-image-gallery>\\n\\n<!-- NOTE Leaflet was here -->\\n\"","export default \"<div id=\\\"map\\\" style=\\\"min-height: calc(100vh - 67px)\\\"></div>\\n\"","export default \"<h4>Create a new Gallery</h4>\\n<form\\n  [formGroup]=\\\"projCreateForm\\\"\\n  (ngSubmit)=\\\"submit()\\\"\\n  id=\\\"create-project-form\\\"\\n>\\n  <mat-form-field>\\n    <mat-label>Name:</mat-label>\\n    <input matInput type=\\\"text\\\" formControlName=\\\"name\\\" required=\\\"true\\\" />\\n  </mat-form-field>\\n\\n  <mat-form-field>\\n    <mat-label>Description</mat-label>\\n    <textarea matInput formControlName=\\\"description\\\" required=\\\"true\\\"></textarea>\\n  </mat-form-field>\\n\\n  <div class=\\\"button-group small\\\">\\n    <button\\n      mat-raised-button\\n      color=\\\"warn\\\"\\n      class=\\\"button small warning\\\"\\n      type=\\\"button\\\"\\n      (click)=\\\"close()\\\"\\n    >\\n      Close\\n    </button>\\n    <button\\n      mat-raised-button\\n      color=\\\"primary\\\"\\n      class=\\\"button small align-right\\\"\\n      type=\\\"submit\\\"\\n      [disabled]=\\\"!projCreateForm.valid\\\"\\n    >\\n      Submit\\n    </button>\\n  </div>\\n</form>\\n\"","export default \"<h4>Current Gallery</h4>\\n<form\\n  [formGroup]=\\\"projCreateForm\\\"\\n  (ngSubmit)=\\\"update()\\\"\\n  id=\\\"current-project-form\\\"\\n>\\n  <mat-form-field>\\n    <mat-label>Name:</mat-label>\\n    <input\\n      matInput\\n      type=\\\"text\\\"\\n      formControlName=\\\"name\\\"\\n      appearance=\\\"filled\\\"\\n      required=\\\"true\\\"\\n    />\\n  </mat-form-field>\\n\\n  <mat-form-field>\\n    <mat-label>Description</mat-label>\\n    <textarea matInput formControlName=\\\"description\\\" required=\\\"true\\\"></textarea>\\n  </mat-form-field>\\n\\n  <div class=\\\"button-group small\\\">\\n    <button\\n      mat-raised-button\\n      color=\\\"basic\\\"\\n      class=\\\"button small warning\\\"\\n      type=\\\"button\\\"\\n      (click)=\\\"close()\\\"\\n    >\\n      Close\\n    </button>\\n    <button\\n      *ngIf=\\\"activeProject.deletable\\\"\\n      mat-raised-button\\n      color=\\\"warn\\\"\\n      class=\\\"button small warning\\\"\\n      type=\\\"delete\\\"\\n      (click)=\\\"delete()\\\"\\n    >\\n      Delete\\n    </button>\\n    <button\\n      mat-raised-button\\n      color=\\\"primary\\\"\\n      class=\\\"button small align-right\\\"\\n      type=\\\"submit\\\"\\n      [disabled]=\\\"!projCreateForm.valid\\\"\\n    >\\n      Update\\n    </button>\\n  </div>\\n</form>\\n\"","export default \"<h4>Select Files</h4>\\n<small\\n  ><em>\\n    If no folder is selected, the file will be saved in the root of your\\n    selected system.\\n  </em></small\\n>\\n<hr />\\n<select (ngModelChange)=\\\"selectSystem($event)\\\" [(ngModel)]=\\\"selectedSystem\\\">\\n  <option [ngValue]=\\\"myDataSystem\\\">My Data</option>\\n  <option [ngValue]=\\\"communityDataSystem\\\">Community Data</option>\\n  <option [ngValue]=\\\"publishedDataSystem\\\">Published Data</option>\\n  <optgroup label=\\\"My Galleries\\\">\\n    <option *ngFor=\\\"let project of projects\\\" [ngValue]=\\\"project\\\">\\n      {{ project.description }}\\n    </option>\\n  </optgroup>\\n</select>\\n<div\\n  class=\\\"fileslisting\\\"\\n  infiniteScroll\\n  [infiniteScrollDistance]=\\\"2\\\"\\n  [infiniteScrollThrottle]=\\\"100\\\"\\n  [scrollWindow]=\\\"false\\\"\\n  (scrolled)=\\\"getFiles()\\\"\\n>\\n  <div\\n    class=\\\"grid-x file-row\\\"\\n    *ngFor=\\\"let file of filesList\\\"\\n    [ngClass]=\\\"{ selected: selectedFiles.has(file.path) }\\\"\\n  >\\n    <div class=\\\"clickable\\\" (dblclick)=\\\"browse(file)\\\">\\n      <i class=\\\"fas fa-folder\\\" *ngIf=\\\"file.type === 'dir'\\\"></i>\\n      <i class=\\\"far fa-file\\\" *ngIf=\\\"file.type !== 'dir'\\\"></i>\\n      <span> {{ file.name }} </span>\\n    </div>\\n    <div class=\\\"size\\\">\\n      {{ file.length | filesize }}\\n    </div>\\n  </div>\\n  <div class=\\\"grid-x\\\" *ngIf=\\\"inProgress\\\">\\n    <div class=\\\"cell medium-12\\\">\\n      <i class=\\\"fas fa-spin fa-atom\\\"></i>\\n    </div>\\n  </div>\\n</div>\\n\\n<form\\n  [formGroup]=\\\"downloadSelectForm\\\"\\n  (ngSubmit)=\\\"update()\\\"\\n  id=\\\"current-project-form\\\"\\n>\\n  <div>\\n    <small\\n      ><em>\\n        If no filename is specified, it will default to the Gallery ID number.\\n      </em></small\\n    >\\n  </div>\\n\\n  <mat-form-field>\\n    <input\\n      matInput\\n      type=\\\"text\\\"\\n      formControlName=\\\"Name\\\"\\n      appearance=\\\"filled\\\"\\n      required=\\\"false\\\"\\n    />\\n  </mat-form-field>\\n</form>\\n<span class=\\\"radio-box\\\">\\n  <mat-radio-group [(ngModel)]=\\\"fileExtension\\\">\\n    <mat-radio-button value=\\\".csv\\\">.csv</mat-radio-button>\\n    <mat-radio-button value=\\\".json\\\">.json</mat-radio-button>\\n  </mat-radio-group>\\n</span>\\n\\n<div class=\\\"button-group\\\">\\n  <button\\n    mat-raised-button\\n    color=\\\"warn\\\"\\n    class=\\\"button warning\\\"\\n    (click)=\\\"cancel()\\\"\\n  >\\n    Cancel\\n  </button>\\n  <button\\n    mat-raised-button\\n    color=\\\"primary\\\"\\n    class=\\\"button\\\"\\n    (click)=\\\"chooseFiles()\\\"\\n  >\\n    Save\\n  </button>\\n</div>\\n\"","export default \"<h4>Select Files</h4>\\n<small\\n  ><em>\\n    Note: Only files are selectable, not folders. Double click on a folder to\\n    navigate into it.\\n  </em></small\\n>\\n<hr />\\n<select (ngModelChange)=\\\"selectSystem($event)\\\" [(ngModel)]=\\\"selectedSystem\\\">\\n  <option [ngValue]=\\\"myDataSystem\\\">My Data</option>\\n  <option [ngValue]=\\\"communityDataSystem\\\">Community Data</option>\\n  <option [ngValue]=\\\"publishedDataSystem\\\">Published Data</option>\\n  <optgroup label=\\\"My Projects\\\">\\n    <option *ngFor=\\\"let project of projects\\\" [ngValue]=\\\"project\\\">\\n      {{ project.description }}\\n    </option>\\n  </optgroup>\\n</select>\\n\\n<div\\n  class=\\\"fileslisting\\\"\\n  infiniteScroll\\n  [infiniteScrollDistance]=\\\"2\\\"\\n  [infiniteScrollThrottle]=\\\"100\\\"\\n  [scrollWindow]=\\\"false\\\"\\n  (scrolled)=\\\"getFiles()\\\"\\n>\\n  <div class=\\\"clickable\\\" class=\\\"grid-x file-row\\\" (dblclick)=\\\"toRoot()\\\">\\n    <i class=\\\"fas fa-folder\\\"></i>\\n    <span> Home </span>\\n  </div>\\n  <div class=\\\"clickable\\\" class=\\\"grid-x file-row\\\">\\n    <i class=\\\"fas fa-folder-open\\\"></i>\\n    <span class=\\\"lineBreak\\\"> {{ selectedPath }} </span>\\n  </div>\\n  <div *ngIf=\\\"retrievalError\\\" class=\\\"grid-x file-row\\\" class=\\\"error\\\">\\n    Error retrieving files\\n  </div>\\n  <div\\n    class=\\\"grid-x file-row\\\"\\n    *ngFor=\\\"let file of filesList; let fileIndex = index\\\"\\n    [ngClass]=\\\"{ selected: selectedFiles.has(file.path) }\\\"\\n  >\\n    <div\\n      class=\\\"clickable\\\"\\n      (click)=\\\"select($event, file, fileIndex)\\\"\\n      (dblclick)=\\\"browse(file)\\\"\\n    >\\n      <i class=\\\"fas fa-folder\\\" *ngIf=\\\"file.type === 'dir'\\\"></i>\\n      <i class=\\\"far fa-file\\\" *ngIf=\\\"file.type !== 'dir'\\\"></i>\\n      <span> {{ file.name }} </span>\\n    </div>\\n    <div class=\\\"size\\\">\\n      {{ file.length | filesize }}\\n    </div>\\n  </div>\\n  <div class=\\\"grid-x\\\" *ngIf=\\\"inProgress\\\">\\n    <div class=\\\"cell medium-12\\\">\\n      <i class=\\\"fas fa-spin fa-atom\\\"></i>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"button-group\\\">\\n  <button mat-raised-button color=\\\"basic\\\" (click)=\\\"selectAll()\\\">\\n    Select all\\n  </button>\\n  <button\\n    mat-raised-button\\n    color=\\\"warn\\\"\\n    class=\\\"button warning\\\"\\n    (click)=\\\"cancel()\\\"\\n  >\\n    Done\\n  </button>\\n  <button\\n    mat-raised-button\\n    color=\\\"primary\\\"\\n    class=\\\"button\\\"\\n    [disabled]=\\\"!selectedFiles.size\\\"\\n    (click)=\\\"chooseFiles()\\\"\\n  >\\n    Import\\n  </button>\\n</div>\\n\"","export default \"<h4>Share this project</h4>\\n<small\\n  ><em>\\n    People you share your project with will have full ability to edit and delete\\n    this project on Taggit and on HazMapper.\\n  </em></small\\n>\\n\\n<form [formGroup]=\\\"projShareForm\\\" (ngSubmit)=\\\"submit()\\\" id=\\\"share-project-form\\\">\\n  <mat-form-field>\\n    <mat-label>Username:</mat-label>\\n    <input matInput type=\\\"text\\\" formControlName=\\\"name\\\" required=\\\"true\\\" />\\n  </mat-form-field>\\n\\n  <div class=\\\"button-group small\\\">\\n    <button\\n      mat-raised-button\\n      color=\\\"warn\\\"\\n      class=\\\"button small warning\\\"\\n      type=\\\"button\\\"\\n      (click)=\\\"close()\\\"\\n    >\\n      Close\\n    </button>\\n    <button\\n      mat-raised-button\\n      color=\\\"primary\\\"\\n      class=\\\"button small align-right\\\"\\n      type=\\\"submit\\\"\\n      [disabled]=\\\"!projShareForm.valid\\\"\\n    >\\n      Add Member\\n    </button>\\n  </div>\\n\\n  <br />\\n  <h5>Current Users</h5>\\n  <div *ngFor=\\\"let user of projectUsers\\\">\\n    <br />\\n    <mat-card class=\\\"card-container\\\">\\n      <span class=\\\"card-item\\\">\\n        {{ user.username }}\\n      </span>\\n      <span class=\\\"card-buttons\\\">\\n        <button\\n          mat-raised-button\\n          color=\\\"warn\\\"\\n          class=\\\"button small warning\\\"\\n          type=\\\"button\\\"\\n          [disabled]=\\\"onlyOne\\\"\\n          (click)=\\\"delete(user.username)\\\"\\n        >\\n          <i class=\\\"fas fa-trash\\\"></i>\\n        </button>\\n      </span>\\n    </mat-card>\\n  </div>\\n</form>\\n\"","export default \"<p>notfound works!</p>\\n\"","export default \"<div class=\\\"select-group\\\">\\n  <div class=\\\"subitem-title\\\" (click)=\\\"expandPanel()\\\">Groups</div>\\n  <div *ngIf=\\\"showSubitem\\\" class=\\\"subitem group-subitem\\\">\\n    <!-- TODO redundant functionality radio is just for style -->\\n    <form class=\\\"boxed\\\">\\n      <div\\n        *ngFor=\\\"let group of groups | keyvalue\\\"\\n        (click)=\\\"selectGroupForm(group.value)\\\"\\n        class=\\\"box form\\\"\\n      >\\n        <input\\n          type=\\\"radio\\\"\\n          [id]=\\\"group.key\\\"\\n          [value]=\\\"group.key\\\"\\n          name=\\\"skills\\\"\\n          [checked]=\\\"isChecked(group.key)\\\"\\n        />\\n        <label\\n          class=\\\"group-container\\\"\\n          style=\\\"cursor: pointer\\\"\\n          [for]=\\\"group.key\\\"\\n        >\\n          <div class=\\\"name-group\\\">\\n            {{ group.key }}\\n            <svg class=\\\"box\\\" width=\\\"10px\\\" height=\\\"10px\\\">\\n              <rect width=\\\"10px\\\" height=\\\"10px\\\" style=\\\"fill: #ffffff\\\" />\\n              <rect\\n                width=\\\"8px\\\"\\n                height=\\\"8px\\\"\\n                x=\\\"1px\\\"\\n                y=\\\"1px\\\"\\n                [style.fill]=\\\"group.value.color\\\"\\n              />\\n            </svg>\\n          </div>\\n          <div class=\\\"button-group\\\">\\n            <div (click)=\\\"deleteGroup(group.value)\\\">\\n              <i\\n                class=\\\"fas fa-minus\\\"\\n                matTooltip=\\\"Delete\\\"\\n                matTooltipPosition=\\\"below\\\"\\n              >\\n              </i>\\n            </div>\\n            <div (click)=\\\"openRenameModal(renameModal, group.value)\\\">\\n              <i\\n                class=\\\"fas fa-edit\\\"\\n                matTooltip=\\\"Rename\\\"\\n                matTooltipPosition=\\\"below\\\"\\n              >\\n              </i>\\n            </div>\\n            <div (click)=\\\"openIconSelection(iconModal, group.value)\\\">\\n              <span\\n                class=\\\"fa {{ group.value.icon }}\\\"\\n                matTooltip=\\\"icons\\\"\\n                matTooltipPosition=\\\"below\\\"\\n              ></span>\\n            </div>\\n          </div>\\n        </label>\\n      </div>\\n    </form>\\n\\n    <ng-template #renameModal>\\n      <input\\n        matInput\\n        #groupRename\\n        placeholder=\\\"Rename Group\\\"\\n        (keyup.enter)=\\\"renameGroup(groupRename.value)\\\"\\n      />\\n      <br />\\n      <br />\\n      <div class=\\\"button-group\\\">\\n        <button\\n          matDialogClose\\n          color=\\\"primary\\\"\\n          mat-raised-button\\n          (click)=\\\"renameGroup(groupRename.value)\\\"\\n        >\\n          Rename\\n        </button>\\n        <button matDialogClose mat-button>Cancel</button>\\n      </div>\\n    </ng-template>\\n\\n    <ng-template #iconModal>\\n      <div class=\\\"iconDropdown\\\">\\n        <select class=\\\"fa\\\" [(ngModel)]=\\\"selectedIcon\\\">\\n          <option\\n            class=\\\"fa\\\"\\n            *ngFor=\\\"let icon of iconList\\\"\\n            value=\\\"{{ icon.id }}\\\"\\n            [innerHTML]=\\\"icon.unicode\\\"\\n          ></option>\\n        </select>\\n        <br />\\n        <br />\\n        <div class=\\\"button-group\\\">\\n          <button\\n            matDialogClose\\n            color=\\\"primary\\\"\\n            mat-raised-button\\n            (click)=\\\"saveIcon(selectedIcon)\\\"\\n          >\\n            Save\\n          </button>\\n          <button matDialogClose mat-button>Cancel</button>\\n        </div>\\n      </div>\\n    </ng-template>\\n  </div>\\n  <!-- subitem -->\\n</div>\\n<!-- select-group -->\\n\"","export default \"<div class=\\\"asset-list\\\">\\n  <div class=\\\"subitem-title\\\" (click)=\\\"expandPanel()\\\">Image List</div>\\n\\n  <div *ngIf=\\\"showSubitem\\\" class=\\\"subitem asset-subitem\\\">\\n    <div\\n      *ngFor=\\\"let feature of getActiveFeatures()\\\"\\n      (click)=\\\"jumpToImage(feature)\\\"\\n      class=\\\"asset-container\\\"\\n      [ngClass]=\\\"{ highlight: isActiveFeature(feature) }\\\"\\n    >\\n      <div class=\\\"name-group\\\">\\n        {{ getFeaturePath(feature) }}\\n      </div>\\n\\n      <div class=\\\"button-group\\\">\\n        <div (click)=\\\"deleteFeature(feature)\\\">\\n          <i\\n            class=\\\"fas fa-minus\\\"\\n            matTooltip=\\\"Delete\\\"\\n            matTooltipPosition=\\\"above\\\"\\n          >\\n          </i>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<app-select-group></app-select-group>\\n<app-select-image></app-select-image>\\n\\n<app-tag-generator *ngIf=\\\"showTagGenerator; else tagImages\\\"></app-tag-generator>\\n<ng-template #tagImages>\\n  <app-tag-images></app-tag-images>\\n</ng-template>\\n\"","export default \"<div class=\\\"create-prompt\\\">\\n  <div class=\\\"subitem-title\\\" (click)=\\\"expandPanel()\\\">\\n    <span> Create Tag </span>\\n  </div>\\n  <!-- subitem-title -->\\n\\n  <div *ngIf=\\\"showSubitem\\\" class=\\\"subitem\\\">\\n    <form class=\\\"form-type-form\\\">\\n      <div\\n        *ngFor=\\\"let control of enabledControls; let idx = index\\\"\\n        class=\\\"box form\\\"\\n      >\\n        <input\\n          type=\\\"radio\\\"\\n          [id]=\\\"control\\\"\\n          value=\\\"control.toLowerCase()\\\"\\n          name=\\\"form-type\\\"\\n          [checked]=\\\"idx === 0\\\"\\n          (change)=\\\"selectInputForm(control.toLowerCase())\\\"\\n        />\\n        <label\\n          style=\\\"cursor: pointer; margin: 3px; padding: 3px; font-size: 10px\\\"\\n          [for]=\\\"control\\\"\\n          >{{ control }}</label\\n        >\\n      </div>\\n      <!-- form-type-form -->\\n    </form>\\n\\n    <div class=\\\"form-name\\\">\\n      <mat-form-field class=\\\"input-label-group\\\">\\n        <mat-label>Label</mat-label>\\n        <input\\n          matInput\\n          placeholder=\\\"Label\\\"\\n          #labelValue\\n          [(ngModel)]=\\\"labelFilter\\\"\\n          (keyup)=\\\"inputFormLabel($event)\\\"\\n          name=\\\"labelFilter\\\"\\n          class=\\\"tiny\\\"\\n          type=\\\"text\\\"\\n        />\\n      </mat-form-field>\\n\\n      <ng-container *ngIf=\\\"formType != 'text'\\\">\\n        <ng-container *ngIf=\\\"formType == 'color'\\\">\\n          <mat-form-field class=\\\"input-label-group\\\">\\n            <mat-label>Option Color</mat-label>\\n            <input\\n              matInput\\n              #optionColorValue\\n              placeholder=\\\"Option Color\\\"\\n              #labelValue\\n              [(ngModel)]=\\\"optionColorFilter\\\"\\n              (change)=\\\"inputFormColor($event)\\\"\\n              name=\\\"optionColorilter\\\"\\n              class=\\\"tiny\\\"\\n              type=\\\"color\\\"\\n            />\\n          </mat-form-field>\\n        </ng-container>\\n\\n        <mat-form-field class=\\\"input-label-group\\\">\\n          <mat-label>Options</mat-label>\\n          <div class=\\\"input-group\\\">\\n            <input\\n              matInput\\n              #optionValue\\n              class=\\\"input-group-field\\\"\\n              placeholder=\\\"Option\\\"\\n              type=\\\"text\\\"\\n              [(ngModel)]=\\\"optionFilter\\\"\\n              name=\\\"optionFilter\\\"\\n              (keyup.enter)=\\\"\\n                addOptionItem(optionValue.value);\\n                optionValue.value = '';\\n                optionColorValue.value = '';\\n                clearOption();\\n                clearOptionColor()\\n              \\\"\\n            />\\n          </div>\\n          <!-- input-group -->\\n        </mat-form-field>\\n\\n        <div class=\\\"input-group-button\\\">\\n          <button\\n            mat-button\\n            color=\\\"accent\\\"\\n            class=\\\"button\\\"\\n            (click)=\\\"\\n              addOptionItem(optionValue.value);\\n              optionValue.value = '';\\n              clearOption()\\n            \\\"\\n          >\\n            <i class=\\\"fas fa-plus\\\"></i>\\n          </button>\\n        </div>\\n        <!-- input-group-button -->\\n\\n        <ul class=\\\"form-option-container\\\">\\n          <li *ngFor=\\\"let opt of formOptions\\\" class=\\\"list-group\\\">\\n            <div>\\n              {{ opt.label }}\\n              <ng-container *ngIf=\\\"formType == 'color'\\\">\\n                <svg class=\\\"box\\\" width=\\\"10px\\\" height=\\\"10px\\\">\\n                  <rect width=\\\"10px\\\" height=\\\"10px\\\" style=\\\"fill: #ffffff\\\" />\\n                  <rect\\n                    width=\\\"8px\\\"\\n                    height=\\\"8px\\\"\\n                    x=\\\"1px\\\"\\n                    y=\\\"1px\\\"\\n                    [style.fill]=\\\"opt.color\\\"\\n                  />\\n                </svg>\\n              </ng-container>\\n            </div>\\n            <!-- showopt -->\\n            <div class=\\\"button-group\\\">\\n              <div (click)=\\\"deleteOption(opt)\\\">\\n                <i\\n                  class=\\\"fas fa-minus\\\"\\n                  matTooltip=\\\"Delete\\\"\\n                  matTooltipPosition=\\\"above\\\"\\n                  style=\\\"cursor: pointer\\\"\\n                >\\n                </i>\\n              </div>\\n              <!-- delete opt -->\\n\\n              <div (click)=\\\"openRenameOptionModal(renameOptionModal)\\\">\\n                <i\\n                  class=\\\"fas fa-edit\\\"\\n                  style=\\\"cursor: pointer\\\"\\n                  matTooltip=\\\"Rename\\\"\\n                  matTooltipPosition=\\\"above\\\"\\n                >\\n                </i>\\n              </div>\\n\\n              <ng-template #renameOptionModal>\\n                <input matInput #optionRename placeholder=\\\"Rename Option\\\" />\\n                <br />\\n                <br />\\n                <div class=\\\"button-group\\\">\\n                  <button\\n                    matDialogClose\\n                    mat-raised-button\\n                    color=\\\"primary\\\"\\n                    (click)=\\\"renameOption(opt, optionRename.value)\\\"\\n                  >\\n                    Rename\\n                  </button>\\n                  <button matDialogClose mat-button>Cancel</button>\\n                </div>\\n              </ng-template>\\n            </div>\\n            <!-- button group -->\\n          </li>\\n        </ul>\\n      </ng-container>\\n    </div>\\n    <!-- form-name -->\\n\\n    <button mat-raised-button color=\\\"primary\\\" (click)=\\\"addFormItem()\\\">\\n      Save\\n    </button>\\n    <button mat-button color=\\\"primary\\\" (click)=\\\"cancelCreate()\\\">Cancel</button>\\n  </div>\\n  <!-- subitem -->\\n</div>\\n<!-- create-group -->\\n\"","export default \"<div *ngFor=\\\"let opt of form.options\\\" [id]=\\\"form.label\\\" class=\\\"input-group\\\">\\n  <div class=\\\"form-check form-check\\\">\\n    <label class=\\\"form-check-label\\\">\\n      <input\\n        class=\\\"form-check-input\\\"\\n        type=\\\"checkbox\\\"\\n        [checked]=\\\"isChecked(opt)\\\"\\n        id=\\\"inlineCheckbox1\\\"\\n        value=\\\"{{ opt.label }}\\\"\\n        (change)=\\\"selected($event, opt)\\\"\\n      />\\n      {{ opt.label }}\\n    </label>\\n  </div>\\n</div>\\n\"","export default \"<div *ngFor=\\\"let opt of form.options\\\" [id]=\\\"form.label\\\" class=\\\"input-group\\\">\\n  <div class=\\\"form-check form-check\\\">\\n    <label class=\\\"form-check-label\\\">\\n      <input\\n        class=\\\"form-check-input\\\"\\n        [(ngModel)]=\\\"chosenTag\\\"\\n        type=\\\"radio\\\"\\n        id=\\\"inlineCheckbox3\\\"\\n        name=\\\"{{ label }}\\\"\\n        value=\\\"{{ opt.label }}\\\"\\n        (change)=\\\"updateCheckedTag()\\\"\\n      />\\n      {{ opt.label }}\\n\\n      <svg class=\\\"box\\\" width=\\\"10px\\\" height=\\\"10px\\\">\\n        <rect width=\\\"10px\\\" height=\\\"10px\\\" style=\\\"fill: #ffffff\\\" />\\n        <rect\\n          width=\\\"8px\\\"\\n          height=\\\"8px\\\"\\n          x=\\\"1px\\\"\\n          y=\\\"1px\\\"\\n          [style.fill]=\\\"opt.color\\\"\\n        />\\n      </svg>\\n    </label>\\n  </div>\\n</div>\\n\"","export default \"<div>\\n  <select\\n    class=\\\"form-control\\\"\\n    [(ngModel)]=\\\"value\\\"\\n    id=\\\"field.name\\\"\\n    name=\\\"field.name\\\"\\n    (change)=\\\"updateCheckedTag()\\\"\\n  >\\n    <option *ngFor=\\\"let opt of field\\\" [value]=\\\"opt.label\\\">\\n      {{ opt.label }}\\n    </option>\\n  </select>\\n</div>\\n\"","export default \"<div class=\\\"form-group row\\\" *ngFor=\\\"let tag of field\\\">\\n  <label class=\\\"col-md-3 form-control-label\\\" [attr.for]=\\\"tag.label\\\">\\n    {{ field.label }}\\n    <strong class=\\\"text-danger\\\" *ngIf=\\\"tag.required\\\">*</strong>\\n  </label>\\n  <div class=\\\"col-md-9\\\" [ngSwitch]=\\\"tag.type\\\">\\n    <app-form-color\\n      *ngSwitchCase=\\\"'color'\\\"\\n      [field]=\\\"field\\\"\\n      [form]=\\\"form\\\"\\n    ></app-form-color>\\n    <app-form-textbox\\n      *ngSwitchCase=\\\"'text'\\\"\\n      [field]=\\\"field\\\"\\n      [form]=\\\"form\\\"\\n    ></app-form-textbox>\\n    <app-form-dropdown\\n      *ngSwitchCase=\\\"'dropdown'\\\"\\n      [field]=\\\"field\\\"\\n      [form]=\\\"form\\\"\\n    ></app-form-dropdown>\\n    <app-form-checkbox\\n      *ngSwitchCase=\\\"'checkbox'\\\"\\n      [field]=\\\"field\\\"\\n      [form]=\\\"form\\\"\\n    ></app-form-checkbox>\\n    <app-form-radio\\n      *ngSwitchCase=\\\"'radio'\\\"\\n      [field]=\\\"field\\\"\\n      [form]=\\\"form\\\"\\n    ></app-form-radio>\\n  </div>\\n</div>\\n\"","export default \"<div [formGroup]=\\\"form\\\">\\n  <div\\n    *ngIf=\\\"!field.value\\\"\\n    class=\\\"drop-container dropzone\\\"\\n    dropZone\\n    (hovered)=\\\"toggleHover($event)\\\"\\n    (dropped)=\\\"field.onUpload($event)\\\"\\n    [class.hovering]=\\\"isHovering\\\"\\n  >\\n    <p class=\\\"m-0\\\">\\n      Drag a file here or\\n      <label class=\\\"upload-button\\\">\\n        <input\\n          type=\\\"file\\\"\\n          multiple=\\\"\\\"\\n          (change)=\\\"field.onUpload($event.target.files)\\\"\\n        />\\n        browse\\n      </label>\\n      to upload.\\n    </p>\\n  </div>\\n  <div *ngIf=\\\"field.value\\\">\\n    <!-- <button type=\\\"button\\\" class=\\\"btn btn-primary\\\">Change</button> -->\\n    <div class=\\\"card\\\">\\n      <img class=\\\"card-img-top\\\" [src]=\\\"field.value\\\" />\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<div *ngFor=\\\"let opt of form.options\\\" [id]=\\\"form.label\\\" class=\\\"input-group\\\">\\n  <div class=\\\"form-check form-check\\\">\\n    <label class=\\\"form-check-label\\\">\\n      <input\\n        class=\\\"form-check-input\\\"\\n        [(ngModel)]=\\\"value\\\"\\n        type=\\\"radio\\\"\\n        id=\\\"inlineCheckbox2\\\"\\n        name=\\\"{{ label }}\\\"\\n        value=\\\"{{ opt.label }}\\\"\\n        (change)=\\\"updateCheckedTag()\\\"\\n      />\\n      {{ opt.label }}\\n    </label>\\n  </div>\\n</div>\\n\"","export default \"<div>\\n  <textarea\\n    [id]=\\\"field.name\\\"\\n    rows=\\\"9\\\"\\n    class=\\\"form-control\\\"\\n    [placeholder]=\\\"'notes'\\\"\\n    [(ngModel)]=\\\"value\\\"\\n    (keyup)=\\\"updateValue()\\\"\\n  ></textarea>\\n</div>\\n\"","export default \"<div>\\n  <div [ngSwitch]=\\\"form.type\\\" class=\\\"form-controls\\\">\\n    <ng-container *ngSwitchCase=\\\"'text'\\\">\\n      <app-form-textbox\\n        (formValue)=\\\"setValue($event)\\\"\\n        [field]=\\\"form.options\\\"\\n        [form]=\\\"form\\\"\\n      ></app-form-textbox>\\n    </ng-container>\\n\\n    <ng-container *ngSwitchCase=\\\"'dropdown'\\\">\\n      <app-form-dropdown\\n        (formValue)=\\\"setValue($event)\\\"\\n        [field]=\\\"form.options\\\"\\n        [form]=\\\"form\\\"\\n      ></app-form-dropdown>\\n    </ng-container>\\n\\n    <ng-container *ngSwitchCase=\\\"'radio'\\\">\\n      <app-form-radio\\n        (formValue)=\\\"setValue($event)\\\"\\n        [field]=\\\"opt\\\"\\n        [form]=\\\"form\\\"\\n        label=\\\"{{ form.label }}\\\"\\n      ></app-form-radio>\\n    </ng-container>\\n\\n    <ng-container *ngSwitchCase=\\\"'checkbox'\\\">\\n      <app-form-checkbox\\n        (formValue)=\\\"setValue($event)\\\"\\n        [form]=\\\"form\\\"\\n      ></app-form-checkbox>\\n    </ng-container>\\n\\n    <ng-container *ngSwitchCase=\\\"'color'\\\">\\n      <app-form-color\\n        (formValue)=\\\"setValue($event)\\\"\\n        [field]=\\\"opt\\\"\\n        [form]=\\\"form\\\"\\n        label=\\\"{{ form.label }}\\\"\\n        [color]=\\\"colorArray[form.options.indexOf(opt)]\\\"\\n      ></app-form-color>\\n    </ng-container>\\n  </div>\\n</div>\\n\"","export default \"<div class=\\\"tag-forms\\\">\\n  <div class=\\\"subitem-title\\\" (click)=\\\"expandPanel()\\\">\\n    <span> Tag Images </span>\\n    <span>\\n      <span\\n        style=\\\"cursor: pointer\\\"\\n        (click)=\\\"showTagGenerator()\\\"\\n        matTooltip=\\\"Add New Tag Form\\\"\\n        style=\\\"cursor: pointer; margin-right: 10px\\\"\\n        matTooltipPosition=\\\"above\\\"\\n      >\\n        <i class=\\\"fas fa-plus\\\"></i>\\n      </span>\\n    </span>\\n  </div>\\n  <!-- subitem-title -->\\n\\n  <div *ngIf=\\\"showSubitem\\\" class=\\\"subitem\\\">\\n    <div class=\\\"subitem-scroll\\\">\\n      <div *ngFor=\\\"let form of formList\\\">\\n        <div class=\\\"form-item-container\\\">\\n          <div class=\\\"name-group\\\">{{ form.label }} ({{ form.type }})</div>\\n          <div class=\\\"button-group\\\">\\n            <div (click)=\\\"deleteForm(form)\\\">\\n              <i\\n                class=\\\"fas fa-minus\\\"\\n                matTooltip=\\\"Delete\\\"\\n                matTooltipPosition=\\\"above\\\"\\n                style=\\\"cursor: pointer\\\"\\n              >\\n              </i>\\n            </div>\\n            <!-- delete button -->\\n\\n            <div (click)=\\\"openRenameOptionModal(renameFormItemModal)\\\">\\n              <i\\n                class=\\\"fas fa-edit\\\"\\n                matTooltip=\\\"Rename\\\"\\n                matTooltipPosition=\\\"above\\\"\\n                style=\\\"cursor: pointer\\\"\\n              >\\n              </i>\\n            </div>\\n\\n            <ng-template #renameFormItemModal>\\n              <input\\n                matInput\\n                #formItemRename\\n                [(ngModel)]=\\\"newTagValue\\\"\\n                value=\\\"{{ form.label }}\\\"\\n                placeholder=\\\"Rename Form Item\\\"\\n                (keyup.enter)=\\\"renameForm(form)\\\"\\n              />\\n              <br />\\n              <br />\\n              <div class=\\\"button-group\\\">\\n                <button\\n                  matDialogClose\\n                  mat-raised-button\\n                  color=\\\"primary\\\"\\n                  (click)=\\\"renameForm(form.label)\\\"\\n                >\\n                  Rename\\n                </button>\\n                <button matDialogClose mat-button>Cancel</button>\\n              </div>\\n            </ng-template>\\n            <!-- rename modal -->\\n          </div>\\n          <!-- button group -->\\n        </div>\\n        <!-- form-item-container -->\\n        <app-form-generator\\n          (newValue)=\\\"setValue($event)\\\"\\n          [form]=\\\"form\\\"\\n        ></app-form-generator>\\n      </div>\\n      <div *ngIf=\\\"formList && formList.length\\\">\\n        <button mat-raised-button color=\\\"primary\\\" (click)=\\\"saveTags()\\\">\\n          Save\\n        </button>\\n      </div>\\n    </div>\\n    <!-- subitem scroll -->\\n  </div>\\n  <!--subitem -->\\n</div>\\n<!-- tag-forms -->\\n\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Injectable, NgModule } from '@angular/core';\nimport {\n  Routes,\n  RouterModule,\n  CanActivate,\n  ActivatedRouteSnapshot,\n  RouterStateSnapshot,\n} from '@angular/router';\nimport { NotFoundComponent } from './components/notfound/notfound.component';\nimport { AuthService } from './services/authentication.service';\nimport { MainComponent } from './components/main/main.component';\nimport { CallbackComponent } from './components/callback/callback.component';\nimport { TagGeneratorComponent } from './components/side-bar/tag-generator/tag-generator.component';\nimport { TagImagesComponent } from './components/side-bar/tag-images/tag-images.component';\n\n@Injectable()\nexport class Activate implements CanActivate {\n  constructor(private authSvc: AuthService) {}\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): boolean {\n    if (this.authSvc.isLoggedIn()) {\n      return true;\n    }\n    this.authSvc.login();\n  }\n}\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MainComponent,\n    canActivate: [Activate],\n    children: [\n      {\n        path: 'tagger',\n        component: TagImagesComponent,\n        canActivateChild: [Activate],\n      },\n      {\n        path: 'preset',\n        component: TagGeneratorComponent,\n        canActivateChild: [Activate],\n      },\n    ],\n  },\n  { path: 'callback', component: CallbackComponent },\n  { path: '404', component: NotFoundComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, { onSameUrlNavigation: 'reload' })],\n  exports: [RouterModule],\n  providers: [Activate],\n})\nexport class AppRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from './services/authentication.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent implements OnInit {\n  title = 'viewer';\n\n  constructor(private authService: AuthService) {}\n\n  ngOnInit() {\n    this.authService.login();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n} from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { AuthService } from './services/authentication.service';\nimport { environment } from '../environments/environment';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n  constructor(private authService: AuthService) {}\n\n  intercept(\n    request: HttpRequest<any>,\n    next: HttpHandler\n  ): Observable<HttpEvent<any>> {\n    return next.handle(request).pipe(\n      catchError((err) => {\n        if (err.status === 401) {\n          // auto logout if 401 response returned from api\n          this.authService.logout();\n          location.reload();\n        }\n\n        const error = err.error.message || err.statusText;\n        return throwError(error);\n      })\n    );\n  }\n}\n\n@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n  constructor(private authSvc: AuthService) {}\n\n  intercept(\n    request: HttpRequest<any>,\n    next: HttpHandler\n  ): Observable<HttpEvent<any>> {\n    if (request.url.indexOf('https://agave.designsafe-ci.org') > -1) {\n      if (this.authSvc.isLoggedIn()) {\n        request = request.clone({\n          setHeaders: {\n            Authorization: 'Bearer ' + this.authSvc.userToken.token,\n          },\n        });\n      }\n    }\n    // we put the JWT on the request to our geoapi API because it is not behind ws02 if in local dev\n    // and if user is logged in\n    if (\n      request.url.indexOf('http://localhost') > -1 &&\n      this.authSvc.isLoggedIn()\n    ) {\n      // add header\n      request = request.clone({\n        setHeaders: {\n          'X-JWT-Assertion-designsafe': environment.jwt,\n        },\n      });\n    }\n\n    return next.handle(request);\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\n// CommonModule for dynamic field\nimport { APP_BASE_HREF, CommonModule } from '@angular/common';\n\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport { ModalModule, BsDropdownModule, AccordionModule } from 'ngx-foundation';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatSelectModule } from '@angular/material/select';\nimport { NgxMasonryModule } from 'ngx-masonry';\nimport { ToastrModule } from 'ngx-toastr';\n\nimport { FileSizeModule } from 'ngx-filesize';\nimport { ApiModule } from 'ng-tapis';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { MapComponent } from './components/map/map.component';\nimport { MainComponent } from './components/main/main.component';\nimport { NotFoundComponent } from './components/notfound/notfound.component';\nimport { ControlBarComponent } from './components/control-bar/control-bar.component';\nimport { AuthService } from './services/authentication.service';\nimport { CallbackComponent } from './components/callback/callback.component';\nimport { AuthInterceptor, TokenInterceptor } from './app.interceptors';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { ModalFileBrowserComponent } from './components/modal-file-browser/modal-file-browser.component';\nimport { environment } from '../environments/environment';\nimport { ImageGalleryComponent } from './components/image-gallery/image-gallery.component';\n// import { TaggerComponent } from './components/tagger/tagger.component';\n// import { PresetGeneratorComponent } from './components/preset-generator/preset-generator.component';\nimport { ImageBoxComponent } from './components/image-box/image-box.component';\nimport { FormGeneratorComponent } from './components/side-bar/tag-images/form-generator/form-generator.component';\nimport { SideBarComponent } from './components/side-bar/side-bar.component';\n// import { ImageListComponent } from './components/image-list/image-list.component';\nimport { SelectGroupComponent } from './components/side-bar/select-group/select-group.component';\nimport { SelectImageComponent } from './components/side-bar/select-image/select-image.component';\nimport { TagGeneratorComponent } from './components/side-bar/tag-generator/tag-generator.component';\nimport { TagImagesComponent } from './components/side-bar/tag-images/tag-images.component';\nimport { ModalCreateProjectComponent } from './components/modal-create-project/modal-create-project.component';\nimport { ModalCurrentProjectComponent } from './components/modal-current-project/modal-current-project.component';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatTreeModule } from '@angular/material/tree';\nimport { MatProgressBar } from '@angular/material';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { ModalDownloadSelectorComponent } from './components/modal-download-selector/modal-download-selector.component';\nimport { FormFieldsComponent } from './components/side-bar/tag-images/form-generator/form-fields/form-fields.component';\nimport { FormCheckBoxComponent } from './components/side-bar/tag-images/form-generator/form-fields/form-checkbox/form-checkbox.component';\nimport { FormDropDownComponent } from './components/side-bar/tag-images/form-generator/form-fields/form-dropdown/form-dropdown.component';\nimport { FormFileComponent } from './components/side-bar/tag-images/form-generator/form-fields/form-file/form-file.component';\nimport { FormRadioComponent } from './components/side-bar/tag-images/form-generator/form-fields/form-radio/form-radio.component';\nimport { FormTextBoxComponent } from './components/side-bar/tag-images/form-generator/form-fields/form-textbox/form-textbox.component';\nimport { FormColorComponent } from './components/side-bar/tag-images/form-generator/form-fields/form-color/form-color.component';\nimport { ModalShareProjectComponent } from './components/modal-share-project/modal-share-project.component';\nimport { MatCardModule } from '@angular/material/card';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MapComponent,\n    NotFoundComponent,\n    MainComponent,\n    ControlBarComponent,\n    CallbackComponent,\n    ModalFileBrowserComponent,\n    ImageGalleryComponent,\n    // TaggerComponent,\n    // PresetGeneratorComponent,\n    ImageBoxComponent,\n    FormGeneratorComponent,\n    SideBarComponent,\n    // ImageListComponent,\n    SelectGroupComponent,\n    SelectImageComponent,\n    TagGeneratorComponent,\n    TagImagesComponent,\n    ModalCreateProjectComponent,\n    ModalCurrentProjectComponent,\n    MatProgressBar,\n    ModalDownloadSelectorComponent,\n    FormFieldsComponent,\n    FormCheckBoxComponent,\n    FormDropDownComponent,\n    FormFileComponent,\n    FormRadioComponent,\n    FormTextBoxComponent,\n    ModalShareProjectComponent,\n    FormColorComponent,\n  ],\n  imports: [\n    // this is for the ng-tapis library\n    ApiModule.forRoot({ rootUrl: 'https://agave.designsafe-ci.org/' }),\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    InfiniteScrollModule,\n    NgxSpinnerModule,\n    NgxMasonryModule,\n    ToastrModule.forRoot(),\n    ModalModule.forRoot(),\n    MatMenuModule,\n    MatToolbarModule,\n    MatButtonModule,\n    MatDialogModule,\n    MatTooltipModule,\n    MatInputModule,\n    MatCheckboxModule,\n    MatSelectModule,\n    MatRadioModule,\n    MatIconModule,\n    AccordionModule.forRoot(),\n    ReactiveFormsModule,\n    FormsModule,\n    FileSizeModule,\n    BsDropdownModule.forRoot(),\n    CommonModule,\n    MatProgressSpinnerModule,\n    ScrollingModule,\n    MatTreeModule,\n    MatSnackBarModule,\n    MatCardModule,\n  ],\n  providers: [\n    AuthService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      multi: true,\n      useClass: AuthInterceptor,\n    },\n    {\n      provide: HTTP_INTERCEPTORS,\n      multi: true,\n      useClass: TokenInterceptor,\n    },\n    {\n      provide: APP_BASE_HREF,\n      useValue: environment.baseHref,\n    },\n  ],\n  bootstrap: [AppComponent],\n  entryComponents: [\n    ModalFileBrowserComponent,\n    ModalDownloadSelectorComponent,\n    ModalCreateProjectComponent,\n    ModalCurrentProjectComponent,\n    ModalShareProjectComponent,\n  ],\n})\nexport class AppModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY2FsbGJhY2svY2FsbGJhY2suY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, NgZone, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, Route } from '@angular/router';\nimport { AuthService } from '../../services/authentication.service';\n\n@Component({\n  selector: 'app-callback',\n  templateUrl: './callback.component.html',\n  styleUrls: ['./callback.component.scss'],\n})\nexport class CallbackComponent implements OnInit {\n  constructor(private route: ActivatedRoute, private auth: AuthService) {}\n\n  ngOnInit() {\n    // TODO: For some reason wso2 is sending back a fragment like #access_token=qadad&expires_in=3600\n    const frag = this.route.snapshot.fragment;\n    const params = new URLSearchParams(frag);\n    const token = params.get('access_token');\n    const expires_in = +params.get('expires_in');\n    this.auth.setToken(token, expires_in);\n  }\n}\n","export default \":host .active-project {\\n  background-color: #1aff8c;\\n}\\n:host .menu button.dropdown.button {\\n  padding: 0.85em 1em;\\n}\\n:host .button.tiny {\\n  margin: 0;\\n}\\n:host .current-project {\\n  padding: 30px;\\n  font-size: 14px;\\n}\\n:host .goods {\\n  height: 27px;\\n  margin: 0px;\\n  padding: 0px;\\n}\\n:host .toggler {\\n  margin-left: 10px;\\n}\\n:host .picker {\\n  display: inline-block;\\n}\\n:host .group-bar {\\n  display: flex;\\n  flex-direction: row;\\n}\\n:host .path-buttons {\\n  text-align: center;\\n}\\n:host .project-menu {\\n  margin-left: 10px;\\n}\\n:host .top-bar {\\n  position: fixed;\\n  margin-top: -50px;\\n  height: 50px;\\n  z-index: 999;\\n}\\n:host .top-bar-right .top-bar-left {\\n  -webkit-box-flex: 0;\\n  flex-wrap: nowrap;\\n  flex: 0 1 auto;\\n  max-width: 100%;\\n}\\n:host .my-button {\\n  border-radius: 5px;\\n  padding: 5px;\\n}\\n:host .button-spacing {\\n  margin-right: 15px;\\n}\\n@media print, screen and (min-width: 40em) {\\n  :host .top-bar {\\n    flex-wrap: nowrap;\\n    flex: 0 1 auto;\\n  }\\n}\\n:host .example-spacer {\\n  flex: 1 1 auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL2NvbnRyb2wtYmFyL2NvbnRyb2wtYmFyLmNvbXBvbmVudC5zY3NzIiwiL1VzZXJzL2lwYXJrL3RhZ2dpdDIuMC9zcmMvdmFyaWFibGVzLnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvY29udHJvbC1iYXIvY29udHJvbC1iYXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZUU7RUFDRSx5QkNiVTtBQ0RkO0FGa0JJO0VBQ0UsbUJBQUE7QUVoQk47QUYyQkU7RUFDRSxTQUFBO0FFekJKO0FGNEJFO0VBQ0UsYUFBQTtFQUNBLGVBQUE7QUUxQko7QUY2QkU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUUzQko7QUY4QkU7RUFDRSxpQkFBQTtBRTVCSjtBRitCRTtFQUNFLHFCQUFBO0FFN0JKO0FGZ0NFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0FFOUJKO0FGaUNFO0VBQ0Usa0JBQUE7QUUvQko7QUZrQ0U7RUFDRSxpQkFBQTtBRWhDSjtBRm1DRTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7RUFPQSxZQUFBO0FFdkNKO0FGMENFO0VBQ0UsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxlQUFBO0FFeENKO0FGMkNFO0VBQ0Usa0JBQUE7RUFDQSxZQUFBO0FFekNKO0FGNENFO0VBQ0Usa0JBQUE7QUUxQ0o7QUY2Q0U7RUFDRTtJQUNFLGlCQUFBO0lBQ0EsY0FBQTtFRTNDSjtBQUNGO0FGOENFO0VBQ0UsY0FBQTtBRTVDSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvY29udHJvbC1iYXIvY29udHJvbC1iYXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcuLi8uLi8uLi92YXJpYWJsZXMuc2Nzcyc7XG5cbjpob3N0IHtcbiAgLy8gcG9zaXRpb246IGZpeGVkO1xuICAvLyBtYXJnaW4tdG9wIDQwcHhcbiAgLy8gZGlzcGxheSBibG9ja1xuICAvLyBmb250LXNpemUgMC44ZW1cbiAgLy8gaGVpZ2h0IDI3cHhcbiAgLy8gdmVydGljYWwtYWxpZ24gY2VudGVyXG4gIC8vIHdpZHRoIDEwMCVcbiAgLy8gei1pbmRleCA5OTlcbiAgLy8gYmFja2dyb3VuZC1jb2xvciAjZmZmXG5cbiAgLy8gTk9URSBsb3QtbGFuLWxhYmVsIHdhcyBoZXJlXG5cbiAgLmFjdGl2ZS1wcm9qZWN0IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkZ3JlZW5BY3RpdmU7XG4gIH1cblxuICAubWVudSB7XG4gICAgYnV0dG9uLmRyb3Bkb3duLmJ1dHRvbiB7XG4gICAgICBwYWRkaW5nOiAwLjg1ZW0gMWVtO1xuICAgIH1cbiAgfVxuXG4gIC8vIC5tZW51LmlzLWRyb3Bkb3duLXN1Ym1lbnUge1xuICAvL1x0ei1pbmRleDogMTAwMDA7XG4gIC8vIH1cblxuICAvLyBOT1RFIHN3aXRjaCB3YXMgaGVyZVxuXG4gIC8vIE5PVEUgdGlueSB3YXMgaGVyZVxuICAuYnV0dG9uLnRpbnkge1xuICAgIG1hcmdpbjogMDtcbiAgfVxuXG4gIC5jdXJyZW50LXByb2plY3Qge1xuICAgIHBhZGRpbmc6IDMwcHg7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICB9XG5cbiAgLmdvb2RzIHtcbiAgICBoZWlnaHQ6IDI3cHg7XG4gICAgbWFyZ2luOiAwcHg7XG4gICAgcGFkZGluZzogMHB4O1xuICB9XG5cbiAgLnRvZ2dsZXIge1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICB9XG5cbiAgLnBpY2tlciB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB9XG5cbiAgLmdyb3VwLWJhciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICB9XG5cbiAgLnBhdGgtYnV0dG9ucyB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbiAgLnByb2plY3QtbWVudSB7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIH1cblxuICAudG9wLWJhciB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIG1hcmdpbi10b3A6IC01MHB4O1xuICAgIGhlaWdodDogNTBweDtcbiAgICAvLyBwYWRkaW5nOiA1cHg7XG4gICAgLy8gcGFkZGluZy1sZWZ0OiAwLjVlbTtcbiAgICAvLyBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgICAvLyBwb3NpdGlvbjogZml4ZWQ7XG4gICAgLy8gLy8gb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAvLyB3aWR0aDogMTAwJTtcbiAgICB6LWluZGV4OiA5OTk7XG4gIH1cblxuICAudG9wLWJhci1yaWdodCAudG9wLWJhci1sZWZ0IHtcbiAgICAtd2Via2l0LWJveC1mbGV4OiAwO1xuICAgIGZsZXgtd3JhcDogbm93cmFwO1xuICAgIGZsZXg6IDAgMSBhdXRvO1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgfVxuXG4gIC5teS1idXR0b24ge1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBwYWRkaW5nOiA1cHg7XG4gIH1cblxuICAuYnV0dG9uLXNwYWNpbmcge1xuICAgIG1hcmdpbi1yaWdodDogMTVweDtcbiAgfVxuXG4gIEBtZWRpYSBwcmludCwgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA0MGVtKSB7XG4gICAgLnRvcC1iYXIge1xuICAgICAgZmxleC13cmFwOiBub3dyYXA7XG4gICAgICBmbGV4OiAwIDEgYXV0bztcbiAgICB9XG4gIH1cblxuICAuZXhhbXBsZS1zcGFjZXIge1xuICAgIGZsZXg6IDEgMSBhdXRvO1xuICB9XG59XG4iLCIkbGlnaHRCbHVlOiAjMGY4M2JkO1xuJGxpZ2h0R3JleTogI2QzZDNkMztcbiRiYWNrZ3JvdW5kSGlnaGxpZ2h0OiAjYjNlNWZmO1xuJGdyZWVuQWN0aXZlOiAjMWFmZjhjO1xuJEFwcE1lZGl1bUJsdWU6ICMyMmM3ZmY7XG4iLCI6aG9zdCAuYWN0aXZlLXByb2plY3Qge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWFmZjhjO1xufVxuOmhvc3QgLm1lbnUgYnV0dG9uLmRyb3Bkb3duLmJ1dHRvbiB7XG4gIHBhZGRpbmc6IDAuODVlbSAxZW07XG59XG46aG9zdCAuYnV0dG9uLnRpbnkge1xuICBtYXJnaW46IDA7XG59XG46aG9zdCAuY3VycmVudC1wcm9qZWN0IHtcbiAgcGFkZGluZzogMzBweDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuOmhvc3QgLmdvb2RzIHtcbiAgaGVpZ2h0OiAyN3B4O1xuICBtYXJnaW46IDBweDtcbiAgcGFkZGluZzogMHB4O1xufVxuOmhvc3QgLnRvZ2dsZXIge1xuICBtYXJnaW4tbGVmdDogMTBweDtcbn1cbjpob3N0IC5waWNrZXIge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG46aG9zdCAuZ3JvdXAtYmFyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbn1cbjpob3N0IC5wYXRoLWJ1dHRvbnMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG46aG9zdCAucHJvamVjdC1tZW51IHtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG59XG46aG9zdCAudG9wLWJhciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgbWFyZ2luLXRvcDogLTUwcHg7XG4gIGhlaWdodDogNTBweDtcbiAgei1pbmRleDogOTk5O1xufVxuOmhvc3QgLnRvcC1iYXItcmlnaHQgLnRvcC1iYXItbGVmdCB7XG4gIC13ZWJraXQtYm94LWZsZXg6IDA7XG4gIGZsZXgtd3JhcDogbm93cmFwO1xuICBmbGV4OiAwIDEgYXV0bztcbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuOmhvc3QgLm15LWJ1dHRvbiB7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgcGFkZGluZzogNXB4O1xufVxuOmhvc3QgLmJ1dHRvbi1zcGFjaW5nIHtcbiAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xufVxuQG1lZGlhIHByaW50LCBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQwZW0pIHtcbiAgOmhvc3QgLnRvcC1iYXIge1xuICAgIGZsZXgtd3JhcDogbm93cmFwO1xuICAgIGZsZXg6IDAgMSBhdXRvO1xuICB9XG59XG46aG9zdCAuZXhhbXBsZS1zcGFjZXIge1xuICBmbGV4OiAxIDEgYXV0bztcbn0iXX0= */\"","import {\n  Component,\n  OnInit,\n  Output,\n  TemplateRef,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport { ProjectsService } from '../../services/projects.service';\nimport { Feature, Project, TagGroup } from '../../models/models';\nimport { FeatureCollection } from 'geojson';\nimport { GeoDataService } from '../../services/geo-data.service';\nimport { LatLng } from 'leaflet';\nimport { skip, startWith } from 'rxjs/operators';\nimport { BsModalRef, BsModalService } from 'ngx-foundation';\nimport { ModalFileBrowserComponent } from '../modal-file-browser/modal-file-browser.component';\nimport { ModalDownloadSelectorComponent } from '../modal-download-selector/modal-download-selector.component';\nimport { ModalCreateProjectComponent } from '../modal-create-project/modal-create-project.component';\nimport { ModalShareProjectComponent } from '../modal-share-project/modal-share-project.component';\nimport { interval, Observable, Subscription, combineLatest } from 'rxjs';\nimport { RemoteFile } from 'ng-tapis';\nimport { GroupsService } from '../../services/groups.service';\nimport { FormsService } from '../../services/forms.service';\nimport {\n  AuthenticatedUser,\n  AuthService,\n} from '../../services/authentication.service';\nimport { Router } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ModalCurrentProjectComponent } from '../modal-current-project/modal-current-project.component';\nimport { AppEnvironment, environment } from '../../../environments/environment';\nimport { feature } from '@turf/helpers';\nimport { TapisFilesService } from '../../services/tapis-files.service';\nimport { element } from 'protractor';\nimport { consoleTestResultHandler } from 'tslint/lib/test';\nimport { ScrollService } from 'src/app/services/scroll.service';\nimport { NotificationsService } from 'src/app/services/notifications.service';\nimport { FeatureService } from 'src/app/services/feature.service';\n\n@Component({\n  selector: 'app-control-bar',\n  templateUrl: './control-bar.component.html',\n  styleUrls: ['./control-bar.component.scss'],\n})\nexport class ControlBarComponent implements OnInit {\n  public activeFeature: Feature;\n  features: FeatureCollection;\n  featureList: Array<any> = [];\n\n  public currentUser: AuthenticatedUser;\n  public projects: Project[];\n  public selectedProject: Project;\n  public mapMouseLocation: LatLng = new LatLng(0, 0);\n  imageName: string;\n  groupsExist: boolean;\n  groupName: string;\n  showTagger = false;\n  selectedImages: Array<any>;\n  modalRef: BsModalRef;\n  activeGroup: TagGroup;\n  groups: Map<string, TagGroup>;\n  groupsFeatures: Map<string, any>;\n  activeGroupFeatures: any;\n  activeGroupFeaturesRotate: any;\n  activeGroupFeature: any;\n  invalidNameError = false;\n  existingNameError = false;\n  hazmapperLink: string;\n  foundFilePaths = [];\n\n  constructor(\n    private projectsService: ProjectsService,\n    private geoDataService: GeoDataService,\n    private bsModalService: BsModalService,\n    private groupsService: GroupsService,\n    private formsService: FormsService,\n    private authService: AuthService,\n    private readonly cdr: ChangeDetectorRef,\n    private filesService: TapisFilesService,\n    private router: Router,\n    private dialog: MatDialog,\n    private scrollService: ScrollService,\n    private notificationsService: NotificationsService,\n    private featureService: FeatureService\n  ) {}\n\n  ngOnInit() {\n    this.filesService.getState();\n\n    this.featureService.features$.subscribe((fc: FeatureCollection) => {\n      this.features = fc;\n\n      if (this.features != undefined) {\n        this.featureList = fc.features.filter(\n          (feature: Feature) =>\n            feature.assets.length &&\n            feature.initialAsset() &&\n            feature.featureType() === 'image'\n        );\n      }\n    });\n\n    this.geoDataService.groups.subscribe((next) => {\n      this.groups = next;\n      this.groupsExist = next && next.size ? true : false;\n    });\n\n    combineLatest(\n      this.geoDataService.activeGroup,\n      this.geoDataService.groupsFeatures\n    ).subscribe(([grp, grpFts]) => {\n      this.activeGroup = grp;\n      this.groupsFeatures = grpFts;\n      if (grp && grpFts) {\n        this.activeGroupFeatures = grpFts.get(grp.name);\n        if (this.activeGroupFeatures) {\n          this.activeGroupFeaturesRotate = [...this.activeGroupFeatures];\n        }\n      }\n    });\n\n    this.geoDataService.activeGroupFeature.subscribe((next) => {\n      this.activeGroupFeature = next;\n    });\n\n    this.geoDataService.activeFeature.subscribe((next) => {\n      this.activeFeature = next;\n    });\n\n    this.notificationsService.notifications.subscribe((next) => {\n      const hasSuccessNotification = next.some(\n        (note) => note.status === 'success'\n      );\n      const hasFailureNotification = next.some(\n        (note) => note.status === 'error'\n      );\n      if (hasSuccessNotification) {\n        this.geoDataService.getFeatures(this.selectedProject.id);\n      }\n      if (hasFailureNotification) {\n        next.forEach((item) => {\n          // Compiles a list of all necessary files to import via the alt method\n          // The substring from 0 to 16 contains the phrase \"Error importing\", everything after this is the file path\n          if (\n            item.message.substring(0, 16) == 'Error importing ' &&\n            !this.foundFilePaths.some(\n              (filePath) => filePath === item.message.substring(16)\n            )\n          ) {\n            const path = item.message.substring(16);\n            this.geoDataService.uploadNewFeature(\n              this.selectedProject.id,\n              this.createBlankFeature(),\n              path\n            );\n            this.foundFilePaths.push(path);\n          }\n        });\n        this.geoDataService.getFeatures(this.selectedProject.id);\n      }\n    });\n\n    this.authService.currentUser.subscribe((next) => (this.currentUser = next));\n\n    this.projectsService.getProjects();\n    this.projectsService.projects.subscribe((projects) => {\n      this.projects = projects;\n\n      if (this.projects.length) {\n        let lastProj;\n        // try {\n        //   //restores view to the last visited project from local storage\n        //   lastProj = JSON.parse(window.localStorage.getItem('lastProj'));\n        //   // console.log(lastProj);\n        // } catch (error) {\n        //   lastProj = this.projectsService.setActiveProject(this.projects[0]);\n        // }\n\n        lastProj = this.projectsService.setActiveProject(this.projects[0]);\n\n        // If lastProj is null, then there is no project saved, or can be found, default to the first project in the list\n        if (lastProj == 'none' || lastProj == null) {\n          lastProj = this.projects[0];\n        }\n\n        this.projectsService.setActiveProject(lastProj);\n      }\n\n      this.groupsService.selectedImages.subscribe((next) => {\n        this.selectedImages = next;\n      });\n\n      this.groupsService.showTagger.subscribe((next) => {\n        this.showTagger = next;\n      });\n    });\n\n    this.projectsService.activeProject.subscribe((next) => {\n      this.selectedProject = next;\n      this.getDataForProject(this.selectedProject);\n      // retrieves uuid for project, formats result into a link to that Hazmapper map\n      console.log(next.uuid);\n      this.hazmapperLink =\n        'https://hazmapper.tacc.utexas.edu/hazmapper/project/' + next.uuid;\n    });\n\n    this.geoDataService.mapMouseLocation.pipe(skip(1)).subscribe((next) => {\n      this.mapMouseLocation = next;\n    });\n  }\n\n  ngAfterViewChecked() {\n    this.cdr.detectChanges();\n  }\n\n  clearAll() {\n    this.groupsService.unselectAllImages();\n  }\n\n  selectProject(p: Project): void {\n    this.projectsService.setActiveProject(p);\n    this.getDataForProject(p);\n  }\n\n  getDataForProject(p: Project): void {\n    this.geoDataService.getFeatures(p.id);\n    this.geoDataService.getOverlays(p.id);\n    this.geoDataService.getPointClouds(p.id);\n  }\n\n  openFilePicker() {\n    // Refreshes the list of found paths used in importing images without Geo tagging\n    this.foundFilePaths = [];\n    const modal = this.dialog.open(ModalFileBrowserComponent);\n    modal.afterClosed().subscribe((files: Array<RemoteFile>) => {\n      if (files != null) {\n        this.geoDataService.importFileFromTapis(this.selectedProject.id, files);\n      }\n    });\n  }\n\n  // Creates a feature with a long/lat value of 0,0 and no associated image. Used in alternate image inport\n  // I think if we want a placeholder image, we can add it here.\n  createBlankFeature() {\n    const blankFeature: Feature = {\n      type: 'Feature',\n      geometry: {\n        type: 'Point',\n        coordinates: [0, 0],\n      },\n      properties: {},\n    };\n    return blankFeature;\n  }\n\n  openDownloadSelector(fileName: string) {\n    const modal = this.dialog.open(ModalDownloadSelectorComponent);\n    let path: Array<string>;\n    modal.afterClosed().subscribe((passbackData: Array<string>) => {\n      path = passbackData;\n      this.saveFile(path[3] == '.json', true, path[0], path[1], path[2]);\n    });\n  }\n\n  openCreateProjectModal() {\n    this.dialog.open(ModalCreateProjectComponent, {\n      height: '400px',\n      width: '600px',\n    });\n  }\n\n  openShareProjectModal() {\n    this.dialog.open(ModalShareProjectComponent, {\n      height: '400px',\n      width: '600px',\n    });\n  }\n\n  openProjectModal(project) {\n    const modal = this.dialog.open(ModalCurrentProjectComponent, {\n      height: '400px',\n      width: '600px',\n      data: {\n        id: project.id,\n        name: project.name,\n        description: project.description,\n        uuid: project.uuid,\n      },\n    });\n\n    modal.afterClosed().subscribe((passbackData: Array<string>) => {\n      this.projectsService.setActiveProject(this.projects[0]);\n    });\n  }\n\n  addGroup(name: string) {\n    this.groupName = name;\n    if (!name || 0 === name.length) {\n      this.invalidNameError = true;\n      this.existingNameError = false;\n    } else if (this.groups.get(name)) {\n      this.invalidNameError = false;\n      this.existingNameError = true;\n    } else {\n      this.invalidNameError = false;\n      this.existingNameError = false;\n      const newGroup = this.geoDataService.createNewGroup(\n        this.selectedProject.id,\n        this.selectedImages,\n        name\n      );\n      this.dialog.closeAll();\n      this.groupsService.unselectAllImages();\n    }\n  }\n\n  openAddGroupModal(template: TemplateRef<any>) {\n    this.dialog.open(template);\n  }\n\n  toggleTagger() {\n    if (!this.showTagger) {\n      this.scrollService.setScrollRestored(true);\n\n      const [initialGroupName] = this.groupsFeatures.keys();\n      const activeGroupFeatures = this.groupsFeatures.get(initialGroupName);\n      const activeGroup = this.groups.get(initialGroupName);\n      this.geoDataService.setActiveGroup(activeGroup);\n\n      this.groupsService.setShowTagGenerator(false);\n      this.groupsService.unselectAllImages();\n    } else {\n      this.scrollService.setScrollPosition();\n    }\n\n    this.groupsService.toggleTagger();\n  }\n\n  getAssetDisplay() {\n    return this.activeGroupFeature.featureShortPath();\n  }\n\n  otherPath(dir: boolean) {\n    if (dir) {\n      this.activeGroupFeaturesRotate.push(\n        this.activeGroupFeaturesRotate.shift()\n      );\n    } else {\n      this.activeGroupFeaturesRotate.unshift(\n        this.activeGroupFeaturesRotate.pop()\n      );\n    }\n    this.activeGroupFeature = this.activeGroupFeaturesRotate[0];\n    this.geoDataService.setActiveGroupFeature(this.activeGroupFeature);\n  }\n\n  // saves project as a CSV file by first organizing a JSON or a CSV and converting it. Saves to either MyData or local\n  // I apologize in advance for this mess of a function -Ben\n  // This really needs to be split into something like 3 separate functions\n  saveFile(\n    isJSON: Boolean,\n    forExport: Boolean = false,\n    systemID = '',\n    path = '',\n    fileName\n  ) {\n    let CSVHolder = 'FeatureID,longitude,latitude,src';\n    let JSONHolder: String = '';\n    let projID = '';\n    let tagsPresent = true;\n    let headerComplete = false; // If true, then the full csv header info has been compiled\n    let headerTagOptions = 0; // Controls how many tagOption columns are in the final CSV\n\n    this.featureList.forEach((element) => {\n      // Retrieves project ID for building a filename\n      projID = element.project_id;\n\n      // retrieves longitude and latitude values as an array\n      const coordinates = element.geometry.coordinates;\n\n      // creates image source URL from environment and cleans up URL to a usable link\n      let featureSource =\n        environment.apiUrl + '/assets/' + element.assets[0].path;\n      featureSource = featureSource.replace(/([^:])(\\/{2,})/g, '$1/');\n\n      // Grabs group data\n      // Group data can be accessed from the feature, through the properties element\n      // If the image doesn't have a group, a placeholder is given\n      // NOTE: future group properties can be accessed in the same way\n      let group, styles, tag;\n      try {\n        try {\n          group = element.properties.group;\n        } catch {\n          group = [\n            {\n              color: '#000000',\n              name: 'N/A',\n              icon: 'fa-house-damage',\n            },\n          ];\n        }\n\n        try {\n          styles = element.properties.style;\n        } catch {\n          styles = [];\n        }\n\n        try {\n          tag = element.properties.tag;\n        } catch {\n          tag = [];\n        }\n\n        // If groups are present on the data, add header data\n        if (group.length > 0 && !headerComplete) {\n          CSVHolder += ',groupName,groupColor,groupIcon';\n        }\n\n        // Check if the tag var has any data, if so, add new lines to the header\n        if (tag != undefined && tagsPresent && !headerComplete) {\n          // Add a few more lines to the holder to accomodate tags\n          CSVHolder += ',Icon,Color,tagType,tagSelection';\n          tag.forEach((tag) => {\n            let tempTagOptionNum = 0;\n            tag.options.forEach((option) => {\n              tempTagOptionNum++;\n              if (tempTagOptionNum > headerTagOptions) {\n                CSVHolder += ',tagOption';\n                headerTagOptions = tempTagOptionNum;\n              }\n            });\n          });\n          if (!headerComplete) {\n            CSVHolder += '\\r\\n';\n            tagsPresent = false;\n            headerComplete = true;\n          }\n        } else if (!headerComplete) {\n          // If not, indent the last line.\n          CSVHolder += '\\r\\n';\n          headerComplete = true;\n        }\n      } catch (error) {}\n\n      if (isJSON) {\n        // Compile the data it into a JSON\n        JSONHolder +=\n          this.compileJSON(\n            coordinates,\n            element.id,\n            featureSource,\n            group,\n            tag,\n            styles\n          ) + ', \\n';\n      } else {\n        // Compiles the attributes into a CSV format\n        // If there is no groups for the feature, output without group info\n        if (group == undefined) {\n          // Indents CSV header.\n          CSVHolder += '\\r\\n';\n          // Compiles data to a line of a CSV, and adds it to a growing full CSV file\n          // \t\t\t  featureID\t\t\t Longitude\t\t\t\tLatitude\t\t\t   src\n          const tempCSV =\n            element.id +\n            ',' +\n            coordinates[0] +\n            ',' +\n            coordinates[1] +\n            ',' +\n            featureSource +\n            '\\r\\n';\n          CSVHolder += tempCSV;\n        } else {\n          group.forEach((group) => {\n            // If tags exist, try to add each tag to the CSV\n            if (tag != undefined) {\n              try {\n                tag.forEach((tag) => {\n                  // If the tag is in the group, compile a row\n                  // TODO: If a group doesn't have a tag, it doesn't get printed at all\n                  if (true) {\n                    // (tag.groupName === group.name) {\n                    // \t\t\t  featureID\t\t\t Longitude\t\t\t\tLatitude\t\t\t   src\n                    let tempCSV =\n                      element.id +\n                      ',' +\n                      coordinates[0] +\n                      ',' +\n                      coordinates[1] +\n                      ',' +\n                      featureSource +\n                      ',' +\n                      // groupName\t\t\tgroupColor\t\t\tgroupIcon\t\t   Icon\t\t\t\t\t Color\n                      group.name +\n                      ',' +\n                      group.color +\n                      ',' +\n                      group.icon +\n                      ',' +\n                      styles.faIcon +\n                      ',' +\n                      styles.color +\n                      ',' +\n                      // tagType\t\t\ttagOption(This is repeated a lot)\n                      tag.type +\n                      ',' +\n                      tag.extra[0].option;\n                    tag.options.forEach((option) => {\n                      // Save each option in the tag to the CSV\n                      // Adds just the label to the CSV, we can reconstruct the key from that.\n                      tempCSV += ',' + option.label;\n                    });\n                    tempCSV += '\\r\\n';\n                    // And adds it to a growing full CSV file\n                    CSVHolder += tempCSV;\n                  }\n                });\n              } catch {\n                try {\n                  // If the above fails, attempt to construct a line with group data\n                  // \t\t\t  featureID\t\t\t Longitude\t\t\t\tLatitude\t\t\t   src\n                  const tempCSV =\n                    element.id +\n                    ',' +\n                    coordinates[0] +\n                    ',' +\n                    coordinates[1] +\n                    ',' +\n                    featureSource +\n                    ',' +\n                    // groupName\t\t\tgroupColor\t\t\tgroupIcon\n                    group.name +\n                    ',' +\n                    group.color +\n                    ',' +\n                    group.icon +\n                    '\\r\\n';\n                  CSVHolder += tempCSV;\n                } catch (error) {\n                  // If all else fails, It writes no data on an error, so output the groupless data\n                  // \t\t\t  featureID\t\t\t Longitude\t\t\t\tLatitude\t\t\t   src\n                  const tempCSV =\n                    element.id +\n                    ',' +\n                    coordinates[0] +\n                    ',' +\n                    coordinates[1] +\n                    ',' +\n                    featureSource +\n                    '\\r\\n';\n                  CSVHolder += tempCSV;\n                }\n              }\n            } else {\n              // Compiles data to a line of a CSV\n              // \t\t\t  featureID\t\t\t Longitude\t\t\t\tLatitude\t\t\t   src\n              const tempCSV =\n                element.id +\n                ',' +\n                coordinates[0] +\n                ',' +\n                coordinates[1] +\n                ',' +\n                featureSource +\n                ',' +\n                // groupName\t\t\tgroupColor\t\t\tgroupIcon\n                group.name +\n                ',' +\n                group.color +\n                ',' +\n                group.icon +\n                '\\r\\n';\n              // And adds it to a growing full CSV file\n              CSVHolder += tempCSV;\n            }\n          });\n        }\n      }\n    });\n    let content;\n    let extension;\n    // determine whether the file is wanted as a JSON or a CSV\n    if (isJSON) {\n      content = JSONHolder;\n      extension = '.json';\n    } else {\n      content = CSVHolder;\n      extension = '.csv';\n    }\n\n    // If the function is marked for export to Design Safe, route through export, otherwise, download the file\n    if (forExport) {\n      fileName == ''\n        ? (fileName = projID + extension)\n        : (fileName += extension);\n      this.filesService.export(systemID, path, fileName, extension, content);\n    } else {\n      this.download(content, extension, projID);\n    }\n  }\n\n  compileJSON(\n    coordinates,\n    featureID,\n    featureSource: string,\n    groups = [],\n    tags = [],\n    style\n  ) {\n    let compiledJSON = '';\n    let transferJSON;\n\n    // Add the most basic information to the compiled JSON\n    transferJSON = {\n      longitude: coordinates[0],\n      latitude: coordinates[1],\n      src: featureSource,\n    };\n    compiledJSON += JSON.stringify(transferJSON);\n\n    if (groups.length != 0) {\n      groups.forEach((group) => {\n        // At this point, group info should be added,\n        // If tags are set to a default value, there are none present, compile without tag information\n        transferJSON = {\n          groupName: group.name,\n          groupColor: group.color,\n        };\n        compiledJSON += JSON.stringify(transferJSON);\n        if (tags.length > 0) {\n          // Compile a JSON with full tag information\n          tags.forEach((tag) => {\n            if (tag.feature == featureID) {\n              transferJSON = {\n                icon: style.faIcon,\n                'icon color': style.color,\n                'tag name': tag.label,\n                'tag type': tag.type,\n                'tag selection': tag.extra[0].option,\n              };\n              compiledJSON += JSON.stringify(transferJSON);\n            }\n          });\n        }\n      });\n    }\n    // If the above failed, compile the minimum JSON\n    if (compiledJSON == '') {\n      transferJSON = {\n        longitude: coordinates[0],\n        latitude: coordinates[1],\n        src: featureSource,\n      };\n      compiledJSON += JSON.stringify(transferJSON);\n    }\n    return compiledJSON;\n  }\n\n  download(content, extension, projID) {\n    // Creates a download link in typescript through a blob\n    const blob = new Blob(['\\ufeff' + content], {\n      type: 'text/csv;charset=utf-8;',\n    });\n    const download = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    const filename = 'taggit-proj-' + projID;\n\n    // checks if the browser is Safari or otherwise, if so open download in new window\n    // Its a quirk of those browsers that they don't allow same-page downloads\n    if (\n      navigator.userAgent.indexOf('Safari') != -1 &&\n      navigator.userAgent.indexOf('Chrome') == -1\n    ) {\n      download.setAttribute('target', '_blank');\n    }\n    // Sets up the link, and simulates a click\n    download.setAttribute('href', url);\n    download.setAttribute('download', filename + extension);\n    download.style.visibility = 'hidden';\n    document.body.appendChild(download);\n    download.click();\n    document.body.removeChild(download);\n  }\n}\n","export default \":host .img-container {\\n  position: relative;\\n}\\n:host .img-container img {\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n  cursor: default;\\n  width: 100%;\\n  height: 100%;\\n  transition: opacity 0.3s ease;\\n  backface-visibility: hidden;\\n  max-width: 100%;\\n  max-height: 100%;\\n  margin: 0 auto;\\n}\\n:host .top-overlay {\\n  display: flex;\\n  flex-direction: row;\\n  transition: 0.3s ease;\\n  opacity: 0;\\n  position: absolute;\\n  right: 10px;\\n  top: 10px;\\n  cursor: pointer;\\n  text-align: center;\\n}\\n:host .bottom-overlay {\\n  display: flex;\\n  flex-direction: row;\\n  transition: 0.3s ease;\\n  opacity: 1;\\n  position: absolute;\\n  right: 10px;\\n  bottom: 10px;\\n  text-align: center;\\n}\\n:host .img-container:hover img {\\n  opacity: 0.9;\\n}\\n:host .img-container:hover .top-overlay {\\n  opacity: 0.9;\\n}\\n:host .img-container:hover .top-overlay:hover {\\n  opacity: 1;\\n}\\n:host .image-option {\\n  opacity: 0.9;\\n  background-color: white;\\n  display: flex;\\n  color: black;\\n  width: 40px;\\n  height: 30px;\\n  border-radius: 5px;\\n  font-size: 16px;\\n  margin: 3px;\\n  justify-content: center;\\n  align-items: center;\\n}\\n:host .image-option:hover {\\n  opacity: 1;\\n}\\n:host .image-option .fas {\\n  top: 5px;\\n}\\n:host .img-selected {\\n  border: solid #0191ff;\\n  border-width: 5px;\\n}\\n:host .img-unselected {\\n  border: solid #fff;\\n  border-width: 5px;\\n}\\n:host .group-tags {\\n  opacity: 0.9;\\n  background-color: white;\\n  display: flex;\\n  flex-direction: row;\\n  width: auto;\\n  height: 30px;\\n  border-radius: 5px;\\n  padding: 5px;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 999;\\n}\\n:host .center {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  transition: 0.3s ease;\\n  align-items: center;\\n}\\n:host .center .inner-del {\\n  opacity: 0;\\n  transition: 0.3s ease;\\n  cursor: pointer;\\n}\\n:host .center:hover .inner-del {\\n  opacity: 1;\\n}\\n:host .box {\\n  padding: 1px;\\n}\\n.center-temp {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.center-temp .inner-del-temp {\\n  opacity: 0;\\n  transition: 0.3s ease;\\n  cursor: pointer;\\n}\\n.center-temp:hover .inner-del-temp {\\n  opacity: 0.5;\\n}\\n.zoom-content {\\n  display: flex;\\n  flex-direction: column;\\n  max-height: 700px;\\n}\\n.zoom-content .img-container {\\n  overflow-y: scroll;\\n  width: 100%;\\n  height: 100%;\\n  background-color: #e7e7e7;\\n}\\n.zoom-content .img-details {\\n  display: flex;\\n  flex-direction: row;\\n  margin-top: 24px;\\n  background-color: #e7e7e7;\\n  align-items: center;\\n  text-align: center;\\n}\\n.zoom-content .title {\\n  background-color: #ccc;\\n  padding: 5px;\\n}\\n.zoom-content .detail-container {\\n  display: flex;\\n  flex-grow: 1;\\n  flex-direction: column;\\n  padding: 5px;\\n}\\n.zoom-content .detail-contents {\\n  display: flex;\\n  flex-direction: row;\\n  padding: 5px;\\n  background-color: #fff;\\n}\\n.zoom-content .detail-item {\\n  padding: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL2ltYWdlLWJveC9pbWFnZS1ib3guY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvaW1hZ2UtYm94L2ltYWdlLWJveC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLGtCQUFBO0FDQUo7QURLRTtFQUNFLG9CQUFBO0tBQUEsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSw2QkFBQTtFQUNBLDJCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtBQ0hKO0FETUU7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLFVBQUE7RUFDQSxrQkFBQTtFQUVBLFdBQUE7RUFDQSxTQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FDTEo7QURVRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0VBQ0EsVUFBQTtFQUNBLGtCQUFBO0VBRUEsV0FBQTtFQUNBLFlBQUE7RUFFQSxrQkFBQTtBQ1ZKO0FEZUU7RUFDRSxZQUFBO0FDYko7QURnQkU7RUFDRSxZQUFBO0FDZEo7QURpQkU7RUFDRSxVQUFBO0FDZko7QURrQkU7RUFDRSxZQUFBO0VBQ0EsdUJBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUNoQko7QURtQkU7RUFDRSxVQUFBO0FDakJKO0FEb0JFO0VBQ0UsUUFBQTtBQ2xCSjtBRHFCRTtFQUNFLHFCQUFBO0VBQ0EsaUJBQUE7QUNuQko7QURzQkU7RUFDRSxrQkFBQTtFQUNBLGlCQUFBO0FDcEJKO0FEdUJFO0VBQ0UsWUFBQTtFQUNBLHVCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtBQ3JCSjtBRHdCRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EscUJBQUE7RUFFQSxtQkFBQTtBQ3ZCSjtBRHdCSTtFQUNFLFVBQUE7RUFDQSxxQkFBQTtFQUNBLGVBQUE7QUN0Qk47QUQyQkk7RUFDRSxVQUFBO0FDekJOO0FENkJFO0VBQ0UsWUFBQTtBQzNCSjtBRCtCQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBRUEsbUJBQUE7QUM3QkY7QUQ4QkU7RUFDRSxVQUFBO0VBQ0EscUJBQUE7RUFDQSxlQUFBO0FDNUJKO0FEaUNFO0VBQ0UsWUFBQTtBQzlCSjtBRGtDQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGlCQUFBO0FDL0JGO0FEaUNFO0VBQ0Usa0JBQUE7RUFFQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0FDaENKO0FEbUNFO0VBSUUsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUNwQ0o7QUR1Q0U7RUFDRSxzQkFBQTtFQUNBLFlBQUE7QUNyQ0o7QUR3Q0U7RUFDRSxhQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtBQ3RDSjtBRHlDRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtBQ3ZDSjtBRDBDRTtFQUNFLFlBQUE7QUN4Q0oiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2ltYWdlLWJveC9pbWFnZS1ib3guY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIC5pbWctY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgLy8gd2lkdGg6IDEwMCU7XG4gICAgLy8gaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLmltZy1jb250YWluZXIgaW1nIHtcbiAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyBlYXNlO1xuICAgIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgbWF4LWhlaWdodDogMTAwJTtcbiAgICBtYXJnaW46IDAgYXV0bztcbiAgfVxuXG4gIC50b3Atb3ZlcmxheSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIHRyYW5zaXRpb246IDAuM3MgZWFzZTtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAvLyBUT0RPIG1ha2UgaXQgd29yayB3aXRoIHdpbmRvd3MgYW5kIHRyYW5zZm9ybTtcbiAgICByaWdodDogMTBweDtcbiAgICB0b3A6IDEwcHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAvLyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAvLyAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gIH1cblxuICAuYm90dG9tLW92ZXJsYXkge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICB0cmFuc2l0aW9uOiAwLjNzIGVhc2U7XG4gICAgb3BhY2l0eTogMTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgLy8gVE9ETyBtYWtlIGl0IHdvcmsgd2l0aCB3aW5kb3dzIGFuZCB0cmFuc2Zvcm0gKG9yIHBvc3Rjc3MgcHJlZml4KTtcbiAgICByaWdodDogMTBweDtcbiAgICBib3R0b206IDEwcHg7XG4gICAgLy8gY3Vyc29yOiBwb2ludGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAvLyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTs7XG4gICAgLy8gLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOztcbiAgfVxuXG4gIC5pbWctY29udGFpbmVyOmhvdmVyIGltZyB7XG4gICAgb3BhY2l0eTogMC45O1xuICB9XG5cbiAgLmltZy1jb250YWluZXI6aG92ZXIgLnRvcC1vdmVybGF5IHtcbiAgICBvcGFjaXR5OiAwLjk7XG4gIH1cblxuICAuaW1nLWNvbnRhaW5lcjpob3ZlciAudG9wLW92ZXJsYXk6aG92ZXIge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cblxuICAuaW1hZ2Utb3B0aW9uIHtcbiAgICBvcGFjaXR5OiAwLjk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgd2lkdGg6IDQwcHg7XG4gICAgaGVpZ2h0OiAzMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgbWFyZ2luOiAzcHg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgfVxuXG4gIC5pbWFnZS1vcHRpb246aG92ZXIge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cblxuICAuaW1hZ2Utb3B0aW9uIC5mYXMge1xuICAgIHRvcDogNXB4O1xuICB9XG5cbiAgLmltZy1zZWxlY3RlZCB7XG4gICAgYm9yZGVyOiBzb2xpZCAjMDE5MWZmO1xuICAgIGJvcmRlci13aWR0aDogNXB4O1xuICB9XG5cbiAgLmltZy11bnNlbGVjdGVkIHtcbiAgICBib3JkZXI6IHNvbGlkICNmZmY7XG4gICAgYm9yZGVyLXdpZHRoOiA1cHg7XG4gIH1cblxuICAuZ3JvdXAtdGFncyB7XG4gICAgb3BhY2l0eTogMC45O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICB3aWR0aDogYXV0bztcbiAgICBoZWlnaHQ6IDMwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHotaW5kZXg6IDk5OTtcbiAgfVxuXG4gIC5jZW50ZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICB0cmFuc2l0aW9uOiAwLjNzIGVhc2U7XG4gICAgLy8gY3Vyc29yOiBwb2ludGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgLmlubmVyLWRlbCB7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgICAgdHJhbnNpdGlvbjogMC4zcyBlYXNlO1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgfVxuXG4gIC5jZW50ZXI6aG92ZXIge1xuICAgIC5pbm5lci1kZWwge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICB9XG4gIH1cblxuICAuYm94IHtcbiAgICBwYWRkaW5nOiAxcHg7XG4gIH1cbn1cblxuLmNlbnRlci10ZW1wIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIC8vIGN1cnNvcjogcG9pbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgLmlubmVyLWRlbC10ZW1wIHtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHRyYW5zaXRpb246IDAuM3MgZWFzZTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cbn1cblxuLmNlbnRlci10ZW1wOmhvdmVyIHtcbiAgLmlubmVyLWRlbC10ZW1wIHtcbiAgICBvcGFjaXR5OiAwLjU7XG4gIH1cbn1cblxuLnpvb20tY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG1heC1oZWlnaHQ6IDcwMHB4O1xuXG4gIC5pbWctY29udGFpbmVyIHtcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgLy8gb3ZlcmZsb3cteDogaGlkZGVuO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTdlN2U3O1xuICB9XG5cbiAgLmltZy1kZXRhaWxzIHtcbiAgICAvLyB3aWR0aDogMTAwJTtcbiAgICAvLyBoZWlnaHQ6IDEwMCU7XG4gICAgLy8gbWFyZ2luLXJpZ2h0OiAyNHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBtYXJnaW4tdG9wOiAyNHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlN2U3ZTc7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cblxuICAudGl0bGUge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XG4gICAgcGFkZGluZzogNXB4O1xuICB9XG5cbiAgLmRldGFpbC1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1ncm93OiAxO1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgcGFkZGluZzogNXB4O1xuICB9XG5cbiAgLmRldGFpbC1jb250ZW50cyB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIHBhZGRpbmc6IDVweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICB9XG5cbiAgLmRldGFpbC1pdGVtIHtcbiAgICBwYWRkaW5nOiA1cHg7XG4gIH1cbn1cbiIsIjpob3N0IC5pbWctY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuOmhvc3QgLmltZy1jb250YWluZXIgaW1nIHtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG4gIGN1cnNvcjogZGVmYXVsdDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzIGVhc2U7XG4gIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBtYXgtaGVpZ2h0OiAxMDAlO1xuICBtYXJnaW46IDAgYXV0bztcbn1cbjpob3N0IC50b3Atb3ZlcmxheSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIHRyYW5zaXRpb246IDAuM3MgZWFzZTtcbiAgb3BhY2l0eTogMDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMTBweDtcbiAgdG9wOiAxMHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbjpob3N0IC5ib3R0b20tb3ZlcmxheSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIHRyYW5zaXRpb246IDAuM3MgZWFzZTtcbiAgb3BhY2l0eTogMTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMTBweDtcbiAgYm90dG9tOiAxMHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG46aG9zdCAuaW1nLWNvbnRhaW5lcjpob3ZlciBpbWcge1xuICBvcGFjaXR5OiAwLjk7XG59XG46aG9zdCAuaW1nLWNvbnRhaW5lcjpob3ZlciAudG9wLW92ZXJsYXkge1xuICBvcGFjaXR5OiAwLjk7XG59XG46aG9zdCAuaW1nLWNvbnRhaW5lcjpob3ZlciAudG9wLW92ZXJsYXk6aG92ZXIge1xuICBvcGFjaXR5OiAxO1xufVxuOmhvc3QgLmltYWdlLW9wdGlvbiB7XG4gIG9wYWNpdHk6IDAuOTtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGNvbG9yOiBibGFjaztcbiAgd2lkdGg6IDQwcHg7XG4gIGhlaWdodDogMzBweDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIG1hcmdpbjogM3B4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbjpob3N0IC5pbWFnZS1vcHRpb246aG92ZXIge1xuICBvcGFjaXR5OiAxO1xufVxuOmhvc3QgLmltYWdlLW9wdGlvbiAuZmFzIHtcbiAgdG9wOiA1cHg7XG59XG46aG9zdCAuaW1nLXNlbGVjdGVkIHtcbiAgYm9yZGVyOiBzb2xpZCAjMDE5MWZmO1xuICBib3JkZXItd2lkdGg6IDVweDtcbn1cbjpob3N0IC5pbWctdW5zZWxlY3RlZCB7XG4gIGJvcmRlcjogc29saWQgI2ZmZjtcbiAgYm9yZGVyLXdpZHRoOiA1cHg7XG59XG46aG9zdCAuZ3JvdXAtdGFncyB7XG4gIG9wYWNpdHk6IDAuOTtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIHdpZHRoOiBhdXRvO1xuICBoZWlnaHQ6IDMwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgcGFkZGluZzogNXB4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgei1pbmRleDogOTk5O1xufVxuOmhvc3QgLmNlbnRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICB0cmFuc2l0aW9uOiAwLjNzIGVhc2U7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG46aG9zdCAuY2VudGVyIC5pbm5lci1kZWwge1xuICBvcGFjaXR5OiAwO1xuICB0cmFuc2l0aW9uOiAwLjNzIGVhc2U7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbjpob3N0IC5jZW50ZXI6aG92ZXIgLmlubmVyLWRlbCB7XG4gIG9wYWNpdHk6IDE7XG59XG46aG9zdCAuYm94IHtcbiAgcGFkZGluZzogMXB4O1xufVxuXG4uY2VudGVyLXRlbXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbi5jZW50ZXItdGVtcCAuaW5uZXItZGVsLXRlbXAge1xuICBvcGFjaXR5OiAwO1xuICB0cmFuc2l0aW9uOiAwLjNzIGVhc2U7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmNlbnRlci10ZW1wOmhvdmVyIC5pbm5lci1kZWwtdGVtcCB7XG4gIG9wYWNpdHk6IDAuNTtcbn1cblxuLnpvb20tY29udGVudCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIG1heC1oZWlnaHQ6IDcwMHB4O1xufVxuLnpvb20tY29udGVudCAuaW1nLWNvbnRhaW5lciB7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U3ZTdlNztcbn1cbi56b29tLWNvbnRlbnQgLmltZy1kZXRhaWxzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgbWFyZ2luLXRvcDogMjRweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U3ZTdlNztcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLnpvb20tY29udGVudCAudGl0bGUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjO1xuICBwYWRkaW5nOiA1cHg7XG59XG4uem9vbS1jb250ZW50IC5kZXRhaWwtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1ncm93OiAxO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBwYWRkaW5nOiA1cHg7XG59XG4uem9vbS1jb250ZW50IC5kZXRhaWwtY29udGVudHMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBwYWRkaW5nOiA1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG59XG4uem9vbS1jb250ZW50IC5kZXRhaWwtaXRlbSB7XG4gIHBhZGRpbmc6IDVweDtcbn0iXX0= */\"","import { Component, Input, OnInit, TemplateRef } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { BsModalRef } from 'ngx-foundation/modal/bs-modal-ref.service';\nimport { FeatureService } from 'src/app/services/feature.service';\nimport { ScrollService } from 'src/app/services/scroll.service';\nimport { AppEnvironment, environment } from '../../../environments/environment';\nimport { Feature, Project, TagGroup } from '../../models/models';\nimport { GeoDataService } from '../../services/geo-data.service';\nimport { GroupsService } from '../../services/groups.service';\nimport { ProjectsService } from '../../services/projects.service';\n\n@Component({\n  selector: 'app-image-box',\n  templateUrl: './image-box.component.html',\n  styleUrls: ['./image-box.component.scss'],\n})\nexport class ImageBoxComponent implements OnInit {\n  @Input() feature: any;\n  environment: AppEnvironment;\n  featureSource: string;\n  featurePath: string;\n  status = false; // Controls the whether or not an image box is selected or not\n  imageSelected = 'img-unselected'; // Controls the whether or not an image box is selected or not\n  hasGroup = false;\n  colors: Array<string> = [];\n  groups: Map<string, TagGroup>;\n  coordinates: Array<any>;\n  containingGroupList: Array<any>;\n  selectedImages: Array<any>;\n  modalRef: BsModalRef;\n  groupToAdd: TagGroup;\n\n  public activeProject: Project;\n\n  constructor(\n    private geoDataService: GeoDataService,\n    private groupsService: GroupsService,\n    private projectsService: ProjectsService,\n    private dialog: MatDialog,\n    private scrollService: ScrollService,\n    private featureService: FeatureService\n  ) {}\n\n  ngOnInit() {\n    // TODO: put this in models\n    this.environment = environment;\n    let featureSource: string;\n    if (this.feature.assets[0].path != '../../images/Image-not-found.png') {\n      featureSource =\n        this.environment.apiUrl + '/assets/' + this.feature.assets[0].path;\n    } else {\n      featureSource = this.feature.assets[0].path;\n    }\n    featureSource = featureSource.replace(/([^:])(\\/{2,})/g, '$1/');\n    this.featureSource = featureSource;\n    this.coordinates = this.feature.geometry.coordinates;\n\n    this.projectsService.activeProject.subscribe((next) => {\n      this.activeProject = next;\n    });\n\n    this.geoDataService.groups.subscribe((next) => {\n      this.groups = next;\n    });\n\n    this.groupsService.selectedImages.subscribe((next) => {\n      this.selectedImages = next;\n      this.imageSelected = this.groupsService.imageSelected(this.feature)\n        ? 'img-selected'\n        : 'img-unselected';\n    });\n\n    this.featurePath = this.feature.featurePath();\n  }\n\n  imageSelect() {\n    this.groupsService.toggleImageSelect(this.feature);\n  }\n\n  imageZoom(template: TemplateRef<any>) {\n    this.dialog.open(template);\n  }\n\n  imageDelete() {\n    const featureService = this.featureService;\n    this.selectedImages.forEach(function(value) {\n      featureService.deleteFeature(value);\n    });\n    this.groupsService.unselectAllImages();\n    this.scrollService.setScrollRestored(true);\n  }\n\n  openMoreGroupsModal(template: TemplateRef<any>) {\n    this.dialog.open(template);\n  }\n\n  openImageDeleteModal(template: TemplateRef<any>) {\n    this.scrollService.setScrollPosition();\n    this.dialog.open(template);\n  }\n\n  deleteFromGroup(feature: Feature, group: TagGroup) {\n    this.geoDataService.deleteGroupFeatures(\n      this.activeProject.id,\n      [feature],\n      group\n    );\n  }\n\n  openImageAddModal(template: TemplateRef<any>) {\n    this.scrollService.setScrollPosition();\n    this.dialog.open(template);\n  }\n\n  addGroup(group: TagGroup) {\n    this.geoDataService.createGroupFeatures(\n      this.activeProject.id,\n      this.selectedImages,\n      this.groups.get(group.name)\n    );\n    this.groupsService.unselectAllImages();\n    this.scrollService.setScrollRestored(true);\n  }\n}\n","export default \":host .img-list-container {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\\n  grid-gap: 1em;\\n  height: 100%;\\n  padding: 1em;\\n}\\n:host #no-img {\\n  font-size: 32px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 70vh;\\n}\\n:host #no-proj {\\n  font-size: 32px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  height: 70vh;\\n}\\n:host #new-proj {\\n  font-size: 32px;\\n  display: flex;\\n  height: 100vh;\\n  justify-content: center;\\n  align-items: center;\\n}\\n:host app-image-box {\\n  height: 100%;\\n}\\n:host .masonry-item {\\n  width: 200px;\\n}\\n:host img-spin {\\n  position: relative;\\n  bottom: 0px;\\n  left: 0px;\\n  width: 100%;\\n  height: 100px;\\n  background: #fff;\\n}\\n:host load-spin {\\n  position: relative;\\n  width: 100%;\\n  height: 100px;\\n  background: #fff;\\n}\\n:host .side-bar-container {\\n  background-color: #f1f1f1;\\n  position: fixed;\\n  width: 25%;\\n  margin-right: 0px;\\n  height: calc(100vh - 50px);\\n  right: 0;\\n}\\n:host .success {\\n  margin-right: 20%;\\n}\\n:host .danger {\\n  margin-right: 0%;\\n}\\n:host #gallery-container-container {\\n  position: relative;\\n  width: 100%;\\n  height: auto;\\n  text-align: center;\\n  display: flex;\\n  flex-direction: column;\\n  margin-top: 0px;\\n}\\n:host #loading-load {\\n  position: relative;\\n  width: 100%;\\n  height: auto;\\n  text-align: center;\\n  flex-direction: column;\\n  margin-top: 50px;\\n}\\n:host #gallery-container {\\n  position: relative;\\n  width: 100%;\\n  height: auto;\\n  text-align: center;\\n  display: flex;\\n  flex-direction: column;\\n}\\n:host #gallery-container .gallery-image {\\n  height: 100%;\\n  display: inline-flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n:host #gallery-container .gallery-image img {\\n  max-width: 100%;\\n  max-height: 100%;\\n  margin: 0 auto;\\n}\\n:host .imager {\\n  width: 75%;\\n  height: calc(100vh - 50px);\\n  background-color: #fefefe;\\n}\\n:host .view-image {\\n  max-width: 100%;\\n  height: auto;\\n}\\n:host .gallery-btn {\\n  width: 35px;\\n  height: 35px;\\n  background: #000;\\n  color: #fff;\\n  text-align: center;\\n  line-height: 35px;\\n  cursor: pointer;\\n  transition: all 0.4s ease;\\n  font-size: 20px;\\n  box-sizing: border-box;\\n  padding-left: 2px;\\n  position: fixed;\\n  bottom: 10px;\\n}\\n:host .gallery-btn:hover {\\n  background: #222;\\n}\\n:host .gallery-close {\\n  top: 10px;\\n}\\n:host .gallery-close .gallery-next {\\n  right: 10px;\\n}\\n:host .gallery-prev {\\n  right: 50px;\\n}\\n:host .gallery-prev .gallery-next {\\n  bottom: 10px;\\n}\\n@media (min-width: 478px) {\\n  :host .img-list-container img:nth-child(3n):not(last-of-type) {\\n    grid-row-end: span 2;\\n  }\\n}\\n@media (max-width: 768px) {\\n  :host .img-list-container {\\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\\n  }\\n}\\n@media (max-width: 450px) {\\n  :host .img-list-container {\\n    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL2ltYWdlLWdhbGxlcnkvaW1hZ2UtZ2FsbGVyeS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9pbWFnZS1nYWxsZXJ5L2ltYWdlLWdhbGxlcnkuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxhQUFBO0VBQ0EsNERBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7QUNBSjtBREdFO0VBQ0UsZUFBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtBQ0RKO0FES0U7RUFDRSxlQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0FDSEo7QURNRTtFQUNFLGVBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUNKSjtBRE9FO0VBQ0UsWUFBQTtBQ0xKO0FEUUU7RUFDRSxZQUFBO0FDTko7QURTRTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0FDUEo7QURVRTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7RUFDQSxnQkFBQTtBQ1JKO0FEWUU7RUFDRSx5QkFBQTtFQUNBLGVBQUE7RUFDQSxVQUFBO0VBQ0EsaUJBQUE7RUFDQSwwQkFBQTtFQUdBLFFBQUE7QUNaSjtBRGVFO0VBQ0UsaUJBQUE7QUNiSjtBRGdCRTtFQUNFLGdCQUFBO0FDZEo7QURpQkU7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBR0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxlQUFBO0FDakJKO0FEcUJFO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBRUEsc0JBQUE7RUFDQSxnQkFBQTtBQ3BCSjtBRHVCRTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFHQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtBQ3ZCSjtBRDRCRTtFQUNFLFlBQUE7RUFDQSxvQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUMxQko7QUQ2QkU7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxjQUFBO0FDM0JKO0FEOEJFO0VBQ0UsVUFBQTtFQUNBLDBCQUFBO0VBQ0EseUJBQUE7QUM1Qko7QUQrQkU7RUFDRSxlQUFBO0VBQ0EsWUFBQTtBQzdCSjtBRGdDRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFJQSx5QkFBQTtFQUNBLGVBQUE7RUFDQSxzQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7QUM5Qko7QURpQ0U7RUFDRSxnQkFBQTtBQy9CSjtBRGtDRTtFQUNFLFNBQUE7QUNoQ0o7QURtQ0U7RUFDRSxXQUFBO0FDakNKO0FEb0NFO0VBQ0UsV0FBQTtBQ2xDSjtBRHFDRTtFQUNFLFlBQUE7QUNuQ0o7QURzQ0U7RUFDRTtJQUNFLG9CQUFBO0VDcENKO0FBQ0Y7QUR1Q0U7RUFDRTtJQUNFLDJEQUFBO0VDckNKO0FBQ0Y7QUR3Q0U7RUFDRTtJQUNFLDJEQUFBO0VDdENKO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL2ltYWdlLWdhbGxlcnkvaW1hZ2UtZ2FsbGVyeS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgLmltZy1saXN0LWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpbGwsIG1pbm1heCgzMDBweCwgMWZyKSk7XG4gICAgZ3JpZC1nYXA6IDFlbTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgcGFkZGluZzogMWVtO1xuICB9XG5cbiAgI25vLWltZyB7XG4gICAgZm9udC1zaXplOiAzMnB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBoZWlnaHQ6IDcwdmg7XG4gICAgLy8gei1pbmRleDogLTEwO1xuICB9XG5cbiAgI25vLXByb2oge1xuICAgIGZvbnQtc2l6ZTogMzJweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgaGVpZ2h0OiA3MHZoO1xuICB9XG5cbiAgI25ldy1wcm9qIHtcbiAgICBmb250LXNpemU6IDMycHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBoZWlnaHQ6IDEwMHZoO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cblxuICBhcHAtaW1hZ2UtYm94IHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICAubWFzb25yeS1pdGVtIHtcbiAgICB3aWR0aDogMjAwcHg7XG4gIH1cblxuICBpbWctc3BpbiB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGJvdHRvbTogMHB4O1xuICAgIGxlZnQ6IDBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gIH1cblxuICBsb2FkLXNwaW4ge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIGJhY2tncm91bmQ6ICNmZmY7XG4gIH1cblxuICAvLyBNYWtlIG92ZXJmbG93IGZvciB0aGlzIGhpZGRlblxuICAuc2lkZS1iYXItY29udGFpbmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxO1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB3aWR0aDogMjUlO1xuICAgIG1hcmdpbi1yaWdodDogMHB4O1xuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDUwcHgpO1xuICAgIC8vIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XG4gICAgLy8gb3ZlcmZsb3c6IHNjcm9sbDtcbiAgICByaWdodDogMDtcbiAgfVxuXG4gIC5zdWNjZXNzIHtcbiAgICBtYXJnaW4tcmlnaHQ6IDIwJTtcbiAgfVxuXG4gIC5kYW5nZXIge1xuICAgIG1hcmdpbi1yaWdodDogMCU7XG4gIH1cblxuICAjZ2FsbGVyeS1jb250YWluZXItY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICAgIC8vIGJhY2tncm91bmQ6IHJnYmEoMjQwLCAyNDAsIDI0MCwgMC45KTtcbiAgICAvLyB6LWluZGV4OiAtMTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIG1hcmdpbi10b3A6IDBweDtcbiAgICAvLyB6LWluZGV4OiAtMTtcbiAgfVxuXG4gICNsb2FkaW5nLWxvYWQge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IGF1dG87XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIC8vIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBtYXJnaW4tdG9wOiA1MHB4O1xuICB9XG5cbiAgI2dhbGxlcnktY29udGFpbmVyIHtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICAgIC8vIGJhY2tncm91bmQ6IHJnYmEoMjQwLCAyNDAsIDI0MCwgMC45KTtcbiAgICAvLyB6LWluZGV4OiAtMTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIC8vIG1hcmdpbi10b3A6IDUwcHg7XG4gICAgLy8gei1pbmRleDogLTE7XG4gIH1cblxuICAjZ2FsbGVyeS1jb250YWluZXIgLmdhbGxlcnktaW1hZ2Uge1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB9XG5cbiAgI2dhbGxlcnktY29udGFpbmVyIC5nYWxsZXJ5LWltYWdlIGltZyB7XG4gICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gIH1cblxuICAuaW1hZ2VyIHtcbiAgICB3aWR0aDogNzUlO1xuICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDUwcHgpO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZWZlZmU7XG4gIH1cblxuICAudmlldy1pbWFnZSB7XG4gICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogYXV0bztcbiAgfVxuXG4gIC5nYWxsZXJ5LWJ0biB7XG4gICAgd2lkdGg6IDM1cHg7XG4gICAgaGVpZ2h0OiAzNXB4O1xuICAgIGJhY2tncm91bmQ6ICMwMDA7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjRzIGVhc2U7XG4gICAgLW8tdHJhbnNpdGlvbjogYWxsIDAuNHMgZWFzZTtcbiAgICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAwLjRzIGVhc2U7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuNHMgZWFzZTtcbiAgICBmb250LXNpemU6IDIwcHg7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBwYWRkaW5nLWxlZnQ6IDJweDtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgYm90dG9tOiAxMHB4O1xuICB9XG5cbiAgLmdhbGxlcnktYnRuOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiAjMjIyO1xuICB9XG5cbiAgLmdhbGxlcnktY2xvc2Uge1xuICAgIHRvcDogMTBweDtcbiAgfVxuXG4gIC5nYWxsZXJ5LWNsb3NlIC5nYWxsZXJ5LW5leHQge1xuICAgIHJpZ2h0OiAxMHB4O1xuICB9XG5cbiAgLmdhbGxlcnktcHJldiB7XG4gICAgcmlnaHQ6IDUwcHg7XG4gIH1cblxuICAuZ2FsbGVyeS1wcmV2IC5nYWxsZXJ5LW5leHQge1xuICAgIGJvdHRvbTogMTBweDtcbiAgfVxuXG4gIEBtZWRpYSAobWluLXdpZHRoOiA0NzhweCkge1xuICAgIC5pbWctbGlzdC1jb250YWluZXIgaW1nOm50aC1jaGlsZCgzbik6bm90KGxhc3Qtb2YtdHlwZSkge1xuICAgICAgZ3JpZC1yb3ctZW5kOiBzcGFuIDI7XG4gICAgfVxuICB9XG5cbiAgQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gICAgLmltZy1saXN0LWNvbnRhaW5lciB7XG4gICAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDE1MHB4LCAxZnIpKTtcbiAgICB9XG4gIH1cblxuICBAbWVkaWEgKG1heC13aWR0aDogNDUwcHgpIHtcbiAgICAuaW1nLWxpc3QtY29udGFpbmVyIHtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTAwcHgsIDFmcikpO1xuICAgIH1cbiAgfVxufVxuIiwiOmhvc3QgLmltZy1saXN0LWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDMwMHB4LCAxZnIpKTtcbiAgZ3JpZC1nYXA6IDFlbTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBwYWRkaW5nOiAxZW07XG59XG46aG9zdCAjbm8taW1nIHtcbiAgZm9udC1zaXplOiAzMnB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgaGVpZ2h0OiA3MHZoO1xufVxuOmhvc3QgI25vLXByb2oge1xuICBmb250LXNpemU6IDMycHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBoZWlnaHQ6IDcwdmg7XG59XG46aG9zdCAjbmV3LXByb2oge1xuICBmb250LXNpemU6IDMycHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGhlaWdodDogMTAwdmg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuOmhvc3QgYXBwLWltYWdlLWJveCB7XG4gIGhlaWdodDogMTAwJTtcbn1cbjpob3N0IC5tYXNvbnJ5LWl0ZW0ge1xuICB3aWR0aDogMjAwcHg7XG59XG46aG9zdCBpbWctc3BpbiB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYm90dG9tOiAwcHg7XG4gIGxlZnQ6IDBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwcHg7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG59XG46aG9zdCBsb2FkLXNwaW4ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMHB4O1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xufVxuOmhvc3QgLnNpZGUtYmFyLWNvbnRhaW5lciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgd2lkdGg6IDI1JTtcbiAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDUwcHgpO1xuICByaWdodDogMDtcbn1cbjpob3N0IC5zdWNjZXNzIHtcbiAgbWFyZ2luLXJpZ2h0OiAyMCU7XG59XG46aG9zdCAuZGFuZ2VyIHtcbiAgbWFyZ2luLXJpZ2h0OiAwJTtcbn1cbjpob3N0ICNnYWxsZXJ5LWNvbnRhaW5lci1jb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IGF1dG87XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgbWFyZ2luLXRvcDogMHB4O1xufVxuOmhvc3QgI2xvYWRpbmctbG9hZCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogYXV0bztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBtYXJnaW4tdG9wOiA1MHB4O1xufVxuOmhvc3QgI2dhbGxlcnktY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiBhdXRvO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG46aG9zdCAjZ2FsbGVyeS1jb250YWluZXIgLmdhbGxlcnktaW1hZ2Uge1xuICBoZWlnaHQ6IDEwMCU7XG4gIGRpc3BsYXk6IGlubGluZS1mbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbjpob3N0ICNnYWxsZXJ5LWNvbnRhaW5lciAuZ2FsbGVyeS1pbWFnZSBpbWcge1xuICBtYXgtd2lkdGg6IDEwMCU7XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuOmhvc3QgLmltYWdlciB7XG4gIHdpZHRoOiA3NSU7XG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDUwcHgpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVmZWZlO1xufVxuOmhvc3QgLnZpZXctaW1hZ2Uge1xuICBtYXgtd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogYXV0bztcbn1cbjpob3N0IC5nYWxsZXJ5LWJ0biB7XG4gIHdpZHRoOiAzNXB4O1xuICBoZWlnaHQ6IDM1cHg7XG4gIGJhY2tncm91bmQ6ICMwMDA7XG4gIGNvbG9yOiAjZmZmO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGxpbmUtaGVpZ2h0OiAzNXB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIC1tb3otdHJhbnNpdGlvbjogYWxsIDAuNHMgZWFzZTtcbiAgLW8tdHJhbnNpdGlvbjogYWxsIDAuNHMgZWFzZTtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC40cyBlYXNlO1xuICB0cmFuc2l0aW9uOiBhbGwgMC40cyBlYXNlO1xuICBmb250LXNpemU6IDIwcHg7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHBhZGRpbmctbGVmdDogMnB4O1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIGJvdHRvbTogMTBweDtcbn1cbjpob3N0IC5nYWxsZXJ5LWJ0bjpob3ZlciB7XG4gIGJhY2tncm91bmQ6ICMyMjI7XG59XG46aG9zdCAuZ2FsbGVyeS1jbG9zZSB7XG4gIHRvcDogMTBweDtcbn1cbjpob3N0IC5nYWxsZXJ5LWNsb3NlIC5nYWxsZXJ5LW5leHQge1xuICByaWdodDogMTBweDtcbn1cbjpob3N0IC5nYWxsZXJ5LXByZXYge1xuICByaWdodDogNTBweDtcbn1cbjpob3N0IC5nYWxsZXJ5LXByZXYgLmdhbGxlcnktbmV4dCB7XG4gIGJvdHRvbTogMTBweDtcbn1cbkBtZWRpYSAobWluLXdpZHRoOiA0NzhweCkge1xuICA6aG9zdCAuaW1nLWxpc3QtY29udGFpbmVyIGltZzpudGgtY2hpbGQoM24pOm5vdChsYXN0LW9mLXR5cGUpIHtcbiAgICBncmlkLXJvdy1lbmQ6IHNwYW4gMjtcbiAgfVxufVxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIDpob3N0IC5pbWctbGlzdC1jb250YWluZXIge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTUwcHgsIDFmcikpO1xuICB9XG59XG5AbWVkaWEgKG1heC13aWR0aDogNDUwcHgpIHtcbiAgOmhvc3QgLmltZy1saXN0LWNvbnRhaW5lciB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsIG1pbm1heCgxMDBweCwgMWZyKSk7XG4gIH1cbn0iXX0= */\"","import {\n  AfterViewChecked,\n  Component,\n  OnInit,\n  Renderer2,\n  ChangeDetectorRef,\n} from '@angular/core';\nimport { GeoDataService } from '../../services/geo-data.service';\nimport {\n  FeatureAsset,\n  Feature,\n  Project,\n  FeatureCollection,\n  TagGroup,\n} from '../../models/models';\nimport { AppEnvironment, environment } from '../../../environments/environment';\nimport { ProjectsService } from '../../services/projects.service';\nimport { ScrollService } from 'src/app/services/scroll.service';\nimport { GroupsService } from '../../services/groups.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { startWith } from 'rxjs/operators';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ModalCreateProjectComponent } from '../modal-create-project/modal-create-project.component';\nimport { FeatureService } from 'src/app/services/feature.service';\n\n@Component({\n  selector: 'app-image-gallery',\n  templateUrl: './image-gallery.component.html',\n  styleUrls: ['./image-gallery.component.scss'],\n})\nexport class ImageGalleryComponent implements OnInit, AfterViewChecked {\n  environment: AppEnvironment;\n\n  public projects: Project[];\n  groupName: string;\n  showTagger = false;\n  scrolling = false;\n  scrollStatus: string;\n  imagesExist: boolean;\n  projectsExist: boolean;\n  featureList: Array<any> = [];\n  featureListScroll: Array<any>;\n  scrollSum = 15;\n  activeGroup: TagGroup;\n  activeFeature: Feature;\n  activeGroupFeature: Feature;\n  // activeFeatureNum: number;\n  featurePath: string;\n  loaded: boolean;\n  groupsFeatures: Map<string, any>;\n  groups: Map<string, any>;\n\n  constructor(\n    private geoDataService: GeoDataService,\n    private projectsService: ProjectsService,\n    private groupsService: GroupsService,\n    private readonly cdr: ChangeDetectorRef,\n    private renderer: Renderer2,\n    private spinner: NgxSpinnerService,\n    private dialog: MatDialog,\n    private scrollService: ScrollService,\n    private featureService: FeatureService\n  ) {}\n\n  ngAfterViewChecked() {\n    if (this.scrollService.scrollRestored) {\n      this.scrollService.scroll();\n    }\n    this.cdr.detectChanges();\n  }\n\n  ngOnInit() {\n    this.environment = environment;\n\n    this.geoDataService.loaded.subscribe(\n      (e) => {\n        this.loaded = e;\n      },\n      (error) => {\n        this.projectsExist = false;\n      }\n    );\n\n    this.featureService.features$.subscribe((fc: any) => {\n      if (fc) {\n        if (fc.features.length > 0) {\n          this.imagesExist = true;\n          this.featureList = fc.features.filter((feature) => {\n            try {\n              return (\n                feature.initialAsset() && feature.featureType() === 'image'\n              );\n            } catch (error) {\n              // If a feature has no asset, it ends up in this catch\n              console.error(error);\n              // After outputting the error, add an \"image not found\" placeholder,\n              // Allowing users to still select their errored import\n              // Note that this doesn't really work!\n              feature.assets.push({ path: '../../images/Image-not-found.png' });\n              return false;\n            }\n          });\n          this.featureListScroll = this.featureList.slice(0, this.scrollSum);\n        } else {\n          this.imagesExist = false;\n        }\n      }\n    });\n\n    this.projectsService.projects.subscribe((projects) => {\n      this.projects = projects;\n      if (this.projects.length) {\n        this.projectsExist = true;\n      } else {\n        this.projectsExist = false;\n      }\n    });\n\n    this.geoDataService.groupsFeatures.subscribe((next) => {\n      this.groupsFeatures = next;\n    });\n\n    this.geoDataService.groups.subscribe((next) => {\n      this.groups = next;\n    });\n\n    this.geoDataService.activeFeature.subscribe((next) => {\n      if (next) {\n        this.activeFeature = next;\n      }\n    });\n\n    this.geoDataService.activeGroup.subscribe((next: TagGroup) => {\n      this.activeGroup = next;\n    });\n\n    this.geoDataService.activeGroupFeature.subscribe((next) => {\n      this.activeGroupFeature = next;\n    });\n\n    this.geoDataService.groups.subscribe((next) => {\n      this.groups = next;\n    });\n\n    this.groupsService.showTagger.subscribe((next) => {\n      this.showTagger = next;\n      this.scrollStatus = next ? 'success' : 'danger';\n    });\n  }\n\n  getPath() {\n    return (\n      this.environment.apiUrl +\n      '/assets/' +\n      this.activeGroupFeature.assets[0].path.replace(/([^:])(\\/{2,})/g, '$1/')\n    );\n  }\n\n  appendSum() {\n    if (this.featureList.length != 0) {\n      if (this.scrollSum == this.featureList.length) {\n        this.spinner.hide();\n        this.scrolling = false;\n        return;\n      }\n      // If scrollSum is larger than the length of the feature list, curtail it to just be the length\n      if (this.scrollSum > this.featureList.length) {\n        this.scrollSum = this.featureList.length;\n      }\n    }\n    this.featureListScroll = this.featureList.slice(0, this.scrollSum);\n    setTimeout(() => {\n      this.spinner.hide();\n      this.scrolling = false;\n    }, 1300);\n  }\n\n  onScroll() {\n    if (!this.scrolling) {\n      this.spinner.show();\n      this.scrollSum += 10;\n      this.appendSum();\n      this.scrolling = true;\n    }\n  }\n\n  openCreateProjectModal() {\n    this.dialog.open(ModalCreateProjectComponent, {\n      height: '400px',\n      width: '600px',\n    });\n  }\n}\n","export default \":host .top-bar {\\n  height: 40px;\\n  padding: 5px;\\n  padding-left: 0.5em;\\n  flex-wrap: nowrap;\\n  position: fixed;\\n  overflow: hidden;\\n  width: 100%;\\n  z-index: 999;\\n}\\n:host .top-bar-right .top-bar-left {\\n  -webkit-box-flex: 0;\\n  flex-wrap: nowrap;\\n  flex: 0 1 auto;\\n  max-width: 100%;\\n}\\n@media print, screen and (min-width: 40em) {\\n  :host .top-bar {\\n    flex-wrap: nowrap;\\n    flex: 0 1 auto;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL21haW4vbWFpbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9tYWluL21haW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxZQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQ0FKO0FER0U7RUFDRSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLGVBQUE7QUNESjtBRElFO0VBQ0U7SUFDRSxpQkFBQTtJQUNBLGNBQUE7RUNGSjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9tYWluL21haW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIC50b3AtYmFyIHtcbiAgICBoZWlnaHQ6IDQwcHg7XG4gICAgcGFkZGluZzogNXB4O1xuICAgIHBhZGRpbmctbGVmdDogMC41ZW07XG4gICAgZmxleC13cmFwOiBub3dyYXA7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgei1pbmRleDogOTk5O1xuICB9XG5cbiAgLnRvcC1iYXItcmlnaHQgLnRvcC1iYXItbGVmdCB7XG4gICAgLXdlYmtpdC1ib3gtZmxleDogMDtcbiAgICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgICBmbGV4OiAwIDEgYXV0bztcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG4gIH1cblxuICBAbWVkaWEgcHJpbnQsIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNDBlbSkge1xuICAgIC50b3AtYmFyIHtcbiAgICAgIGZsZXgtd3JhcDogbm93cmFwO1xuICAgICAgZmxleDogMCAxIGF1dG87XG4gICAgfVxuICB9XG59XG4iLCI6aG9zdCAudG9wLWJhciB7XG4gIGhlaWdodDogNDBweDtcbiAgcGFkZGluZzogNXB4O1xuICBwYWRkaW5nLWxlZnQ6IDAuNWVtO1xuICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB3aWR0aDogMTAwJTtcbiAgei1pbmRleDogOTk5O1xufVxuOmhvc3QgLnRvcC1iYXItcmlnaHQgLnRvcC1iYXItbGVmdCB7XG4gIC13ZWJraXQtYm94LWZsZXg6IDA7XG4gIGZsZXgtd3JhcDogbm93cmFwO1xuICBmbGV4OiAwIDEgYXV0bztcbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuQG1lZGlhIHByaW50LCBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDQwZW0pIHtcbiAgOmhvc3QgLnRvcC1iYXIge1xuICAgIGZsZXgtd3JhcDogbm93cmFwO1xuICAgIGZsZXg6IDAgMSBhdXRvO1xuICB9XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { GeoDataService } from '../../services/geo-data.service';\nimport { Feature } from '../../models/models';\nimport {\n  AuthenticatedUser,\n  AuthService,\n} from '../../services/authentication.service';\nimport { Observable } from 'rxjs';\nimport { BsModalRef, BsModalService } from 'ngx-foundation';\nimport { ModalFileBrowserComponent } from '../modal-file-browser/modal-file-browser.component';\nimport { RemoteFile } from 'ng-tapis';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss'],\n})\nexport class MainComponent implements OnInit {\n  // public activeFeature: Feature;\n  // public currentUser: AuthenticatedUser;\n\n  constructor(\n    private geoDataService: GeoDataService,\n    private authService: AuthService,\n    private bsModalService: BsModalService\n  ) {}\n\n  ngOnInit() {\n    // this.geoDataService.activeFeature.subscribe( next => {\n    //   this.activeFeature = next;\n    // });\n    // this.authService.currentUser.subscribe(next => this.currentUser = next);\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbWFwL21hcC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport * as L from 'leaflet';\nimport 'leaflet.markercluster';\n\nimport { GeoDataService } from '../../services/geo-data.service';\nimport { createMarker } from '../../utils/leafletUtils';\nimport { Feature } from 'geojson';\nimport { FeatureGroup, ImageOverlay, LatLng, LeafletMouseEvent } from 'leaflet';\nimport * as turf from '@turf/turf';\nimport { AllGeoJSON } from '@turf/helpers';\nimport { filter, skip } from 'rxjs/operators';\nimport { Overlay } from '../../models/models';\nimport { AppEnvironment, environment } from '../../../environments/environment';\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.scss'],\n})\nexport class MapComponent implements OnInit {\n  map: L.Map;\n  mapType = 'normal';\n  activeFeature: Feature;\n  activeOverlay: Overlay;\n  features: FeatureGroup = new FeatureGroup();\n  overlays: Map<number, ImageOverlay>;\n  environment: AppEnvironment;\n\n  constructor(\n    private GeoDataService: GeoDataService,\n    private route: ActivatedRoute\n  ) {\n    // Have to bind these to keep this being this\n    this.featureClickHandler.bind(this);\n    this.mouseEventHandler.bind(this);\n  }\n\n  ngOnInit() {\n    // const mapType: string = this.route.snapshot.queryParamMap.get('mapType');\n    // this.projectId = +this.route.snapshot.paramMap.get(\"projectId\");\n    // this.cluster = this.route.snapshot.queryParamMap.get('mapType');\n    this.environment = environment;\n    this.overlays = new Map();\n    this.map = new L.Map('map', {\n      center: [40, -80],\n      zoom: 9,\n    });\n\n    const baseOSM = L.tileLayer(\n      'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n      {\n        maxZoom: 19,\n        attribution:\n          '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n      }\n    );\n    const satellite = L.tileLayer(\n      'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\n      {\n        attribution:\n          'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community',\n      }\n    );\n    // default to streetmap view;\n    this.map.addLayer(baseOSM);\n\n    this.loadFeatures();\n\n    // Publish the mouse location on the mapMouseLocation stream\n    this.map.on('mousemove', (ev: LeafletMouseEvent) =>\n      this.mouseEventHandler(ev)\n    );\n    this.GeoDataService.activeOverlay.pipe(skip(1)).subscribe((next) => {\n      this.addRemoveOverlay(next);\n    });\n\n    // Listen on the activeFeature stream and zoom map to that feature when it changes\n    this.GeoDataService.activeFeature\n      .pipe(filter((n) => n != null))\n      .subscribe((next) => {\n        this.activeFeature = next;\n        const bbox = turf.bbox(<AllGeoJSON> next);\n        this.map.fitBounds([\n          [bbox[1], bbox[0]],\n          [bbox[3], bbox[2]],\n        ]);\n      });\n\n    // Listen for changes to the basemap\n    this.GeoDataService.basemap.pipe(skip(1)).subscribe((next) => {\n      if (next == 'sat') {\n        this.map.removeLayer(baseOSM);\n        this.map.addLayer(satellite);\n      }\n      if (next == 'roads') {\n        this.map.removeLayer(satellite);\n        this.map.addLayer(baseOSM);\n      }\n    });\n  }\n\n  addRemoveOverlay(ov: Overlay): void {\n    if (this.overlays.has(ov.id)) {\n      this.features.removeLayer(this.overlays.get(ov.id));\n      this.overlays.delete(ov.id);\n    } else {\n      const overlay = L.imageOverlay(\n        environment.apiUrl + '/assets/' + ov.path,\n        [\n          [ov.minLat, ov.minLon],\n          [ov.maxLat, ov.maxLon],\n        ]\n      );\n      this.overlays.set(ov.id, overlay);\n      this.features.addLayer(overlay);\n    }\n    this.map.fitBounds(this.features.getBounds());\n  }\n\n  mouseEventHandler(ev: any): void {\n    this.GeoDataService.mapMouseLocation = ev.latlng;\n  }\n\n  /**\n   * Load Features for a project.\n   */\n  loadFeatures() {\n    const geojsonOptions = {\n      pointToLayer: createMarker,\n    };\n    this.GeoDataService.features.subscribe((collection) => {\n      this.features.clearLayers();\n      const markers = L.markerClusterGroup({\n        iconCreateFunction: (cluster) => {\n          return L.divIcon({\n            html: `<div><b>${cluster.getChildCount()}</b></div>`,\n            className: 'marker-cluster',\n          });\n        },\n      });\n      collection.features.forEach((d) => {\n        const feat = L.geoJSON(d, geojsonOptions);\n        feat.on('click', (ev) => {\n          this.featureClickHandler(ev);\n        });\n\n        if (d.geometry.type == 'Point') {\n          markers.addLayer(feat);\n        } else {\n          this.features.addLayer(feat);\n        }\n      });\n      this.features.addLayer(markers);\n      this.map.addLayer(this.features);\n      try {\n        this.map.fitBounds(this.features.getBounds());\n      } catch (e) {}\n    });\n  }\n\n  /**\n   *\n   * @param ev\n   */\n  featureClickHandler(ev: any): void {\n    const f = ev.layer.feature;\n    this.GeoDataService.activeFeature = f;\n  }\n}\n","export default \":host #create-project-form {\\n  display: flex;\\n  flex-direction: column;\\n  text-align: center;\\n  padding: 5em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL21vZGFsLWNyZWF0ZS1wcm9qZWN0L21vZGFsLWNyZWF0ZS1wcm9qZWN0LmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL21vZGFsLWNyZWF0ZS1wcm9qZWN0L21vZGFsLWNyZWF0ZS1wcm9qZWN0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdFO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FDRkoiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL21vZGFsLWNyZWF0ZS1wcm9qZWN0L21vZGFsLWNyZWF0ZS1wcm9qZWN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vdmFyaWFibGVzLnNjc3MnO1xuXG46aG9zdCB7XG4gICNjcmVhdGUtcHJvamVjdC1mb3JtIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDVlbTtcbiAgfVxufVxuLy8gVE9ETzogRml4IGFubm95aW5nIG1hcmdpbiBmbGFzaFxuLy8gOmhvc3Qge1xuLy8gICBwb3NpdGlvbjoge3RvcDogMjBweH07XG4vLyAgIHdpZHRoOiA0NTBweDtcbi8vICAgaGVpZ2h0OiAyNTBweDtcbi8vICAgbWluLWhlaWdodDogMjBlbTtcbi8vICAgLmZpbGVzbGlzdGluZyB7XG4vL1x0bWluLWhlaWdodDogMTVlbTtcbi8vXHRtYXgtaGVpZ2h0OiAxNWVtO1xuLy9cdG92ZXJmbG93LXk6IHNjcm9sbDtcbi8vICAgfVxuXG4vLyAgIC5maWxlLXJvdyB7XG4vL1x0Ym9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4vL1x0Jjpob3ZlciB7XG4vL1x0ICBib3JkZXI6IDFweCBzb2xpZCAkbGlnaHRHcmV5O1xuLy9cdCAgJi5zZWxlY3RlZCB7XG4vL1x0XHRiYWNrZ3JvdW5kOiAjZDNkM2QzO1xuLy9cdCAgfVxuLy9cdH1cbi8vICAgfVxuXG4vLyB9XG4iLCI6aG9zdCAjY3JlYXRlLXByb2plY3QtZm9ybSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogNWVtO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { BsModalService, BsModalRef } from 'ngx-foundation';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ProjectsService } from '../../services/projects.service';\nimport { Project, ProjectRequest } from '../../models/models';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-modal-create-project',\n  templateUrl: './modal-create-project.component.html',\n  styleUrls: ['./modal-create-project.component.scss'],\n})\nexport class ModalCreateProjectComponent implements OnInit {\n  public readonly onClose: Subject<any> = new Subject<any>();\n\n  projCreateForm: FormGroup;\n\n  constructor(\n    public dialogRef: MatDialogRef<ModalCreateProjectComponent>,\n    private dialog: MatDialog,\n    private projectsService: ProjectsService\n  ) {}\n\n  ngOnInit() {\n    this.projCreateForm = new FormGroup({\n      name: new FormControl(''),\n      description: new FormControl(''),\n    });\n  }\n\n  close(project: Project) {\n    this.dialogRef.close();\n  }\n\n  submit() {\n    // Watch content we can set to false, for our project, we don't need this yet.\n    // Watch content refers to syncing files created in a folder with a hazmapper map\n    // Set observable to true, Hazmapper doesn't let users define that value for some reason.\n    const proj = new Project();\n    const projRqst = new ProjectRequest();\n\n    // Retrieve project name and description\n    proj.description = this.projCreateForm.get('description').value;\n    proj.name = this.projCreateForm.get('name').value;\n\n    projRqst.project = proj;\n\n    this.projectsService.create(projRqst);\n    this.dialogRef.close();\n  }\n}\n","export default \":host #current-project-form {\\n  display: flex;\\n  flex-direction: column;\\n  text-align: center;\\n  padding: 5em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL21vZGFsLWN1cnJlbnQtcHJvamVjdC9tb2RhbC1jdXJyZW50LXByb2plY3QuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvbW9kYWwtY3VycmVudC1wcm9qZWN0L21vZGFsLWN1cnJlbnQtcHJvamVjdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHRTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtBQ0ZKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9tb2RhbC1jdXJyZW50LXByb2plY3QvbW9kYWwtY3VycmVudC1wcm9qZWN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vdmFyaWFibGVzLnNjc3MnO1xuXG46aG9zdCB7XG4gICNjdXJyZW50LXByb2plY3QtZm9ybSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBwYWRkaW5nOiA1ZW07XG4gIH1cbn1cbiIsIjpob3N0ICNjdXJyZW50LXByb2plY3QtZm9ybSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogNWVtO1xufSJdfQ== */\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { BsModalService, BsModalRef } from 'ngx-foundation';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ProjectsService } from '../../services/projects.service';\nimport { Project, ProjectRequest } from '../../models/models';\nimport {\n  MAT_DIALOG_DATA,\n  MatDialog,\n  MatDialogRef,\n} from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-modal-current-project',\n  templateUrl: './modal-current-project.component.html',\n  styleUrls: ['./modal-current-project.component.scss'],\n})\nexport class ModalCurrentProjectComponent implements OnInit {\n  projCreateForm: FormGroup;\n  activeProject: Project;\n\n  constructor(\n    public dialogRef: MatDialogRef<ModalCurrentProjectComponent>,\n    private dialog: MatDialog,\n    private projectsService: ProjectsService,\n    @Inject(MAT_DIALOG_DATA) public projData: any\n  ) {}\n\n  ngOnInit() {\n    this.projectsService.activeProject.subscribe((next) => {\n      this.activeProject = next;\n    });\n\n    this.projCreateForm = new FormGroup({\n      name: new FormControl(this.activeProject.name),\n      description: new FormControl(this.activeProject.description),\n    });\n  }\n\n  close() {\n    this.dialogRef.close();\n  }\n\n  delete() {\n    if (\n      confirm(\n        'Are you sure you want to delete this project? This will also delete it from HazMapper, and anyone this project was shared with.'\n      )\n    ) {\n      this.projectsService.delete(this.activeProject);\n    }\n    this.dialogRef.close();\n  }\n\n  update() {\n    // The project is being properly assembled, but the problem is that the returned project isn't updating.\n    // Do I need more data in my projects?\n    /*\n      export interface Project {\n      description: string;\n      id?: number;\n      name: string;\n      ds_id?: string;\n      title?: string;\n      uuid?: string;\n      public?: boolean;\n      system_file?: string;\n      system_id?: string;\n      system_path?: string;\n      deleting?: boolean;\n      deletingFailed?: boolean;\n    }\n     */\n    const p = new Project();\n    const projRqst = new ProjectRequest();\n\n    p.description = this.projCreateForm.get('description').value;\n    p.name = this.projCreateForm.get('name').value;\n    p.id = this.activeProject.id;\n    p.uuid = this.activeProject.uuid;\n\n    projRqst.project = p;\n\n    this.projectsService.update(projRqst);\n    this.dialogRef.close();\n  }\n}\n","export default \":host {\\n  min-height: 20em;\\n}\\n:host .fileslisting {\\n  height: 20em;\\n  overflow-y: scroll;\\n  padding: 0px 20px;\\n}\\n:host .file-row {\\n  display: flex;\\n  background: #f9f9f9;\\n  border: 1px solid transparent;\\n  user-select: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n}\\n:host .clickable {\\n  flex: 1;\\n  max-width: 20em;\\n}\\n:host .size {\\n  align-items: flex-end;\\n}\\n:host .file-row:hover {\\n  border: 1px solid;\\n}\\n:host .file-row.selected {\\n  background: #d3d3d3;\\n}\\n:host .mat-radio-button ~ .mat-radio-button {\\n  margin-left: 16px;\\n}\\n:host .radio-box {\\n  position: relative;\\n  bottom: 45px;\\n  left: 45%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL21vZGFsLWRvd25sb2FkLXNlbGVjdG9yL21vZGFsLWRvd25sb2FkLXNlbGVjdG9yLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL21vZGFsLWRvd25sb2FkLXNlbGVjdG9yL21vZGFsLWRvd25sb2FkLXNlbGVjdG9yLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7QUNDRjtBREFFO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUNFSjtBREFFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsNkJBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0VBQ0Esc0JBQUE7QUNFSjtBREFFO0VBQ0UsT0FBQTtFQUNBLGVBQUE7QUNFSjtBREFFO0VBQ0UscUJBQUE7QUNFSjtBREFFO0VBQ0UsaUJBQUE7QUNFSjtBREFFO0VBQ0UsbUJBQUE7QUNFSjtBRENFO0VBQ0UsaUJBQUE7QUNDSjtBREVFO0VBQ0Usa0JBQUE7RUFDQSxZQUFBO0VBQ0EsU0FBQTtBQ0FKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9tb2RhbC1kb3dubG9hZC1zZWxlY3Rvci9tb2RhbC1kb3dubG9hZC1zZWxlY3Rvci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgbWluLWhlaWdodDogMjBlbTtcbiAgLmZpbGVzbGlzdGluZyB7XG4gICAgaGVpZ2h0OiAyMGVtO1xuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICBwYWRkaW5nOiAwcHggMjBweDtcbiAgfVxuICAuZmlsZS1yb3cge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYmFja2dyb3VuZDogI2Y5ZjlmOTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xuICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gIH1cbiAgLmNsaWNrYWJsZSB7XG4gICAgZmxleDogMTtcbiAgICBtYXgtd2lkdGg6IDIwZW07XG4gIH1cbiAgLnNpemUge1xuICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgfVxuICAuZmlsZS1yb3c6aG92ZXIge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkO1xuICB9XG4gIC5maWxlLXJvdy5zZWxlY3RlZCB7XG4gICAgYmFja2dyb3VuZDogI2QzZDNkMztcbiAgfVxuXG4gIC5tYXQtcmFkaW8tYnV0dG9uIH4gLm1hdC1yYWRpby1idXR0b24ge1xuICAgIG1hcmdpbi1sZWZ0OiAxNnB4O1xuICB9XG5cbiAgLnJhZGlvLWJveCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGJvdHRvbTogNDVweDtcbiAgICBsZWZ0OiA0NSU7XG4gIH1cbn1cbiIsIjpob3N0IHtcbiAgbWluLWhlaWdodDogMjBlbTtcbn1cbjpob3N0IC5maWxlc2xpc3Rpbmcge1xuICBoZWlnaHQ6IDIwZW07XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgcGFkZGluZzogMHB4IDIwcHg7XG59XG46aG9zdCAuZmlsZS1yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBiYWNrZ3JvdW5kOiAjZjlmOWY5O1xuICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG59XG46aG9zdCAuY2xpY2thYmxlIHtcbiAgZmxleDogMTtcbiAgbWF4LXdpZHRoOiAyMGVtO1xufVxuOmhvc3QgLnNpemUge1xuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG59XG46aG9zdCAuZmlsZS1yb3c6aG92ZXIge1xuICBib3JkZXI6IDFweCBzb2xpZDtcbn1cbjpob3N0IC5maWxlLXJvdy5zZWxlY3RlZCB7XG4gIGJhY2tncm91bmQ6ICNkM2QzZDM7XG59XG46aG9zdCAubWF0LXJhZGlvLWJ1dHRvbiB+IC5tYXQtcmFkaW8tYnV0dG9uIHtcbiAgbWFyZ2luLWxlZnQ6IDE2cHg7XG59XG46aG9zdCAucmFkaW8tYm94IHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBib3R0b206IDQ1cHg7XG4gIGxlZnQ6IDQ1JTtcbn0iXX0= */\"","import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { AgaveSystemsService } from '../../services/agave-systems.service';\nimport {\n  AuthenticatedUser,\n  AuthService,\n} from '../../services/authentication.service';\nimport { RemoteFile } from 'ng-tapis/models/remote-file';\nimport { SystemSummary } from 'ng-tapis';\nimport { TapisFilesService } from '../../services/tapis-files.service';\nimport { BsModalRef } from 'ngx-foundation/modal/bs-modal-ref.service';\nimport { Subject, combineLatest } from 'rxjs';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { take } from 'rxjs/operators';\nimport { FormGroup, FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-modal-download-selector',\n  templateUrl: './modal-download-selector.component.html',\n  styleUrls: ['./modal-download-selector.component.scss'],\n})\nexport class ModalDownloadSelectorComponent implements OnInit {\n  static limit = 200; // Limits maximum amount of files displayed\n\n  @Output() currentPath: EventEmitter<string> = new EventEmitter<string>();\n\n  private downloadSelectForm: FormGroup;\n  private currentUser: AuthenticatedUser;\n  public filesList: Array<RemoteFile> = [];\n  public inProgress = true;\n  public selectedFiles: Map<string, RemoteFile> = new Map();\n  public onClose: Subject<Array<RemoteFile>> = new Subject<Array<RemoteFile>>();\n  public projects: Array<SystemSummary>;\n  private selectedSystem: SystemSummary;\n  public myDataSystem: SystemSummary;\n  public communityDataSystem: SystemSummary;\n  public publishedDataSystem: SystemSummary;\n  public currentDirectory: RemoteFile;\n  public passbackData: Array<string> = ['', '', '', ''];\n  public fileName = 'Custom File Name';\n  public fileExtension = '.csv';\n  private offset: number;\n\n  constructor(\n    private tapisFilesService: TapisFilesService,\n    // private modalRef: BsModalRef,\n    public dialogRef: MatDialogRef<ModalDownloadSelectorComponent>,\n    private dialog: MatDialog,\n    private authService: AuthService,\n    private agaveSystemsService: AgaveSystemsService\n  ) {}\n\n  ngOnInit() {\n    this.downloadSelectForm = new FormGroup({\n      Name: new FormControl(this.fileName),\n      Extension: new FormControl(this.fileExtension),\n    });\n\n    // This finds all the projects, and file systems found from a user\n    this.agaveSystemsService.list();\n\n    // TODO: change those hard coded systemIds to environment vars or some sort of config\n    // wait on the currentUser and systems to resolve\n    combineLatest([\n      this.authService.currentUser,\n      this.agaveSystemsService.systems,\n      this.agaveSystemsService.projects,\n    ])\n      // This little thing helped me fix the problem on calling ngOnInit several times\n      .pipe(take(1))\n      .subscribe(([user, systems, projects]) => {\n        // Uses systems to find the different directories that has the files in\n        this.myDataSystem = systems.find(\n          (sys) => sys.id === 'designsafe.storage.default'\n        );\n        this.communityDataSystem = systems.find(\n          (sys) => sys.id === 'designsafe.storage.community'\n        );\n        this.publishedDataSystem = systems.find(\n          (sys) => sys.id === 'designsafe.storage.published'\n        );\n\n        // This is where they choose which one they start with\n        this.selectedSystem = this.myDataSystem;\n\n        this.projects = projects;\n        this.currentUser = user;\n        const init = <RemoteFile> {\n          system: this.myDataSystem.id,\n          type: 'dir',\n          path: this.currentUser.username,\n        };\n        this.browse(init);\n      });\n  }\n\n  selectSystem(system: SystemSummary): void {\n    let pth;\n    system.id === this.myDataSystem.id\n      ? (pth = this.currentUser.username)\n      : (pth = '/');\n    const init = <RemoteFile> {\n      system: system.id,\n      type: 'dir',\n      path: pth,\n    };\n    this.browse(init);\n  }\n\n  browse(file: RemoteFile) {\n    if (file.type !== 'dir') {\n      return;\n    }\n    this.currentDirectory = file;\n    // this.selectedFiles.clear();\n    this.filesList = [];\n    this.offset = 0;\n    this.inProgress = false;\n    this.getFiles();\n  }\n\n  getFiles() {\n    const hasMoreFiles =\n      this.offset % ModalDownloadSelectorComponent.limit === 0;\n\n    if (this.inProgress || !hasMoreFiles) {\n      return;\n    }\n\n    this.inProgress = true;\n\n    this.tapisFilesService\n      .listFiles(\n        this.currentDirectory.system,\n        this.currentDirectory.path,\n        this.offset,\n        ModalDownloadSelectorComponent.limit\n      )\n      .subscribe(\n        (listing) => {\n          const files = listing.result;\n\n          if (files.length && files[0].name === '.') {\n            // This removes the first item in the listing, which in Agave\n            // is always a reference to self '.' and replaces with '..'\n            const current = files.shift();\n            this.currentPath.next(current.path);\n            this.passbackData[1] = current.path;\n            current.path = this.tapisFilesService.getParentPath(current.path);\n            current.name = '..';\n            files.unshift(current);\n          }\n          const newFile = [];\n          files.forEach(function(value, index) {\n            if (value.type == 'file' || value.type == 'dir') {\n              newFile.push(value);\n            }\n          });\n\n          this.inProgress = false;\n          this.filesList = this.filesList.concat(newFile);\n          this.offset = this.offset + files.length;\n        },\n        (error) => {\n          this.inProgress = false;\n        }\n      );\n  }\n\n  chooseFiles() {\n    this.passbackData[0] = this.selectedSystem.id;\n\n    // checks to see if the input was left unchanged\n    if (this.downloadSelectForm.dirty) {\n      // if changed, enter name as specified\n      this.passbackData[2] = this.downloadSelectForm.get('Name').value;\n    } else {\n      // if unchanged, enter filename as empty string\n      this.passbackData[2] = '';\n    }\n    this.passbackData[3] = this.fileExtension;\n    this.dialogRef.close(this.passbackData);\n  }\n\n  cancel() {\n    this.dialogRef.close();\n  }\n}\n","export default \":host {\\n  min-height: 20em;\\n}\\n:host .fileslisting {\\n  height: 20em;\\n  overflow-y: scroll;\\n  padding: 0px 20px;\\n}\\n:host .file-row {\\n  display: flex;\\n  background: #f9f9f9;\\n  border: 1px solid transparent;\\n  user-select: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n}\\n:host .clickable {\\n  flex: 1;\\n  max-width: 20em;\\n}\\n:host .size {\\n  align-items: flex-end;\\n}\\n:host .file-row:hover {\\n  border: 1px solid;\\n}\\n:host .file-row.selected {\\n  background: #d3d3d3;\\n}\\n.error {\\n  background-color: red;\\n  color: white;\\n}\\n.lineBreak {\\n  max-width: 350px;\\n  word-break: break-word;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL21vZGFsLWZpbGUtYnJvd3Nlci9tb2RhbC1maWxlLWJyb3dzZXIuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvbW9kYWwtZmlsZS1icm93c2VyL21vZGFsLWZpbGUtYnJvd3Nlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0FDQ0Y7QURBRTtFQUNFLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FDRUo7QURBRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLDZCQUFBO0VBQ0EsaUJBQUE7RUFDQSx5QkFBQTtFQUNBLHNCQUFBO0FDRUo7QURBRTtFQUNFLE9BQUE7RUFDQSxlQUFBO0FDRUo7QURBRTtFQUNFLHFCQUFBO0FDRUo7QURBRTtFQUNFLGlCQUFBO0FDRUo7QURBRTtFQUNFLG1CQUFBO0FDRUo7QURFQTtFQUNFLHFCQUFBO0VBQ0EsWUFBQTtBQ0NGO0FERUE7RUFDRSxnQkFBQTtFQUNBLHNCQUFBO0FDQ0YiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL21vZGFsLWZpbGUtYnJvd3Nlci9tb2RhbC1maWxlLWJyb3dzZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIG1pbi1oZWlnaHQ6IDIwZW07XG4gIC5maWxlc2xpc3Rpbmcge1xuICAgIGhlaWdodDogMjBlbTtcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgcGFkZGluZzogMHB4IDIwcHg7XG4gIH1cbiAgLmZpbGUtcm93IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGJhY2tncm91bmQ6ICNmOWY5Zjk7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICB9XG4gIC5jbGlja2FibGUge1xuICAgIGZsZXg6IDE7XG4gICAgbWF4LXdpZHRoOiAyMGVtO1xuICB9XG4gIC5zaXplIHtcbiAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG4gIH1cbiAgLmZpbGUtcm93OmhvdmVyIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZDtcbiAgfVxuICAuZmlsZS1yb3cuc2VsZWN0ZWQge1xuICAgIGJhY2tncm91bmQ6ICNkM2QzZDM7XG4gIH1cbn1cblxuLmVycm9yIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5saW5lQnJlYWsge1xuICBtYXgtd2lkdGg6IDM1MHB4O1xuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xufVxuIiwiOmhvc3Qge1xuICBtaW4taGVpZ2h0OiAyMGVtO1xufVxuOmhvc3QgLmZpbGVzbGlzdGluZyB7XG4gIGhlaWdodDogMjBlbTtcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICBwYWRkaW5nOiAwcHggMjBweDtcbn1cbjpob3N0IC5maWxlLXJvdyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGJhY2tncm91bmQ6ICNmOWY5Zjk7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbn1cbjpob3N0IC5jbGlja2FibGUge1xuICBmbGV4OiAxO1xuICBtYXgtd2lkdGg6IDIwZW07XG59XG46aG9zdCAuc2l6ZSB7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbn1cbjpob3N0IC5maWxlLXJvdzpob3ZlciB7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xufVxuOmhvc3QgLmZpbGUtcm93LnNlbGVjdGVkIHtcbiAgYmFja2dyb3VuZDogI2QzZDNkMztcbn1cblxuLmVycm9yIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5saW5lQnJlYWsge1xuICBtYXgtd2lkdGg6IDM1MHB4O1xuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xufSJdfQ== */\"","import { Component, OnInit, Output, EventEmitter, Input } from '@angular/core';\nimport { AgaveSystemsService } from '../../services/agave-systems.service';\nimport {\n  AuthenticatedUser,\n  AuthService,\n} from '../../services/authentication.service';\nimport { RemoteFile } from 'ng-tapis/models/remote-file';\nimport { SystemSummary } from 'ng-tapis';\nimport { TapisFilesService } from '../../services/tapis-files.service';\nimport { BsModalRef } from 'ngx-foundation/modal/bs-modal-ref.service';\nimport { Subject, combineLatest } from 'rxjs';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { take } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-modal-file-browser',\n  templateUrl: './modal-file-browser.component.html',\n  styleUrls: ['./modal-file-browser.component.scss'],\n})\nexport class ModalFileBrowserComponent implements OnInit {\n  static limit = 200; // Limits maximum amount of files displayed\n\n  @Output() currentPath: EventEmitter<string> = new EventEmitter<string>();\n\n  public allowedExtensions: Array<string> =\n    this.tapisFilesService.IMPORTABLE_TYPES;\n\n  private currentUser: AuthenticatedUser;\n  public selectedPath;\n  public filesList: Array<RemoteFile> = [];\n  public inProgress = true;\n  public retrievalError = false;\n  public selectedFiles: Map<string, RemoteFile> = new Map();\n  public onClose: Subject<Array<RemoteFile>> = new Subject<Array<RemoteFile>>();\n  public projects: Array<SystemSummary>;\n  private selectedSystem: SystemSummary;\n  public myDataSystem: SystemSummary;\n  public communityDataSystem: SystemSummary;\n  public publishedDataSystem: SystemSummary;\n  public currentDirectory: RemoteFile;\n  private offset: number;\n  public firstFileIndex: number;\n\n  constructor(\n    private tapisFilesService: TapisFilesService,\n    // private modalRef: BsModalRef,\n    public dialogRef: MatDialogRef<ModalFileBrowserComponent>,\n    private dialog: MatDialog,\n    private authService: AuthService,\n    private agaveSystemsService: AgaveSystemsService\n  ) {}\n\n  ngOnInit() {\n    // retrive state data\n    // this.tapisFilesService.getState()\n\n    // This finds all the projects, and file systems found from a user\n    this.agaveSystemsService.list();\n\n    // TODO: change those hard coded systemIds to environment vars or some sort of config\n    // wait on the currentUser and systems to resolve\n    combineLatest([\n      this.authService.currentUser,\n      this.agaveSystemsService.systems,\n      this.agaveSystemsService.projects,\n    ])\n      // This little thing helped me fix the problem on calling ngOnInit several times\n      .pipe(take(1))\n      .subscribe(([user, systems, projects]) => {\n        // Uses systems to find the different directories that has the files in\n        this.myDataSystem = systems.find(\n          (sys) => sys.id === 'designsafe.storage.default'\n        );\n        this.communityDataSystem = systems.find(\n          (sys) => sys.id === 'designsafe.storage.community'\n        );\n        this.publishedDataSystem = systems.find(\n          (sys) => sys.id === 'designsafe.storage.published'\n        );\n\n        // This is where they choose which one they start with\n        this.selectedSystem = this.tapisFilesService.lastSystem;\n\n        if (this.selectedSystem == null) {\n          this.selectedSystem = this.myDataSystem;\n          this.tapisFilesService.lastSystem = this.myDataSystem;\n        }\n\n        // If the user has already navigated to a folder, restore those options\n        this.currentDirectory = this.tapisFilesService.lastFile;\n\n        this.projects = projects;\n        this.currentUser = user;\n        const init = <RemoteFile> {\n          system: this.myDataSystem.id,\n          type: 'dir',\n          path: this.currentUser.username,\n        };\n        // If the user hasn't yet opened the file browser, set the last file to an init file.\n        if (this.tapisFilesService.noPreviousSelections) {\n          this.selectedSystem = this.myDataSystem;\n          this.tapisFilesService.lastFile = init;\n          this.tapisFilesService.noPreviousSelections = false;\n        }\n        this.browse(this.tapisFilesService.lastFile);\n      });\n  }\n\n  selectSystem(system: SystemSummary): void {\n    let pth;\n    system.id === this.myDataSystem.id\n      ? (pth = this.currentUser.username)\n      : (pth = '/');\n    const init = <RemoteFile> {\n      system: system.id,\n      type: 'dir',\n      path: pth,\n    };\n    this.selectedSystem = system;\n    this.tapisFilesService.lastSystem = this.selectedSystem;\n    this.browse(init);\n  }\n\n  browse(file: RemoteFile) {\n    this.selectedPath = file.path;\n    this.selectedSystem = this.selectedSystem; // Self-assignment keeps the system name from disappearing while browsing subfolders\n    if (file.type !== 'dir') {\n      return;\n    }\n    this.currentDirectory = file;\n    this.tapisFilesService.lastFile = file; // Updates the last directory visted\n    // this.selectedFiles.clear();\n    this.filesList = [];\n    this.offset = 0;\n    this.inProgress = false;\n    this.getFiles();\n  }\n\n  toRoot() {\n    let pth;\n    this.selectedSystem.id === this.myDataSystem.id\n      ? (pth = this.currentUser.username)\n      : (pth = '/');\n    const init = <RemoteFile> {\n      system: this.selectedSystem.id,\n      type: 'dir',\n      path: pth,\n    };\n    this.browse(init);\n  }\n\n  getFiles() {\n    const hasMoreFiles = this.offset % ModalFileBrowserComponent.limit === 0;\n\n    if (this.inProgress || !hasMoreFiles) {\n      return;\n    }\n\n    this.inProgress = true;\n    this.tapisFilesService\n      .listFiles(\n        this.currentDirectory.system,\n        this.currentDirectory.path,\n        this.offset,\n        ModalFileBrowserComponent.limit\n      )\n      .subscribe(\n        (listing) => {\n          const files = listing.result;\n\n          if (files.length && files[0].name === '.') {\n            // This removes the first item in the listing, which in Agave\n            // is always a reference to self '.' and replaces with '..'\n            const current = files.shift();\n            this.currentPath.next(current.path);\n            current.path = this.tapisFilesService.getParentPath(current.path);\n            current.name = '..';\n            files.unshift(current);\n          }\n          const newFile = [];\n          const allowedExt = this.allowedExtensions;\n          files.forEach(function(value, index) {\n            if (\n              (value.type == 'file' &&\n                allowedExt.includes(\n                  value.path.split('.').pop().toLowerCase()\n                )) ||\n              value.type == 'dir'\n            ) {\n              newFile.push(value);\n            }\n          });\n\n          this.inProgress = false;\n          this.retrievalError = false;\n          this.filesList = this.filesList.concat(newFile);\n          this.offset = this.offset + files.length;\n        },\n        (error) => {\n          // If retrieving the files from DesignSafe bugs out due to the site being down, this is where it ends up\n          this.retrievalError = true;\n          this.inProgress = false;\n        }\n      );\n  }\n\n  // TODO: Ian: Error message on incorrect file type?\n  select(event: any, file: RemoteFile, index: number) {\n    if (event.shiftKey) {\n      this.selectFilesShiftClick(index, file);\n    } else {\n      if (this.tapisFilesService.checkIfSelectable(file)) {\n        this.addSelectedFile(file, index);\n      } else {\n      }\n    }\n  }\n\n  selectFilesShiftClick(index: number, file: RemoteFile) {\n    // this.selectedFiles.clear();\n    this.selectShift(index, file);\n  }\n\n  addSelectedFile(file: RemoteFile, index: number) {\n    if (index != -1) {\n      this.firstFileIndex = index;\n    }\n\n    if (this.tapisFilesService.checkIfSelectable(file)) {\n      if (this.selectedFiles.has(file.path)) {\n        this.selectedFiles.delete(file.path);\n      } else {\n        this.selectedFiles.set(file.path, file);\n      }\n    }\n  }\n\n  chooseFiles() {\n    this.tapisFilesService.saveState();\n    this.tapisFilesService.lastSystem = this.selectedSystem;\n    const tmp = Array.from(this.selectedFiles.values());\n    this.dialogRef.close(tmp);\n  }\n\n  cancel() {\n    this.tapisFilesService.saveState();\n    this.tapisFilesService.lastSystem = this.selectedSystem;\n    this.dialogRef.close();\n  }\n\n  selectAll() {\n    const indexTmp = -1;\n    let count = 0;\n    for (const file of this.filesList) {\n      if (!this.selectedFiles.has(file.path)) {\n        this.select('', file, indexTmp);\n        count += 1;\n      }\n    }\n    if (count == 1) {\n      this.selectedFiles.clear();\n    }\n  }\n\n  selectShift(index: number, file: RemoteFile) {\n    if (this.firstFileIndex != undefined && this.firstFileIndex != index) {\n      this.addRangeFiles(this.firstFileIndex, index, true);\n    } else {\n      this.addSelectedFile(file, index);\n    }\n  }\n\n  addRangeFiles(firstFileIndex: number, lastFileIndex: number, again: boolean) {\n    const maxIndex = Math.max(firstFileIndex, lastFileIndex);\n    const minIndex = Math.min(firstFileIndex, lastFileIndex);\n\n    for (let i = minIndex; i < maxIndex + 1; ++i) {\n      this.addSelectedFile(this.filesList[i], -1);\n    }\n\n    if (again) {\n      this.addSelectedFile(this.filesList[firstFileIndex], -1);\n    }\n  }\n}\n","export default \":host #share-project-form {\\n  display: flex;\\n  flex-direction: column;\\n  text-align: center;\\n  padding: 5em;\\n}\\n\\n.card-container {\\n  display: flex;\\n  justify-content: space-between;\\n  width: 99%;\\n}\\n\\n.card-item {\\n  text-align: center;\\n  align-items: center;\\n}\\n\\n.card-buttons {\\n  align-items: flex-end;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL21vZGFsLXNoYXJlLXByb2plY3QvbW9kYWwtc2hhcmUtcHJvamVjdC5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9tb2RhbC1zaGFyZS1wcm9qZWN0L21vZGFsLXNoYXJlLXByb2plY3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0U7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7QUNGSjs7QURLQTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLFVBQUE7QUNGRjs7QURLQTtFQUNFLGtCQUFBO0VBQ0EsbUJBQUE7QUNGRjs7QURLQTtFQUNFLHFCQUFBO0FDRkYiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL21vZGFsLXNoYXJlLXByb2plY3QvbW9kYWwtc2hhcmUtcHJvamVjdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uLy4uLy4uL3ZhcmlhYmxlcy5zY3NzJztcblxuOmhvc3Qge1xuICAjc2hhcmUtcHJvamVjdC1mb3JtIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDVlbTtcbiAgfVxufVxuLmNhcmQtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB3aWR0aDogOTklO1xufVxuXG4uY2FyZC1pdGVtIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uY2FyZC1idXR0b25zIHtcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xufVxuIiwiOmhvc3QgI3NoYXJlLXByb2plY3QtZm9ybSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcGFkZGluZzogNWVtO1xufVxuXG4uY2FyZC1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIHdpZHRoOiA5OSU7XG59XG5cbi5jYXJkLWl0ZW0ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5jYXJkLWJ1dHRvbnMge1xuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { ProjectsService } from '../../services/projects.service';\nimport { Project } from '../../models/models';\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\n\n@Component({\n  selector: 'app-modal-share-project',\n  templateUrl: './modal-share-project.component.html',\n  styleUrls: ['./modal-share-project.component.scss'],\n})\nexport class ModalShareProjectComponent implements OnInit {\n  projShareForm: FormGroup;\n  activeProj: Project;\n  projectUsers;\n  onlyOne: boolean; // if only one user is present == TRUE\n\n  constructor(\n    public dialogRef: MatDialogRef<ModalShareProjectComponent>,\n    private dialog: MatDialog,\n    private projectsService: ProjectsService\n  ) {}\n\n  ngOnInit() {\n    // creates new form control group to access input value\n    this.projShareForm = new FormGroup({\n      name: new FormControl(''),\n    });\n\n    // retrieves active project, needed to add users to the project\n    this.projectsService.activeProject.subscribe((proj) => {\n      this.activeProj = proj;\n    });\n\n    // retrieves all users currently registered to the active project\n    this.projectsService.getProjectUsers(this.activeProj).subscribe((next) => {\n      this.projectUsers = next;\n      this.onlyOne = this.projectUsers.length == 1;\n    });\n  }\n\n  // closes modal without submitting anything\n  close() {\n    this.dialogRef.close();\n  }\n\n  // shares project with specified user\n  submit() {\n    this.projectsService.addUserToProject(\n      this.activeProj,\n      this.projShareForm.get('name').value\n    );\n    this.dialogRef.close();\n  }\n\n  // deletes user from project\n  delete(user) {\n    this.projectsService.deleteUserFromProject(this.activeProj, user);\n    this.dialogRef.close();\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbm90Zm91bmQvbm90Zm91bmQuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-notfound',\n  templateUrl: './notfound.component.html',\n  styleUrls: ['./notfound.component.scss'],\n})\nexport class NotFoundComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit() {}\n}\n","export default \":host {\\n  overflow-y: scroll;\\n}\\n:host .select-group {\\n  overflow: hidden;\\n  max-height: 20%;\\n}\\n:host .subitem-title {\\n  text-align: left;\\n  color: #555;\\n  font-size: 14px;\\n  padding: 10px;\\n  background-color: #f1f1f1;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n:host .subitem {\\n  border-width: 0px 10px;\\n  border-color: #f1f1f1;\\n  border-style: solid;\\n  overflow-y: scroll;\\n  background-color: #ffffff;\\n  height: 100%;\\n}\\n:host .group-subitem {\\n  height: 100px;\\n}\\n:host .subitem-scroll {\\n  border-width: 5px;\\n}\\n:host .boxed input[type=radio] {\\n  display: none;\\n}\\n:host .boxed label {\\n  background-color: #fff;\\n  transition: all 0.3s;\\n}\\n:host .boxed input[type=radio]:checked + label {\\n  background-color: #b3e5ff;\\n}\\n:host .group-container {\\n  display: flex;\\n  flex-direction: row;\\n  margin: 0;\\n  justify-content: space-between;\\n}\\n:host .name-group {\\n  display: inline-block;\\n  padding: 3px;\\n}\\n:host .button-group {\\n  margin: 0;\\n  display: flex;\\n  flex-direction: row;\\n}\\n:host .button-group div {\\n  padding: 3px;\\n}\\n:host .fa {\\n  font-weight: 900;\\n  display: inline-block;\\n  font-style: normal;\\n  font-variant: normal;\\n  text-rendering: auto;\\n  font-family: \\\"FontAwesome\\\";\\n  line-height: 1;\\n}\\n:host .fa option {\\n  font-weight: 900;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL3NpZGUtYmFyL3NlbGVjdC1ncm91cC9zZWxlY3QtZ3JvdXAuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZS1iYXIvc2VsZWN0LWdyb3VwL3NlbGVjdC1ncm91cC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0FDQ0Y7QURBRTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtBQ0VKO0FERUU7RUFDRSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0FDQUo7QURHRTtFQUNFLHNCQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0FDREo7QURJRTtFQUNFLGFBQUE7QUNGSjtBREtFO0VBQ0UsaUJBQUE7QUNISjtBRE1FO0VBQ0UsYUFBQTtBQ0pKO0FET0U7RUFDRSxzQkFBQTtFQUNBLG9CQUFBO0FDTEo7QURRRTtFQUNFLHlCQUFBO0FDTko7QURTRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7RUFDQSw4QkFBQTtBQ1BKO0FEVUU7RUFDRSxxQkFBQTtFQUNBLFlBQUE7QUNSSjtBRFdFO0VBQ0UsU0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQ1RKO0FEWUU7RUFDRSxZQUFBO0FDVko7QURhRTtFQUNFLGdCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLG9CQUFBO0VBQ0Esb0JBQUE7RUFDQSwwQkFBQTtFQUNBLGNBQUE7QUNYSjtBRGFFO0VBQ0UsZ0JBQUE7QUNYSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZS1iYXIvc2VsZWN0LWdyb3VwL3NlbGVjdC1ncm91cC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAuc2VsZWN0LWdyb3VwIHtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIG1heC1oZWlnaHQ6IDIwJTtcbiAgICAvLyBoZWlnaHQ6IDIwJTtcbiAgfVxuXG4gIC5zdWJpdGVtLXRpdGxlIHtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIGNvbG9yOiAjNTU1O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIH1cblxuICAuc3ViaXRlbSB7XG4gICAgYm9yZGVyLXdpZHRoOiAwcHggMTBweDtcbiAgICBib3JkZXItY29sb3I6ICNmMWYxZjE7XG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gIH1cblxuICAuZ3JvdXAtc3ViaXRlbSB7XG4gICAgaGVpZ2h0OiAxMDBweDtcbiAgfVxuXG4gIC5zdWJpdGVtLXNjcm9sbCB7XG4gICAgYm9yZGVyLXdpZHRoOiA1cHg7XG4gIH1cblxuICAuYm94ZWQgaW5wdXRbdHlwZT0ncmFkaW8nXSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIC5ib3hlZCBsYWJlbCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcztcbiAgfVxuXG4gIC5ib3hlZCBpbnB1dFt0eXBlPSdyYWRpbyddOmNoZWNrZWQgKyBsYWJlbCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2IzZTVmZjtcbiAgfVxuXG4gIC5ncm91cC1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBtYXJnaW46IDA7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB9XG5cbiAgLm5hbWUtZ3JvdXAge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBwYWRkaW5nOiAzcHg7XG4gIH1cblxuICAuYnV0dG9uLWdyb3VwIHtcbiAgICBtYXJnaW46IDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICB9XG5cbiAgLmJ1dHRvbi1ncm91cCBkaXYge1xuICAgIHBhZGRpbmc6IDNweDtcbiAgfVxuXG4gIC5mYSB7XG4gICAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgIGZvbnQtdmFyaWFudDogbm9ybWFsO1xuICAgIHRleHQtcmVuZGVyaW5nOiBhdXRvO1xuICAgIGZvbnQtZmFtaWx5OiAnRm9udEF3ZXNvbWUnO1xuICAgIGxpbmUtaGVpZ2h0OiAxO1xuICB9XG4gIC5mYSBvcHRpb24ge1xuICAgIGZvbnQtd2VpZ2h0OiA5MDA7XG4gIH1cbn1cbiIsIjpob3N0IHtcbiAgb3ZlcmZsb3cteTogc2Nyb2xsO1xufVxuOmhvc3QgLnNlbGVjdC1ncm91cCB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG1heC1oZWlnaHQ6IDIwJTtcbn1cbjpob3N0IC5zdWJpdGVtLXRpdGxlIHtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgY29sb3I6ICM1NTU7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgcGFkZGluZzogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuOmhvc3QgLnN1Yml0ZW0ge1xuICBib3JkZXItd2lkdGg6IDBweCAxMHB4O1xuICBib3JkZXItY29sb3I6ICNmMWYxZjE7XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuOmhvc3QgLmdyb3VwLXN1Yml0ZW0ge1xuICBoZWlnaHQ6IDEwMHB4O1xufVxuOmhvc3QgLnN1Yml0ZW0tc2Nyb2xsIHtcbiAgYm9yZGVyLXdpZHRoOiA1cHg7XG59XG46aG9zdCAuYm94ZWQgaW5wdXRbdHlwZT1yYWRpb10ge1xuICBkaXNwbGF5OiBub25lO1xufVxuOmhvc3QgLmJveGVkIGxhYmVsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XG59XG46aG9zdCAuYm94ZWQgaW5wdXRbdHlwZT1yYWRpb106Y2hlY2tlZCArIGxhYmVsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2IzZTVmZjtcbn1cbjpob3N0IC5ncm91cC1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBtYXJnaW46IDA7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbjpob3N0IC5uYW1lLWdyb3VwIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBwYWRkaW5nOiAzcHg7XG59XG46aG9zdCAuYnV0dG9uLWdyb3VwIHtcbiAgbWFyZ2luOiAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xufVxuOmhvc3QgLmJ1dHRvbi1ncm91cCBkaXYge1xuICBwYWRkaW5nOiAzcHg7XG59XG46aG9zdCAuZmEge1xuICBmb250LXdlaWdodDogOTAwO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgZm9udC12YXJpYW50OiBub3JtYWw7XG4gIHRleHQtcmVuZGVyaW5nOiBhdXRvO1xuICBmb250LWZhbWlseTogXCJGb250QXdlc29tZVwiO1xuICBsaW5lLWhlaWdodDogMTtcbn1cbjpob3N0IC5mYSBvcHRpb24ge1xuICBmb250LXdlaWdodDogOTAwO1xufSJdfQ== */\"","import { Component, OnInit, OnDestroy, TemplateRef } from '@angular/core';\nimport { Project, TagGroup } from '../../../models/models';\nimport { ProjectsService } from '../../../services/projects.service';\nimport { FormsService } from '../../../services/forms.service';\nimport { GroupsService } from '../../../services/groups.service';\nimport { GeoDataService } from '../../../services/geo-data.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Subscription } from 'rxjs';\nimport { FeatureService } from 'src/app/services/feature.service';\n\nimport { groupIcons } from 'src/app/utils/groups';\n\n@Component({\n  selector: 'app-select-group',\n  templateUrl: './select-group.component.html',\n  styleUrls: ['./select-group.component.scss'],\n})\nexport class SelectGroupComponent implements OnInit, OnDestroy {\n  groups$: Subscription;\n  activeGroup$: Subscription;\n\n  public selectedProject: Project;\n\n  iconList = groupIcons;\n  selectedIcon = 'fa-house-damage';\n\n  selectedGroup: TagGroup;\n\n  activeGroup: TagGroup;\n  groups: Map<string, TagGroup>;\n  groupsFeatures: Map<string, any>;\n\n  showTagger: boolean;\n  showSubitem = true;\n\n  constructor(\n    private groupsService: GroupsService,\n    private geoDataService: GeoDataService,\n    private projectsService: ProjectsService,\n    private dialog: MatDialog\n  ) {}\n\n  ngOnInit() {\n    this.projectsService.activeProject.subscribe((next) => {\n      this.selectedProject = next;\n    });\n\n    this.groups$ = this.geoDataService.groups.subscribe((next) => {\n      this.groups = next;\n    });\n\n    this.geoDataService.groupsFeatures.subscribe((next) => {\n      this.groupsFeatures = next;\n    });\n\n    this.activeGroup$ = this.geoDataService.activeGroup.subscribe((next) => {\n      this.activeGroup = next;\n      if (!next) {\n        this.groupsService.toggleTagger();\n      }\n    });\n  }\n\n  selectGroupForm(group: TagGroup) {\n    this.geoDataService.setActiveGroup(group);\n  }\n\n  openRenameOptionModal(template: TemplateRef<any>) {\n    this.dialog.open(template);\n  }\n\n  // TODO: ensure ui is updated from getFeatures()\n  deleteGroup(group: TagGroup) {\n    const features = this.groupsFeatures.get(group.name);\n    this.geoDataService.deleteGroupFeatures(\n      this.selectedProject.id,\n      features,\n      group\n    );\n  }\n\n  openRenameModal(template: TemplateRef<any>, group: TagGroup) {\n    this.selectedGroup = group;\n    this.dialog.open(template);\n  }\n\n  openIconSelection(template: TemplateRef<any>, group: TagGroup) {\n    this.selectedGroup = group;\n    this.selectedIcon = group.icon;\n    this.dialog.open(template);\n  }\n\n  saveIcon(icon: string) {\n    this.geoDataService.reiconGroup(\n      this.selectedProject.id,\n      this.groupsFeatures.get(this.selectedGroup.name),\n      this.groups.get(this.selectedGroup.name),\n      icon\n    );\n\n    this.dialog.closeAll();\n  }\n\n  isChecked(name: string) {\n    if (this.activeGroup && this.activeGroup.name === name) {\n      return 'checked';\n    } else {\n      return '';\n    }\n  }\n\n  renameGroup(name: string) {\n    this.geoDataService.renameGroup(\n      this.selectedProject.id,\n      this.groupsFeatures.get(this.selectedGroup.name),\n      this.groups.get(this.selectedGroup.name),\n      name\n    );\n\n    this.dialog.closeAll();\n  }\n\n  expandPanel() {\n    this.showSubitem = !this.showSubitem;\n  }\n\n  ngOnDestroy() {\n    this.groups$.unsubscribe();\n    this.activeGroup$.unsubscribe();\n  }\n}\n","export default \":host .subitem-title {\\n  text-align: left;\\n  color: #555;\\n  font-size: 14px;\\n  padding: 10px;\\n  background-color: #f1f1f1;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n:host .subitem {\\n  border-width: 0px 10px;\\n  border-color: #f1f1f1;\\n  border-style: solid;\\n  overflow-y: scroll;\\n  background-color: #ffffff;\\n  height: 100%;\\n}\\n:host .subitem-scroll {\\n  border-width: 5px;\\n}\\n:host .asset-list {\\n  max-height: 20%;\\n  overflow: hidden;\\n}\\n:host .asset-subitem {\\n  height: 100px;\\n}\\n:host .asset-container {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  cursor: pointer;\\n}\\n:host .highlight {\\n  background-color: #b3e5ff;\\n}\\n:host .name-group {\\n  display: inline-block;\\n  padding: 3px;\\n}\\n:host .button-group {\\n  margin: 0;\\n  display: flex;\\n  flex-direction: row;\\n}\\n:host .button-group div {\\n  padding: 3px;\\n  padding-right: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL3NpZGUtYmFyL3NlbGVjdC1pbWFnZS9zZWxlY3QtaW1hZ2UuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZS1iYXIvc2VsZWN0LWltYWdlL3NlbGVjdC1pbWFnZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7QUNBSjtBREdFO0VBQ0Usc0JBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUNESjtBRElFO0VBQ0UsaUJBQUE7QUNGSjtBREtFO0VBQ0UsZUFBQTtFQUVBLGdCQUFBO0FDSko7QURPRTtFQUNFLGFBQUE7QUNMSjtBRFFFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsOEJBQUE7RUFDQSxlQUFBO0FDTko7QURTRTtFQUNFLHlCQUFBO0FDUEo7QURVRTtFQUNFLHFCQUFBO0VBQ0EsWUFBQTtBQ1JKO0FEV0U7RUFDRSxTQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0FDVEo7QURZRTtFQUNFLFlBQUE7RUFDQSxrQkFBQTtBQ1ZKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlLWJhci9zZWxlY3QtaW1hZ2Uvc2VsZWN0LWltYWdlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAuc3ViaXRlbS10aXRsZSB7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICBjb2xvcjogIzU1NTtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB9XG5cbiAgLnN1Yml0ZW0ge1xuICAgIGJvcmRlci13aWR0aDogMHB4IDEwcHg7XG4gICAgYm9yZGVyLWNvbG9yOiAjZjFmMWYxO1xuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgb3ZlcmZsb3cteTogc2Nyb2xsO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG5cbiAgLnN1Yml0ZW0tc2Nyb2xsIHtcbiAgICBib3JkZXItd2lkdGg6IDVweDtcbiAgfVxuXG4gIC5hc3NldC1saXN0IHtcbiAgICBtYXgtaGVpZ2h0OiAyMCU7XG4gICAgLy8gaGVpZ2h0OiAyMCU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgfVxuXG4gIC5hc3NldC1zdWJpdGVtIHtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICB9XG5cbiAgLmFzc2V0LWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gIH1cblxuICAuaGlnaGxpZ2h0IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjNlNWZmO1xuICB9XG5cbiAgLm5hbWUtZ3JvdXAge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBwYWRkaW5nOiAzcHg7XG4gIH1cblxuICAuYnV0dG9uLWdyb3VwIHtcbiAgICBtYXJnaW46IDA7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICB9XG5cbiAgLmJ1dHRvbi1ncm91cCBkaXYge1xuICAgIHBhZGRpbmc6IDNweDtcbiAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG4gIH1cbn1cbiIsIjpob3N0IC5zdWJpdGVtLXRpdGxlIHtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgY29sb3I6ICM1NTU7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgcGFkZGluZzogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuOmhvc3QgLnN1Yml0ZW0ge1xuICBib3JkZXItd2lkdGg6IDBweCAxMHB4O1xuICBib3JkZXItY29sb3I6ICNmMWYxZjE7XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuOmhvc3QgLnN1Yml0ZW0tc2Nyb2xsIHtcbiAgYm9yZGVyLXdpZHRoOiA1cHg7XG59XG46aG9zdCAuYXNzZXQtbGlzdCB7XG4gIG1heC1oZWlnaHQ6IDIwJTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbjpob3N0IC5hc3NldC1zdWJpdGVtIHtcbiAgaGVpZ2h0OiAxMDBweDtcbn1cbjpob3N0IC5hc3NldC1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbjpob3N0IC5oaWdobGlnaHQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjNlNWZmO1xufVxuOmhvc3QgLm5hbWUtZ3JvdXAge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHBhZGRpbmc6IDNweDtcbn1cbjpob3N0IC5idXR0b24tZ3JvdXAge1xuICBtYXJnaW46IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG59XG46aG9zdCAuYnV0dG9uLWdyb3VwIGRpdiB7XG4gIHBhZGRpbmc6IDNweDtcbiAgcGFkZGluZy1yaWdodDogNXB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Project, TagGroup } from '../../../models/models';\nimport { ProjectsService } from '../../../services/projects.service';\nimport { GeoDataService } from '../../../services/geo-data.service';\nimport { FormsService } from '../../../services/forms.service';\nimport { Feature } from '@turf/turf';\n\n@Component({\n  selector: 'app-select-image',\n  templateUrl: './select-image.component.html',\n  styleUrls: ['./select-image.component.scss'],\n})\nexport class SelectImageComponent implements OnInit {\n  public activeProject: Project;\n  private groups: Map<string, TagGroup>;\n  activeGroup: TagGroup;\n  activeGroupFeature: Feature;\n  showSubitem = true;\n  groupsFeatures: Map<string, any>;\n\n  constructor(\n    private geoDataService: GeoDataService,\n    private projectsService: ProjectsService\n  ) {}\n\n  ngOnInit() {\n    this.projectsService.activeProject.subscribe((next) => {\n      this.activeProject = next;\n    });\n\n    this.geoDataService.groups.subscribe((next) => {\n      this.groups = next;\n    });\n\n    this.geoDataService.activeGroup.subscribe((next) => {\n      this.activeGroup = next;\n    });\n\n    this.geoDataService.activeGroupFeature.subscribe((next) => {\n      this.activeGroupFeature = next;\n    });\n\n    this.geoDataService.groupsFeatures.subscribe((next) => {\n      this.groupsFeatures = next;\n      if (next && this.activeGroup) {\n        const groupFeatures = this.groupsFeatures.get(this.activeGroup.name);\n        if (groupFeatures) {\n          if (!groupFeatures.some((f) => f.id === this.activeGroupFeature.id)) {\n            this.geoDataService.setActiveGroupFeature(groupFeatures[0]);\n          }\n        } else {\n          const [nextGroup] = this.groups.values();\n          if (nextGroup) {\n            this.geoDataService.setActiveGroup(nextGroup);\n          } else {\n            this.geoDataService.setActiveGroup(null);\n          }\n        }\n      }\n    });\n  }\n\n  getActiveFeatures() {\n    if (this.activeGroup) {\n      const groupFeatures = this.groupsFeatures.get(this.activeGroup.name);\n      const group = this.groups.get(this.activeGroup.name);\n      if (group) {\n        return groupFeatures;\n      } else {\n        const [nextGroup] = this.groups.values();\n        if (nextGroup) {\n          this.geoDataService.setActiveGroup(nextGroup);\n          return this.groupsFeatures.get(nextGroup.name);\n        } else {\n          return [];\n        }\n      }\n    } else {\n      return [];\n    }\n  }\n\n  jumpToImage(feat: Feature) {\n    this.geoDataService.setActiveGroupFeature(feat);\n  }\n\n  isActiveFeature(feature: Feature) {\n    return this.activeGroupFeature.id === feature.id;\n  }\n\n  deleteFeature(feat: any) {\n    this.geoDataService.deleteGroupFeatures(\n      this.activeProject.id,\n      [feat],\n      this.groups.get(this.activeGroup.name)\n    );\n  }\n\n  getFeaturePath(feat: any) {\n    return feat.featureShortPath();\n  }\n\n  expandPanel() {\n    this.showSubitem = !this.showSubitem;\n  }\n}\n","export default \":host {\\n  background-color: #f1f1f1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL3NpZGUtYmFyL3NpZGUtYmFyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL3NpZGUtYmFyL3NpZGUtYmFyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUJBQUE7QUNDRiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZS1iYXIvc2lkZS1iYXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XG4gIC8vIEZJWE1FIFRoaXMgaXNuJ3Qgd29ya2luZ1xuICAvLyBoZWlnaHQ6IDEwMCU7XG59XG4iLCI6aG9zdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { GroupsService } from '../../services/groups.service';\n\n@Component({\n  selector: 'app-side-bar',\n  templateUrl: './side-bar.component.html',\n  styleUrls: ['./side-bar.component.scss'],\n})\nexport class SideBarComponent implements OnInit {\n  showTagGenerator = false;\n\n  constructor(private groupsService: GroupsService) {}\n\n  ngOnInit() {\n    this.groupsService.showTagGenerator.subscribe((next) => {\n      this.showTagGenerator = next;\n    });\n  }\n}\n","export default \":host {\\n  display: block;\\n  font-size: 0.8em;\\n  height: calc(100vh - 50px);\\n}\\n:host .lat-lon-label {\\n  font-size: 0.8em;\\n  color: #4d4d4d;\\n}\\n:host .active-project {\\n  background-color: #1aff8c;\\n}\\n:host .menu button.dropdown.button {\\n  padding: 0.85em 1em;\\n}\\n:host .switch {\\n  margin: 0;\\n}\\n:host .button.tiny {\\n  margin: 0;\\n}\\n:host .create-prompt {\\n  max-height: 500px;\\n  height: 500px;\\n}\\n:host .select-group {\\n  max-height: 20%;\\n  height: 20%;\\n}\\n:host .subitem-title {\\n  text-align: left;\\n  color: #555;\\n  font-size: 14px;\\n  padding: 10px;\\n  background-color: #f1f1f1;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n:host .input-label-group {\\n  padding: 10px;\\n  display: block;\\n}\\n:host .input-group {\\n  display: inline-block;\\n}\\n:host .form-name {\\n  text-align: center;\\n}\\n:host .input-group-button {\\n  display: inline-block;\\n}\\n:host .subitem {\\n  border-width: 0px 10px;\\n  border-color: #f1f1f1;\\n  border-style: solid;\\n  overflow-y: auto;\\n  background-color: #ffffff;\\n  height: 40vh;\\n  padding: 20px;\\n}\\n:host .subitem-scroll {\\n  border-width: 5px;\\n}\\n:host .preset-descriptions {\\n  max-height: 20%;\\n  height: 20%;\\n}\\n:host .boxed input[type=radio] {\\n  display: none;\\n}\\n:host .boxed label {\\n  background-color: #fff;\\n  transition: all 0.3s;\\n}\\n:host .boxed input[type=radio]:checked + label {\\n  background-color: #b3e5ff;\\n}\\n:host .group-container {\\n  display: flex;\\n  flex-direction: row;\\n  margin: 0;\\n  justify-content: space-between;\\n}\\n:host .button-group {\\n  margin: 0;\\n  display: flex;\\n  flex-direction: row;\\n}\\n:host .form-option-container {\\n  padding: 0px;\\n}\\n:host .list-group {\\n  display: flex;\\n  flex-direction: row;\\n  margin: 0;\\n  justify-content: space-between;\\n}\\n:host .list-suboptions {\\n  background-color: #f0f0f0;\\n}\\n:host .button-group div {\\n  padding: 3px;\\n}\\n:host .name-group {\\n  display: inline-block;\\n  padding: 3px;\\n}\\n:host .form-item-container {\\n  display: flex;\\n  flex-direction: row;\\n  margin: 0;\\n  justify-content: space-between;\\n}\\n:host .form-type-form {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  margin: 5px;\\n  margin-bottom: 15px;\\n}\\n:host .form-type-form input[type=radio] {\\n  display: none;\\n}\\n:host .form-type-form label {\\n  border-style: solid;\\n  border-width: 1px;\\n  border-color: #ddd;\\n  transition: all 0.3s;\\n}\\n:host .form-type-form input[type=radio]:checked + label {\\n  border-style: solid;\\n  border-width: 1px;\\n  border-color: #000;\\n}\\n:host .changed {\\n  color: #f07575;\\n}\\n:host .unchanged {\\n  color: #555555;\\n}\\n:host .asset-list {\\n  max-height: 20%;\\n  height: 20%;\\n}\\n:host .asset-container {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  cursor: pointer;\\n}\\n:host .highlight {\\n  background-color: #b3e5ff;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL3NpZGUtYmFyL3RhZy1nZW5lcmF0b3IvdGFnLWdlbmVyYXRvci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9zaWRlLWJhci90YWctZ2VuZXJhdG9yL3RhZy1nZW5lcmF0b3IuY29tcG9uZW50LnNjc3MiLCIvVXNlcnMvaXBhcmsvdGFnZ2l0Mi4wL3NyYy92YXJpYWJsZXMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLDBCQUFBO0FDREY7QURHRTtFQUNFLGdCQUFBO0VBQ0EsY0FBQTtBQ0RKO0FESUU7RUFDRSx5QkVWVTtBRFFkO0FETUk7RUFDRSxtQkFBQTtBQ0pOO0FEUUU7RUFDRSxTQUFBO0FDTko7QURTRTtFQUNFLFNBQUE7QUNQSjtBRFVFO0VBQ0UsaUJBQUE7RUFDQSxhQUFBO0FDUko7QURXRTtFQUNFLGVBQUE7RUFDQSxXQUFBO0FDVEo7QURZRTtFQUNFLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7QUNWSjtBRGFFO0VBQ0UsYUFBQTtFQUNBLGNBQUE7QUNYSjtBRGNFO0VBQ0UscUJBQUE7QUNaSjtBRGVFO0VBQ0Usa0JBQUE7QUNiSjtBRGdCRTtFQUNFLHFCQUFBO0FDZEo7QURpQkU7RUFDRSxzQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUNmSjtBRGtCRTtFQUNFLGlCQUFBO0FDaEJKO0FEbUJFO0VBQ0UsZUFBQTtFQUNBLFdBQUE7QUNqQko7QURvQkU7RUFDRSxhQUFBO0FDbEJKO0FEcUJFO0VBQ0Usc0JBQUE7RUFDQSxvQkFBQTtBQ25CSjtBRHNCRTtFQUNFLHlCQUFBO0FDcEJKO0FEdUJFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsU0FBQTtFQUNBLDhCQUFBO0FDckJKO0FEd0JFO0VBQ0UsU0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtBQ3RCSjtBRHlCRTtFQUNFLFlBQUE7QUN2Qko7QUQwQkU7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0VBQ0EsOEJBQUE7QUN4Qko7QUQyQkU7RUFDRSx5QkFBQTtBQ3pCSjtBRDRCRTtFQUNFLFlBQUE7QUMxQko7QUQ2QkU7RUFDRSxxQkFBQTtFQUNBLFlBQUE7QUMzQko7QUQ4QkU7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0VBQ0EsOEJBQUE7QUM1Qko7QUQrQkU7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtBQzdCSjtBRGdDRTtFQUNFLGFBQUE7QUM5Qko7QURpQ0U7RUFDRSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxvQkFBQTtBQy9CSjtBRGtDRTtFQUNFLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQ2hDSjtBRG1DRTtFQUNFLGNBQUE7QUNqQ0o7QURvQ0U7RUFDRSxjQUFBO0FDbENKO0FEcUNFO0VBQ0UsZUFBQTtFQUNBLFdBQUE7QUNuQ0o7QURzQ0U7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7QUNwQ0o7QUR1Q0U7RUFDRSx5QkFBQTtBQ3JDSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZS1iYXIvdGFnLWdlbmVyYXRvci90YWctZ2VuZXJhdG9yLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCAnLi4vLi4vLi4vLi4vdmFyaWFibGVzLnNjc3MnO1xuXG46aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBmb250LXNpemU6IDAuOGVtO1xuICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA1MHB4KTtcblxuICAubGF0LWxvbi1sYWJlbCB7XG4gICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICBjb2xvcjogIzRkNGQ0ZDtcbiAgfVxuXG4gIC5hY3RpdmUtcHJvamVjdCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGdyZWVuQWN0aXZlO1xuICB9XG5cbiAgLm1lbnUge1xuICAgIGJ1dHRvbi5kcm9wZG93bi5idXR0b24ge1xuICAgICAgcGFkZGluZzogMC44NWVtIDFlbTtcbiAgICB9XG4gIH1cblxuICAuc3dpdGNoIHtcbiAgICBtYXJnaW46IDA7XG4gIH1cblxuICAuYnV0dG9uLnRpbnkge1xuICAgIG1hcmdpbjogMDtcbiAgfVxuXG4gIC5jcmVhdGUtcHJvbXB0IHtcbiAgICBtYXgtaGVpZ2h0OiA1MDBweDtcbiAgICBoZWlnaHQ6IDUwMHB4O1xuICB9XG5cbiAgLnNlbGVjdC1ncm91cCB7XG4gICAgbWF4LWhlaWdodDogMjAlO1xuICAgIGhlaWdodDogMjAlO1xuICB9XG5cbiAgLnN1Yml0ZW0tdGl0bGUge1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgY29sb3I6ICM1NTU7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgfVxuXG4gIC5pbnB1dC1sYWJlbC1ncm91cCB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgfVxuXG4gIC5pbnB1dC1ncm91cCB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB9XG5cbiAgLmZvcm0tbmFtZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB9XG5cbiAgLmlucHV0LWdyb3VwLWJ1dHRvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB9XG5cbiAgLnN1Yml0ZW0ge1xuICAgIGJvcmRlci13aWR0aDogMHB4IDEwcHg7XG4gICAgYm9yZGVyLWNvbG9yOiAjZjFmMWYxO1xuICAgIGJvcmRlci1zdHlsZTogc29saWQ7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xuICAgIGhlaWdodDogNDB2aDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICB9XG5cbiAgLnN1Yml0ZW0tc2Nyb2xsIHtcbiAgICBib3JkZXItd2lkdGg6IDVweDtcbiAgfVxuXG4gIC5wcmVzZXQtZGVzY3JpcHRpb25zIHtcbiAgICBtYXgtaGVpZ2h0OiAyMCU7XG4gICAgaGVpZ2h0OiAyMCU7XG4gIH1cblxuICAuYm94ZWQgaW5wdXRbdHlwZT0ncmFkaW8nXSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gIC5ib3hlZCBsYWJlbCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcztcbiAgfVxuXG4gIC5ib3hlZCBpbnB1dFt0eXBlPSdyYWRpbyddOmNoZWNrZWQgKyBsYWJlbCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2IzZTVmZjtcbiAgfVxuXG4gIC5ncm91cC1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBtYXJnaW46IDA7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB9XG5cbiAgLmJ1dHRvbi1ncm91cCB7XG4gICAgbWFyZ2luOiAwO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgfVxuXG4gIC5mb3JtLW9wdGlvbi1jb250YWluZXIge1xuICAgIHBhZGRpbmc6IDBweDtcbiAgfVxuXG4gIC5saXN0LWdyb3VwIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgbWFyZ2luOiAwO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgfVxuXG4gIC5saXN0LXN1Ym9wdGlvbnMge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XG4gIH1cblxuICAuYnV0dG9uLWdyb3VwIGRpdiB7XG4gICAgcGFkZGluZzogM3B4O1xuICB9XG5cbiAgLm5hbWUtZ3JvdXAge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBwYWRkaW5nOiAzcHg7XG4gIH1cblxuICAuZm9ybS1pdGVtLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIG1hcmdpbjogMDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIH1cblxuICAuZm9ybS10eXBlLWZvcm0ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgbWFyZ2luOiA1cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgfVxuXG4gIC5mb3JtLXR5cGUtZm9ybSBpbnB1dFt0eXBlPSdyYWRpbyddIHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG5cbiAgLmZvcm0tdHlwZS1mb3JtIGxhYmVsIHtcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgIGJvcmRlci13aWR0aDogMXB4O1xuICAgIGJvcmRlci1jb2xvcjogI2RkZDtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcztcbiAgfVxuXG4gIC5mb3JtLXR5cGUtZm9ybSBpbnB1dFt0eXBlPSdyYWRpbyddOmNoZWNrZWQgKyBsYWJlbCB7XG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICBib3JkZXItd2lkdGg6IDFweDtcbiAgICBib3JkZXItY29sb3I6ICMwMDA7XG4gIH1cblxuICAuY2hhbmdlZCB7XG4gICAgY29sb3I6ICNmMDc1NzU7XG4gIH1cblxuICAudW5jaGFuZ2VkIHtcbiAgICBjb2xvcjogIzU1NTU1NTtcbiAgfVxuXG4gIC5hc3NldC1saXN0IHtcbiAgICBtYXgtaGVpZ2h0OiAyMCU7XG4gICAgaGVpZ2h0OiAyMCU7XG4gIH1cblxuICAuYXNzZXQtY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gIC5oaWdobGlnaHQge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNiM2U1ZmY7XG4gIH1cbn1cbiIsIjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG4gIGhlaWdodDogY2FsYygxMDB2aCAtIDUwcHgpO1xufVxuOmhvc3QgLmxhdC1sb24tbGFiZWwge1xuICBmb250LXNpemU6IDAuOGVtO1xuICBjb2xvcjogIzRkNGQ0ZDtcbn1cbjpob3N0IC5hY3RpdmUtcHJvamVjdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMxYWZmOGM7XG59XG46aG9zdCAubWVudSBidXR0b24uZHJvcGRvd24uYnV0dG9uIHtcbiAgcGFkZGluZzogMC44NWVtIDFlbTtcbn1cbjpob3N0IC5zd2l0Y2gge1xuICBtYXJnaW46IDA7XG59XG46aG9zdCAuYnV0dG9uLnRpbnkge1xuICBtYXJnaW46IDA7XG59XG46aG9zdCAuY3JlYXRlLXByb21wdCB7XG4gIG1heC1oZWlnaHQ6IDUwMHB4O1xuICBoZWlnaHQ6IDUwMHB4O1xufVxuOmhvc3QgLnNlbGVjdC1ncm91cCB7XG4gIG1heC1oZWlnaHQ6IDIwJTtcbiAgaGVpZ2h0OiAyMCU7XG59XG46aG9zdCAuc3ViaXRlbS10aXRsZSB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGNvbG9yOiAjNTU1O1xuICBmb250LXNpemU6IDE0cHg7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbjpob3N0IC5pbnB1dC1sYWJlbC1ncm91cCB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuOmhvc3QgLmlucHV0LWdyb3VwIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuOmhvc3QgLmZvcm0tbmFtZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbjpob3N0IC5pbnB1dC1ncm91cC1idXR0b24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG46aG9zdCAuc3ViaXRlbSB7XG4gIGJvcmRlci13aWR0aDogMHB4IDEwcHg7XG4gIGJvcmRlci1jb2xvcjogI2YxZjFmMTtcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgaGVpZ2h0OiA0MHZoO1xuICBwYWRkaW5nOiAyMHB4O1xufVxuOmhvc3QgLnN1Yml0ZW0tc2Nyb2xsIHtcbiAgYm9yZGVyLXdpZHRoOiA1cHg7XG59XG46aG9zdCAucHJlc2V0LWRlc2NyaXB0aW9ucyB7XG4gIG1heC1oZWlnaHQ6IDIwJTtcbiAgaGVpZ2h0OiAyMCU7XG59XG46aG9zdCAuYm94ZWQgaW5wdXRbdHlwZT1yYWRpb10ge1xuICBkaXNwbGF5OiBub25lO1xufVxuOmhvc3QgLmJveGVkIGxhYmVsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XG59XG46aG9zdCAuYm94ZWQgaW5wdXRbdHlwZT1yYWRpb106Y2hlY2tlZCArIGxhYmVsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2IzZTVmZjtcbn1cbjpob3N0IC5ncm91cC1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBtYXJnaW46IDA7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbjpob3N0IC5idXR0b24tZ3JvdXAge1xuICBtYXJnaW46IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG59XG46aG9zdCAuZm9ybS1vcHRpb24tY29udGFpbmVyIHtcbiAgcGFkZGluZzogMHB4O1xufVxuOmhvc3QgLmxpc3QtZ3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBtYXJnaW46IDA7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbjpob3N0IC5saXN0LXN1Ym9wdGlvbnMge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xufVxuOmhvc3QgLmJ1dHRvbi1ncm91cCBkaXYge1xuICBwYWRkaW5nOiAzcHg7XG59XG46aG9zdCAubmFtZS1ncm91cCB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcGFkZGluZzogM3B4O1xufVxuOmhvc3QgLmZvcm0taXRlbS1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBtYXJnaW46IDA7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbjpob3N0IC5mb3JtLXR5cGUtZm9ybSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgbWFyZ2luOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG59XG46aG9zdCAuZm9ybS10eXBlLWZvcm0gaW5wdXRbdHlwZT1yYWRpb10ge1xuICBkaXNwbGF5OiBub25lO1xufVxuOmhvc3QgLmZvcm0tdHlwZS1mb3JtIGxhYmVsIHtcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XG4gIGJvcmRlci1jb2xvcjogI2RkZDtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XG59XG46aG9zdCAuZm9ybS10eXBlLWZvcm0gaW5wdXRbdHlwZT1yYWRpb106Y2hlY2tlZCArIGxhYmVsIHtcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XG4gIGJvcmRlci1jb2xvcjogIzAwMDtcbn1cbjpob3N0IC5jaGFuZ2VkIHtcbiAgY29sb3I6ICNmMDc1NzU7XG59XG46aG9zdCAudW5jaGFuZ2VkIHtcbiAgY29sb3I6ICM1NTU1NTU7XG59XG46aG9zdCAuYXNzZXQtbGlzdCB7XG4gIG1heC1oZWlnaHQ6IDIwJTtcbiAgaGVpZ2h0OiAyMCU7XG59XG46aG9zdCAuYXNzZXQtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG46aG9zdCAuaGlnaGxpZ2h0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2IzZTVmZjtcbn0iLCIkbGlnaHRCbHVlOiAjMGY4M2JkO1xuJGxpZ2h0R3JleTogI2QzZDNkMztcbiRiYWNrZ3JvdW5kSGlnaGxpZ2h0OiAjYjNlNWZmO1xuJGdyZWVuQWN0aXZlOiAjMWFmZjhjO1xuJEFwcE1lZGl1bUJsdWU6ICMyMmM3ZmY7XG4iXX0= */\"","import {\n  Component,\n  OnInit,\n  TemplateRef,\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n} from '@angular/core';\nimport { FormsService, tags } from '../../../services/forms.service';\nimport { GroupsService } from '../../../services/groups.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Feature, Project, TagGroup, GroupForm } from 'src/app/models/models';\nimport { GeoDataService } from 'src/app/services/geo-data.service';\nimport { ProjectsService } from 'src/app/services/projects.service';\n\n@Component({\n  selector: 'app-tag-generator',\n  templateUrl: './tag-generator.component.html',\n  styleUrls: ['./tag-generator.component.scss'],\n})\nexport class TagGeneratorComponent implements OnInit {\n  formLabel: string;\n  formColor: string;\n  formOptions: Array<any> = [];\n  selectedGroup: string;\n  formType: string;\n  labelFilter: string;\n  optionColorFilter = '#000000';\n  activeGroup: TagGroup;\n  optionFilter: string;\n  formName: string;\n  formValue: string;\n  formRequired: boolean;\n  openOption: any = {};\n  enabledControls: Array<string> = [];\n  showSubitem = true;\n  groups: Map<string, TagGroup>;\n  groupsFeatures: Map<string, any>;\n  groups$: Subscription;\n  private activeProject: Project;\n\n  constructor(\n    private formsService: FormsService,\n    private groupsService: GroupsService,\n    private dialog: MatDialog,\n    private router: Router,\n    private geoDataService: GeoDataService,\n    private projectsService: ProjectsService\n  ) {}\n\n  ngOnInit() {\n    this.geoDataService.activeGroup.subscribe((next) => {\n      this.activeGroup = next;\n    });\n\n    this.geoDataService.groups.subscribe((next) => {\n      this.groups = next;\n    });\n\n    this.geoDataService.groupsFeatures.subscribe((next) => {\n      this.groupsFeatures = next;\n    });\n\n    this.projectsService.activeProject.subscribe((next) => {\n      this.activeProject = next;\n    });\n\n    this.formOptions = [];\n    this.formType = 'text';\n    this.formName = '';\n    this.formLabel = '';\n    this.formValue = '';\n    this.formRequired = false;\n    this.enabledControls = ['Text', 'Checkbox', 'Radio', 'Dropdown', 'Color'];\n  }\n\n  inputFormLabel(event: any) {\n    this.formLabel = event.target.value;\n  }\n\n  inputFormColor(event: any) {\n    this.formColor = event.target.value;\n  }\n\n  addOptionItem(value: string) {\n    if (value) {\n      const formWithValue = this.formOptions.filter((e) => e.label == value);\n      if (formWithValue.length == 0 && value.length != 0) {\n        this.formOptions.push({\n          label: value,\n          color: this.optionColorFilter,\n        });\n      }\n    }\n  }\n\n  deleteOption(opt: any) {\n    this.formOptions = this.formOptions.filter(\n      (option) => option.label != opt.label\n    );\n  }\n\n  openRenameModal(template: TemplateRef<any>, name: string) {\n    this.selectedGroup = name;\n    this.dialog.open(template);\n  }\n\n  openRenameOptionModal(template: TemplateRef<any>) {\n    this.dialog.open(template);\n  }\n\n  renameOption(opt: any, label: string) {\n    label = label.toLowerCase();\n    this.formOptions.forEach((e) => {\n      if (e.label == opt.label) {\n        e.label = label;\n      }\n    });\n  }\n\n  selectInputForm(name: string) {\n    this.formType = name;\n    this.formLabel = '';\n    this.formOptions = [];\n  }\n\n  clearOption() {\n    this.optionFilter = '';\n  }\n\n  clearLabel() {\n    this.labelFilter = '';\n  }\n\n  clearOptionColor() {\n    this.optionColorFilter = '#000000';\n  }\n\n  clear() {\n    this.clearLabel();\n    this.clearOptionColor();\n    this.clearOption();\n  }\n\n  addFormItem() {\n    // Assemble the new tag\n    const formItem: GroupForm = {\n      type: this.formType,\n      groupName: this.activeGroup.name,\n      label: this.formLabel,\n      options: [],\n    };\n    this.openOption[this.formLabel] = false;\n    // Adds the options for drop down, checklist, and radio buttons\n    if (this.formType !== 'text' && this.formOptions.length != 0) {\n      const myOpts = [];\n      for (const opt of this.formOptions) {\n        myOpts.push({\n          label: opt,\n        });\n      }\n      formItem.options = this.formOptions;\n    }\n\n    this.formsService.createForm(\n      this.activeProject.id,\n      formItem,\n      this.groups.get(this.activeGroup.name),\n      this.groupsFeatures.get(this.activeGroup.name)\n    );\n\n    // Reset user-defined fields to blank options\n    this.formLabel = '';\n    this.formColor = '';\n    this.formOptions = [];\n    this.groupsService.setShowTagGenerator(false);\n    this.clear();\n  }\n\n  cancelCreate() {\n    this.groupsService.setShowTagGenerator(false);\n    this.clear();\n  }\n\n  expandPanel() {\n    this.showSubitem = !this.showSubitem;\n  }\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { FeatureService } from 'src/app/services/feature.service';\nimport { FormsService } from 'src/app/services/forms.service';\nimport { GroupsService } from 'src/app/services/groups.service';\nimport { Feature, GroupForm, Project, TagGroup } from 'src/app/models/models';\nimport { ProjectsService } from 'src/app/services/projects.service';\nimport { GeoDataService } from 'src/app/services/geo-data.service';\n\n@Component({\n  selector: 'app-form-checkbox',\n  templateUrl: 'form-checkbox.component.html',\n})\nexport class FormCheckBoxComponent {\n  @Output() formValue: EventEmitter<any> = new EventEmitter<any>();\n  @Input() field: any;\n  @Input() form: GroupForm;\n  value: any[] = [];\n  activeGroupFeature: Feature;\n  activeGroup: TagGroup;\n  private activeProject: Project;\n\n  constructor(\n    private formsService: FormsService,\n    private groupsService: GroupsService,\n    private geoDataService: GeoDataService,\n    private projectsService: ProjectsService,\n    private featureService: FeatureService\n  ) {}\n\n  ngOnInit() {\n    this.geoDataService.activeGroupFeature.subscribe((next) => {\n      this.activeGroupFeature = next;\n      this.value = this.formsService.getTagValue(next, this.form);\n      this.formValue.emit({ id: this.form.id, value: this.value });\n    });\n\n    this.geoDataService.activeGroup.subscribe((next) => {\n      this.activeGroup = next;\n    });\n\n    this.projectsService.activeProject.subscribe((next) => {\n      this.activeProject = next;\n    });\n  }\n\n  isChecked(opt) {\n    return this.value.some((val) => val.label === opt.label);\n  }\n\n  selected(e: any, option: any) {\n    this.value = this.value.filter((opt) => opt.label !== option.label);\n    if (e.target.checked) {\n      this.value.push(option);\n    }\n    this.formValue.emit({ id: this.form.id, value: this.value });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZS1iYXIvdGFnLWltYWdlcy9mb3JtLWdlbmVyYXRvci9mb3JtLWZpZWxkcy9mb3JtLWNvbG9yL2Zvcm0tY29sb3IuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { FormsService } from 'src/app/services/forms.service';\nimport { Feature, Project, GroupForm, TagGroup } from 'src/app/models/models';\nimport { GeoDataService } from 'src/app/services/geo-data.service';\nimport { ProjectsService } from 'src/app/services/projects.service';\n\n@Component({\n  selector: 'app-form-color',\n  templateUrl: './form-color.component.html',\n  styleUrls: ['./form-color.component.scss'],\n})\nexport class FormColorComponent implements OnInit {\n  @Output() formValue: EventEmitter<any> = new EventEmitter<any>();\n  @Input() field: any = {};\n  @Input() form: GroupForm;\n  @Input() color: string;\n  @Input() label: String;\n\n  public chosenTag: string;\n  public activeProject: Project;\n  public activeGroup: TagGroup;\n  public activeGroupFeature: Feature;\n  public chosenColor = '#ffffff';\n  value: any = {};\n\n  constructor(\n    private formsService: FormsService,\n    private projectsService: ProjectsService,\n    private geoDataService: GeoDataService\n  ) {}\n\n  ngOnInit() {\n    this.geoDataService.activeGroupFeature.subscribe((next) => {\n      this.value = this.formsService.getTagValue(next, this.form);\n      this.chosenTag = this.value.label;\n      this.formValue.emit({ id: this.form.id, value: this.value });\n    });\n\n    this.projectsService.activeProject.subscribe((next) => {\n      this.activeProject = next;\n    });\n\n    this.geoDataService.activeGroup.subscribe((next: TagGroup) => {\n      this.activeGroup = next;\n    });\n\n    this.geoDataService.activeGroupFeature.subscribe((next) => {\n      this.activeGroupFeature = next;\n    });\n  }\n\n  updateCheckedTag() {\n    this.value = this.form.options.find((opt) => opt.label === this.chosenTag);\n    this.formsService.saveStyles(\n      this.activeProject.id,\n      [this.activeGroupFeature],\n      this.activeGroup,\n      this.value.color\n    );\n    this.formValue.emit({ id: this.form.id, value: this.value });\n  }\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { FormsService } from 'src/app/services/forms.service';\nimport { GroupsService } from 'src/app/services/groups.service';\nimport { Feature, GroupForm } from 'src/app/models/models';\nimport { GeoDataService } from 'src/app/services/geo-data.service';\n\n@Component({\n  selector: 'app-form-dropdown',\n  templateUrl: './form-dropdown.component.html',\n})\nexport class FormDropDownComponent {\n  @Output() formValue: EventEmitter<any> = new EventEmitter<any>();\n  @Input() field: any = {};\n  @Input() form: GroupForm;\n  value: string;\n\n  constructor(\n    private formsService: FormsService,\n    private geoDataService: GeoDataService\n  ) {}\n\n  ngOnInit() {\n    this.geoDataService.activeGroupFeature.subscribe((next) => {\n      this.value = this.formsService.getTagValue(next, this.form);\n      this.formValue.emit({ id: this.form.id, value: this.value });\n    });\n  }\n\n  updateCheckedTag() {\n    this.formValue.emit({ id: this.form.id, value: this.value });\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { GroupForm } from 'src/app/models/models';\n\n@Component({\n  selector: 'app-form-fields',\n  templateUrl: './form-fields.component.html',\n})\nexport class FormFieldsComponent implements OnInit {\n  field: any;\n  form: GroupForm;\n\n  constructor() {}\n\n  // This file and the HTML connected to this is useless so don't worry about it\n  ngOnInit() {}\n}\n","export default \":host .drop-container {\\n  background: #fff;\\n  border-radius: 6px;\\n  height: 150px;\\n  width: 100%;\\n  box-shadow: 1px 2px 20px rgba(10, 10, 10, 0.1);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border: 2px dashed #c0c4c7;\\n}\\n:host p {\\n  font-size: 16px;\\n  font-weight: 400;\\n  color: #c0c4c7;\\n}\\n:host .upload-button {\\n  display: inline-block;\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n  color: #5754a3;\\n}\\n:host .upload-button input {\\n  display: none;\\n}\\n:host .dropzone {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n  border-radius: 5px;\\n  background: white;\\n  margin: 10px 0;\\n}\\n:host .dropzone.hovering {\\n  border: 2px solid #f16624;\\n  color: #dadada !important;\\n}\\n:host progress::-webkit-progress-value {\\n  transition: width 0.1s ease;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL3NpZGUtYmFyL3RhZy1pbWFnZXMvZm9ybS1nZW5lcmF0b3IvZm9ybS1maWVsZHMvZm9ybS1maWxlL2Zvcm0tZmlsZS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9zaWRlLWJhci90YWctaW1hZ2VzL2Zvcm0tZ2VuZXJhdG9yL2Zvcm0tZmllbGRzL2Zvcm0tZmlsZS9mb3JtLWZpbGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7RUFDQSw4Q0FBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsMEJBQUE7QUNBSjtBREdFO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtBQ0RKO0FESUU7RUFDRSxxQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7QUNGSjtBREtFO0VBQ0UsYUFBQTtBQ0hKO0FETUU7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGNBQUE7QUNKSjtBRE9FO0VBQ0UseUJBQUE7RUFDQSx5QkFBQTtBQ0xKO0FEUUU7RUFDRSwyQkFBQTtBQ05KIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlLWJhci90YWctaW1hZ2VzL2Zvcm0tZ2VuZXJhdG9yL2Zvcm0tZmllbGRzL2Zvcm0tZmlsZS9mb3JtLWZpbGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIC5kcm9wLWNvbnRhaW5lciB7XG4gICAgYmFja2dyb3VuZDogI2ZmZjtcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgaGVpZ2h0OiAxNTBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3gtc2hhZG93OiAxcHggMnB4IDIwcHggaHNsYSgwLCAwJSwgNCUsIDAuMSk7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGJvcmRlcjogMnB4IGRhc2hlZCAjYzBjNGM3O1xuICB9XG5cbiAgcCB7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgY29sb3I6ICNjMGM0Yzc7XG4gIH1cblxuICAudXBsb2FkLWJ1dHRvbiB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGJvcmRlcjogbm9uZTtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBjb2xvcjogIzU3NTRhMztcbiAgfVxuXG4gIC51cGxvYWQtYnV0dG9uIGlucHV0IHtcbiAgICBkaXNwbGF5OiBub25lO1xuICB9XG5cbiAgLmRyb3B6b25lIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgbWFyZ2luOiAxMHB4IDA7XG4gIH1cblxuICAuZHJvcHpvbmUuaG92ZXJpbmcge1xuICAgIGJvcmRlcjogMnB4IHNvbGlkICNmMTY2MjQ7XG4gICAgY29sb3I6ICNkYWRhZGEgIWltcG9ydGFudDtcbiAgfVxuXG4gIHByb2dyZXNzOjotd2Via2l0LXByb2dyZXNzLXZhbHVlIHtcbiAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjFzIGVhc2U7XG4gIH1cbn1cbiIsIjpob3N0IC5kcm9wLWNvbnRhaW5lciB7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgaGVpZ2h0OiAxNTBweDtcbiAgd2lkdGg6IDEwMCU7XG4gIGJveC1zaGFkb3c6IDFweCAycHggMjBweCByZ2JhKDEwLCAxMCwgMTAsIDAuMSk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBib3JkZXI6IDJweCBkYXNoZWQgI2MwYzRjNztcbn1cbjpob3N0IHAge1xuICBmb250LXNpemU6IDE2cHg7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGNvbG9yOiAjYzBjNGM3O1xufVxuOmhvc3QgLnVwbG9hZC1idXR0b24ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGJvcmRlcjogbm9uZTtcbiAgb3V0bGluZTogbm9uZTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBjb2xvcjogIzU3NTRhMztcbn1cbjpob3N0IC51cGxvYWQtYnV0dG9uIGlucHV0IHtcbiAgZGlzcGxheTogbm9uZTtcbn1cbjpob3N0IC5kcm9wem9uZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJhY2tncm91bmQ6IHdoaXRlO1xuICBtYXJnaW46IDEwcHggMDtcbn1cbjpob3N0IC5kcm9wem9uZS5ob3ZlcmluZyB7XG4gIGJvcmRlcjogMnB4IHNvbGlkICNmMTY2MjQ7XG4gIGNvbG9yOiAjZGFkYWRhICFpbXBvcnRhbnQ7XG59XG46aG9zdCBwcm9ncmVzczo6LXdlYmtpdC1wcm9ncmVzcy12YWx1ZSB7XG4gIHRyYW5zaXRpb246IHdpZHRoIDAuMXMgZWFzZTtcbn0iXX0= */\"","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { GroupForm } from 'src/app/models/models';\n\n@Component({\n  selector: 'app-form-file',\n  templateUrl: './form-file.component.html',\n  styleUrls: ['./form-file.component.scss'],\n})\nexport class FormFileComponent {\n  field: any = {};\n  form: GroupForm;\n\n  constructor() {}\n\n  ngOnChange() {\n    console.log(this.field.value);\n  }\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { FormsService } from 'src/app/services/forms.service';\nimport { GroupForm } from 'src/app/models/models';\nimport { GeoDataService } from 'src/app/services/geo-data.service';\n\n@Component({\n  selector: 'app-form-radio',\n  templateUrl: './form-radio.component.html',\n})\nexport class FormRadioComponent {\n  @Output() formValue: EventEmitter<any> = new EventEmitter<any>();\n  @Input() field: any = {};\n  @Input() form: GroupForm;\n  @Input() label: String;\n  public value: string;\n\n  constructor(\n    private formsService: FormsService,\n    private geoDataService: GeoDataService\n  ) {}\n\n  ngOnInit() {\n    this.geoDataService.activeGroupFeature.subscribe((next) => {\n      this.value = this.formsService.getTagValue(next, this.form);\n      this.formValue.emit({ id: this.form.id, value: this.value });\n    });\n  }\n\n  updateCheckedTag() {\n    this.formValue.emit({ id: this.form.id, value: this.value });\n  }\n}\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { FormsService } from 'src/app/services/forms.service';\nimport { Feature, GroupForm, Project, TagGroup } from 'src/app/models/models';\nimport { GeoDataService } from 'src/app/services/geo-data.service';\n\n@Component({\n  selector: 'app-form-textbox',\n  templateUrl: './form-textbox.component.html',\n})\nexport class FormTextBoxComponent {\n  @Output() formValue: EventEmitter<any> = new EventEmitter<any>();\n  @Input() field: any = {};\n  @Input() form: GroupForm;\n  value = '';\n\n  constructor(\n    private formsService: FormsService,\n    private geoDataService: GeoDataService\n  ) {}\n\n  ngOnInit() {\n    this.geoDataService.activeGroupFeature.subscribe((next) => {\n      this.value = this.formsService.getTagValue(next, this.form);\n      this.formValue.emit({ id: this.form.id, value: this.value });\n    });\n  }\n\n  updateValue() {\n    this.formValue.emit({ id: this.form.id, value: this.value });\n  }\n}\n","export default \":host {\\n  text-align: left;\\n}\\n:host .mat-form-field {\\n  width: 100%;\\n  text-align: left;\\n}\\n:host .input-group {\\n  padding: 5px;\\n}\\n:host label {\\n  padding: 5px;\\n}\\n:host input {\\n  padding: 5px;\\n  vertical-align: middle;\\n}\\n:host .radio-group {\\n  display: flex;\\n  flex-direction: column;\\n}\\n:host .form-controls {\\n  padding: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL3NpZGUtYmFyL3RhZy1pbWFnZXMvZm9ybS1nZW5lcmF0b3IvZm9ybS1nZW5lcmF0b3IuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL2NvbXBvbmVudHMvc2lkZS1iYXIvdGFnLWltYWdlcy9mb3JtLWdlbmVyYXRvci9mb3JtLWdlbmVyYXRvci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0FDQ0Y7QURBRTtFQUNFLFdBQUE7RUFDQSxnQkFBQTtBQ0VKO0FEQ0U7RUFDRSxZQUFBO0FDQ0o7QURFRTtFQUNFLFlBQUE7QUNBSjtBREdFO0VBQ0UsWUFBQTtFQUNBLHNCQUFBO0FDREo7QURJRTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtBQ0ZKO0FES0U7RUFDRSxhQUFBO0FDSEoiLCJmaWxlIjoic3JjL2FwcC9jb21wb25lbnRzL3NpZGUtYmFyL3RhZy1pbWFnZXMvZm9ybS1nZW5lcmF0b3IvZm9ybS1nZW5lcmF0b3IuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIC5tYXQtZm9ybS1maWVsZCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgfVxuXG4gIC5pbnB1dC1ncm91cCB7XG4gICAgcGFkZGluZzogNXB4O1xuICB9XG5cbiAgbGFiZWwge1xuICAgIHBhZGRpbmc6IDVweDtcbiAgfVxuXG4gIGlucHV0IHtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgfVxuXG4gIC5yYWRpby1ncm91cCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICB9XG5cbiAgLmZvcm0tY29udHJvbHMge1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gIH1cbn1cbiIsIjpob3N0IHtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cbjpob3N0IC5tYXQtZm9ybS1maWVsZCB7XG4gIHdpZHRoOiAxMDAlO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuOmhvc3QgLmlucHV0LWdyb3VwIHtcbiAgcGFkZGluZzogNXB4O1xufVxuOmhvc3QgbGFiZWwge1xuICBwYWRkaW5nOiA1cHg7XG59XG46aG9zdCBpbnB1dCB7XG4gIHBhZGRpbmc6IDVweDtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbn1cbjpob3N0IC5yYWRpby1ncm91cCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG46aG9zdCAuZm9ybS1jb250cm9scyB7XG4gIHBhZGRpbmc6IDIwcHg7XG59Il19 */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { GroupForm } from 'src/app/models/models';\n\n@Component({\n  selector: 'app-form-generator',\n  templateUrl: './form-generator.component.html',\n  styleUrls: ['./form-generator.component.scss'],\n})\nexport class FormGeneratorComponent implements OnInit {\n  constructor() {}\n  @Input() form: GroupForm;\n  @Output() newValue: EventEmitter<any> = new EventEmitter<any>();\n  checked = false;\n  colorArray: Array<string> = [];\n  values = [];\n\n  name = new FormControl('');\n\n  ngOnInit() {\n    this.generateColors();\n  }\n\n  // Generates a key:value list of colors ranging from green (#00FF00) to red (#FF0000) based on passed in info\n  generateColors() {\n    let itemCount = this.form.options.length;\n    let isOdd = false;\n    if (itemCount % 2 === 1) {\n      // if there are an odd number of items in the collection, mark it and decriment the counter\n      isOdd = true;\n      itemCount--;\n    }\n    // Subtract 2 from item count (first entry is always green, #00FF00, last entry is always red, #FF0000\n    // Then half the item count, and use it to divide 255, this gives the amount we have to increment the colors\n    itemCount = (itemCount - 2) / 2;\n    let incrementVal = Math.floor(255 / itemCount);\n    if (incrementVal === 255) {\n      incrementVal = Math.floor(incrementVal / 2);\n    }\n    this.colorArray.push('#00FF00');\n    let baseNum = 0;\n    let temp: string;\n    // First loop, counts up from zero towards 255\n    for (let index = 0; index < itemCount; index++) {\n      baseNum = baseNum + incrementVal;\n      temp = baseNum.toString(16);\n      this.colorArray.push(`#${temp}FF00`);\n    }\n    // if there is an odd number of selections, push full yellow as a midpoint in the gradient\n    if (isOdd) {\n      this.colorArray.push('#FFFF00');\n    }\n    baseNum = 255; // Resets baseNum to 255 for the count down\n    // Second loop, counts down from 255 towards zero\n    for (let index = 0; index < itemCount; index++) {\n      baseNum = baseNum - incrementVal;\n      temp = baseNum.toString(16);\n      if (temp.length != 2) {\n        temp = '0' + temp;\n      }\n      this.colorArray.push(`#FF${temp}00`);\n    }\n    // Finally, pushes the color code for red onto the stack for the last entry\n    this.colorArray.push('#FF0000');\n  }\n\n  setValue(formValue) {\n    this.newValue.emit(formValue);\n  }\n}\n","export default \":host {\\n  font-size: 0.8em;\\n  display: block;\\n}\\n:host .subitem-title {\\n  text-align: left;\\n  display: flex;\\n  justify-content: space-between;\\n  color: #555;\\n  font-size: 14px;\\n  padding: 10px;\\n  background-color: #f1f1f1;\\n}\\n:host .subitem {\\n  border-width: 0px 10px;\\n  border-color: #f1f1f1;\\n  border-style: solid;\\n  padding: 10px;\\n  overflow-y: auto;\\n  background-color: #ffffff;\\n  height: 40vh;\\n}\\n:host .main-form-container {\\n  padding: 10px;\\n}\\n:host .subitem-scroll {\\n  padding: 10px;\\n}\\n:host .subitem-scroll {\\n  border-width: 5px;\\n}\\n:host .highlight {\\n  background-color: #b3e5ff;\\n}\\n:host .boxed input[type=radio] {\\n  display: none;\\n}\\n:host .boxed label {\\n  background-color: #fff;\\n  transition: all 0.3s;\\n}\\n:host .boxed input[type=radio]:checked + label {\\n  background-color: #b3e5ff;\\n}\\n:host .group-container {\\n  display: flex;\\n  flex-direction: row;\\n  margin: 0;\\n  justify-content: space-between;\\n}\\n:host .select-group {\\n  max-height: 20%;\\n  height: 20%;\\n}\\n:host .tag-forms {\\n  height: 500px;\\n}\\n:host .asset-list {\\n  max-height: 20%;\\n  height: 20%;\\n}\\n:host .asset-container {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  cursor: pointer;\\n}\\n:host .preset-descriptions {\\n  max-height: 20%;\\n  height: 20%;\\n}\\n:host .form-item-container {\\n  display: flex;\\n  flex-direction: row;\\n  margin: 0;\\n  justify-content: space-between;\\n}\\n:host .button-group {\\n  display: flex;\\n  flex-direction: row;\\n  margin: 0;\\n}\\n:host .button-group div {\\n  padding: 3px;\\n}\\n:host .name-group {\\n  padding: 3px;\\n  font-size: 17px;\\n  font-weight: bold;\\n}\\n:host .list-group {\\n  display: flex;\\n  flex-direction: row;\\n  margin: 0;\\n  justify-content: space-between;\\n}\\n:host .list-suboptions {\\n  background-color: #f0f0f0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9pcGFyay90YWdnaXQyLjAvc3JjL2FwcC9jb21wb25lbnRzL3NpZGUtYmFyL3RhZy1pbWFnZXMvdGFnLWltYWdlcy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9zaWRlLWJhci90YWctaW1hZ2VzL3RhZy1pbWFnZXMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxnQkFBQTtFQUNBLGNBQUE7QUNERjtBRElFO0VBQ0UsZ0JBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGFBQUE7RUFDQSx5QkFBQTtBQ0ZKO0FES0U7RUFDRSxzQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUNISjtBRE1FO0VBQ0UsYUFBQTtBQ0pKO0FET0U7RUFDRSxhQUFBO0FDTEo7QURRRTtFQUNFLGlCQUFBO0FDTko7QURTRTtFQUNFLHlCQUFBO0FDUEo7QURVRTtFQUNFLGFBQUE7QUNSSjtBRFdFO0VBQ0Usc0JBQUE7RUFDQSxvQkFBQTtBQ1RKO0FEWUU7RUFDRSx5QkFBQTtBQ1ZKO0FEYUU7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0VBQ0EsOEJBQUE7QUNYSjtBRGNFO0VBQ0UsZUFBQTtFQUNBLFdBQUE7QUNaSjtBRGVFO0VBR0UsYUFBQTtBQ2ZKO0FEa0JFO0VBQ0UsZUFBQTtFQUNBLFdBQUE7QUNoQko7QURtQkU7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7QUNqQko7QURvQkU7RUFDRSxlQUFBO0VBQ0EsV0FBQTtBQ2xCSjtBRHFCRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7RUFDQSw4QkFBQTtBQ25CSjtBRHNCRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7QUNwQko7QUR1QkU7RUFDRSxZQUFBO0FDckJKO0FEd0JFO0VBQ0UsWUFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQ3RCSjtBRHlCRTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7RUFDQSw4QkFBQTtBQ3ZCSjtBRDBCRTtFQUNFLHlCQUFBO0FDeEJKIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9zaWRlLWJhci90YWctaW1hZ2VzL3RhZy1pbWFnZXMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAaW1wb3J0ICcuLi8uLi8uLi8uLi92YXJpYWJsZXMuc2Nzcyc7XG5cbjpob3N0IHtcbiAgZm9udC1zaXplOiAwLjhlbTtcbiAgZGlzcGxheTogYmxvY2s7XG4gIC8vIGhlaWdodDogY2FsYygxMDB2aCAtIDUwcHgpO1xuXG4gIC5zdWJpdGVtLXRpdGxlIHtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGNvbG9yOiAjNTU1O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XG4gIH1cblxuICAuc3ViaXRlbSB7XG4gICAgYm9yZGVyLXdpZHRoOiAwcHggMTBweDtcbiAgICBib3JkZXItY29sb3I6ICNmMWYxZjE7XG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIG92ZXJmbG93LXk6IGF1dG87XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgICBoZWlnaHQ6IDQwdmg7XG4gIH1cblxuICAubWFpbi1mb3JtLWNvbnRhaW5lciB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgfVxuXG4gIC5zdWJpdGVtLXNjcm9sbCB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgfVxuXG4gIC5zdWJpdGVtLXNjcm9sbCB7XG4gICAgYm9yZGVyLXdpZHRoOiA1cHg7XG4gIH1cblxuICAuaGlnaGxpZ2h0IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjNlNWZmO1xuICB9XG5cbiAgLmJveGVkIGlucHV0W3R5cGU9J3JhZGlvJ10ge1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuICAuYm94ZWQgbGFiZWwge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XG4gIH1cblxuICAuYm94ZWQgaW5wdXRbdHlwZT0ncmFkaW8nXTpjaGVja2VkICsgbGFiZWwge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNiM2U1ZmY7XG4gIH1cblxuICAuZ3JvdXAtY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgbWFyZ2luOiAwO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgfVxuXG4gIC5zZWxlY3QtZ3JvdXAge1xuICAgIG1heC1oZWlnaHQ6IDIwJTtcbiAgICBoZWlnaHQ6IDIwJTtcbiAgfVxuXG4gIC50YWctZm9ybXMge1xuICAgIC8vIG1heC1oZWlnaHQ6IDUwJTtcbiAgICAvLyBoZWlnaHQ6IGF1dG87XG4gICAgaGVpZ2h0OiA1MDBweDtcbiAgfVxuXG4gIC5hc3NldC1saXN0IHtcbiAgICBtYXgtaGVpZ2h0OiAyMCU7XG4gICAgaGVpZ2h0OiAyMCU7XG4gIH1cblxuICAuYXNzZXQtY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgfVxuXG4gIC5wcmVzZXQtZGVzY3JpcHRpb25zIHtcbiAgICBtYXgtaGVpZ2h0OiAyMCU7XG4gICAgaGVpZ2h0OiAyMCU7XG4gIH1cblxuICAuZm9ybS1pdGVtLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIG1hcmdpbjogMDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIH1cblxuICAuYnV0dG9uLWdyb3VwIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgbWFyZ2luOiAwO1xuICB9XG5cbiAgLmJ1dHRvbi1ncm91cCBkaXYge1xuICAgIHBhZGRpbmc6IDNweDtcbiAgfVxuXG4gIC5uYW1lLWdyb3VwIHtcbiAgICBwYWRkaW5nOiAzcHg7XG4gICAgZm9udC1zaXplOiAxN3B4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB9XG5cbiAgLmxpc3QtZ3JvdXAge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBtYXJnaW46IDA7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB9XG5cbiAgLmxpc3Qtc3Vib3B0aW9ucyB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcbiAgfVxufVxuIiwiOmhvc3Qge1xuICBmb250LXNpemU6IDAuOGVtO1xuICBkaXNwbGF5OiBibG9jaztcbn1cbjpob3N0IC5zdWJpdGVtLXRpdGxlIHtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBjb2xvcjogIzU1NTtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBwYWRkaW5nOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxO1xufVxuOmhvc3QgLnN1Yml0ZW0ge1xuICBib3JkZXItd2lkdGg6IDBweCAxMHB4O1xuICBib3JkZXItY29sb3I6ICNmMWYxZjE7XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gIGhlaWdodDogNDB2aDtcbn1cbjpob3N0IC5tYWluLWZvcm0tY29udGFpbmVyIHtcbiAgcGFkZGluZzogMTBweDtcbn1cbjpob3N0IC5zdWJpdGVtLXNjcm9sbCB7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG46aG9zdCAuc3ViaXRlbS1zY3JvbGwge1xuICBib3JkZXItd2lkdGg6IDVweDtcbn1cbjpob3N0IC5oaWdobGlnaHQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjNlNWZmO1xufVxuOmhvc3QgLmJveGVkIGlucHV0W3R5cGU9cmFkaW9dIHtcbiAgZGlzcGxheTogbm9uZTtcbn1cbjpob3N0IC5ib3hlZCBsYWJlbCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzO1xufVxuOmhvc3QgLmJveGVkIGlucHV0W3R5cGU9cmFkaW9dOmNoZWNrZWQgKyBsYWJlbCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNiM2U1ZmY7XG59XG46aG9zdCAuZ3JvdXAtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgbWFyZ2luOiAwO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG46aG9zdCAuc2VsZWN0LWdyb3VwIHtcbiAgbWF4LWhlaWdodDogMjAlO1xuICBoZWlnaHQ6IDIwJTtcbn1cbjpob3N0IC50YWctZm9ybXMge1xuICBoZWlnaHQ6IDUwMHB4O1xufVxuOmhvc3QgLmFzc2V0LWxpc3Qge1xuICBtYXgtaGVpZ2h0OiAyMCU7XG4gIGhlaWdodDogMjAlO1xufVxuOmhvc3QgLmFzc2V0LWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuOmhvc3QgLnByZXNldC1kZXNjcmlwdGlvbnMge1xuICBtYXgtaGVpZ2h0OiAyMCU7XG4gIGhlaWdodDogMjAlO1xufVxuOmhvc3QgLmZvcm0taXRlbS1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBtYXJnaW46IDA7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbjpob3N0IC5idXR0b24tZ3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBtYXJnaW46IDA7XG59XG46aG9zdCAuYnV0dG9uLWdyb3VwIGRpdiB7XG4gIHBhZGRpbmc6IDNweDtcbn1cbjpob3N0IC5uYW1lLWdyb3VwIHtcbiAgcGFkZGluZzogM3B4O1xuICBmb250LXNpemU6IDE3cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuOmhvc3QgLmxpc3QtZ3JvdXAge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBtYXJnaW46IDA7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbjpob3N0IC5saXN0LXN1Ym9wdGlvbnMge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xufSJdfQ== */\"","import { Component, OnInit, TemplateRef } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { Feature } from 'geojson';\nimport { combineLatest } from 'rxjs';\nimport { GroupForm, TagGroup } from 'src/app/models/models';\nimport { GeoDataService } from 'src/app/services/geo-data.service';\nimport { ProjectsService } from 'src/app/services/projects.service';\nimport { FormsService } from '../../../services/forms.service';\nimport { GroupsService } from '../../../services/groups.service';\n\n@Component({\n  selector: 'app-tag-images',\n  templateUrl: './tag-images.component.html',\n  styleUrls: ['./tag-images.component.scss'],\n})\nexport class TagImagesComponent implements OnInit {\n  private activeProject;\n  payload: any;\n  selectedGroup: string;\n  activeGroup: TagGroup;\n  showSubitem = true;\n  formList: GroupForm[] = [];\n  tagName = '';\n  groups: Map<string, TagGroup>;\n  groupsFeatures: Map<string, Feature[]>;\n  activeGroupFeature: Feature;\n  tagValues = [];\n\n  constructor(\n    private groupsService: GroupsService,\n    private formsService: FormsService,\n    private dialog: MatDialog,\n    private projectsService: ProjectsService,\n    private geoDataService: GeoDataService\n  ) {}\n\n  ngOnInit() {\n    combineLatest(\n      this.geoDataService.activeGroup,\n      this.geoDataService.groupsFeatures,\n      this.geoDataService.groups\n    ).subscribe(([grp, grpFts, grps]) => {\n      this.activeGroup = grp;\n      this.groupsFeatures = grpFts;\n      this.groups = grps;\n      if (grp) {\n        this.formList = grp.forms;\n      }\n    });\n\n    this.geoDataService.activeGroupFeature.subscribe((next) => {\n      this.activeGroupFeature = next;\n    });\n\n    this.projectsService.activeProject.subscribe((next) => {\n      this.activeProject = next;\n    });\n  }\n\n  openRenameModal(template: TemplateRef<any>, name: string) {\n    this.selectedGroup = name;\n    this.dialog.open(template);\n  }\n\n  // Takes the name of the tag's group, and the tag itself to delete\n  deleteForm(tag: GroupForm) {\n    this.formsService.deleteForm(\n      this.activeProject.id,\n      tag,\n      this.groups.get(this.activeGroup.name),\n      this.groupsFeatures.get(this.activeGroup.name)\n    );\n  }\n\n  // submits a tag's name change to geoAPI\n  renameForm(tag: GroupForm) {\n    this.formsService.renameForm(\n      this.activeProject.id,\n      tag,\n      this.groups.get(this.activeGroup.name),\n      this.groupsFeatures.get(this.activeGroup.name),\n      this.tagName\n    );\n    // Reset newTagValue for the next rename\n    this.tagName = '';\n    this.dialog.closeAll(); // Ensures the window closes when using enter-submission\n  }\n\n  showTagGenerator() {\n    this.groupsService.setShowTagGenerator(true);\n  }\n\n  saveTags() {\n    this.formsService.updateTagValues(\n      this.activeProject,\n      this.activeGroupFeature,\n      this.formList,\n      this.tagValues\n    );\n  }\n\n  setValue(formValue) {\n    this.tagValues = this.tagValues.filter(\n      (value) => value.id !== formValue.id\n    );\n    this.tagValues.push(formValue);\n  }\n\n  expandPanel() {\n    this.showSubitem = !this.showSubitem;\n  }\n}\n","import {\n  Feature as GeoJSONFeature,\n  GeoJsonProperties,\n  Geometry,\n  FeatureCollection as IFeatureCollection,\n} from 'geojson';\n\n// TODO: break these out into their own files\n\nexport interface IPointCloud {\n  id: number;\n  description: string;\n  conversion_parameters: string;\n  feature_id?: number;\n  task_id?: string;\n  project_id: number;\n}\n\n// export interface Group {\n//   groupName: Array<string>;\n//   formList: Array<any>;\n//   // type: any;\n// }\n\n// export interface Group {\n//   groupName: Array<string>;\n//   formList: Array<any>;\n//   // type: any;\n// }\n\nexport interface Group {\n  groupName: string;\n  formList: Array<any>;\n  color: string;\n  // type: any;\n}\n\nexport class Group implements Group {}\n\nexport interface TagGroup {\n  name: string;\n  id?: number;\n  color?: string;\n  icon?: string;\n  forms?: GroupForm[];\n}\n\nexport class TagGroup implements TagGroup {}\n\nexport interface GroupForm {\n  id?: string;\n  groupName?: string;\n  label?: string;\n  color?: string;\n  type?: string;\n  options?: Array<any>;\n}\n\nexport class GroupForm implements GroupForm {}\n\nexport interface Tag {\n  id?: string;\n  value?: any;\n}\n\nexport class Tag implements Tag {}\n\n// NOTE: For geojson/tag\nexport interface TagValue {\n  id: number;\n  featureId?: number;\n  tagId?: number;\n  groupId?: string;\n  value?: Array<any> | string | number;\n}\n\nexport class TagValue implements TagValue {}\n\nexport class AssetFilters {\n  // bbox has the following format: [sw_lng, sw_lat, ne_lng, ne_lat], the same as leaflet\n  bbox: Array<number> = [];\n  assetType: Set<string> = new Set<string>();\n\n  updateAssetTypes(assetType: string) {\n    this.assetType.has(assetType)\n      ? this.assetType.delete(assetType)\n      : this.assetType.add(assetType);\n  }\n\n  updateBBox(bbox: Array<number>): void {\n    this.bbox = bbox;\n  }\n\n  toJson() {\n    return {\n      assetType: [...this.assetType],\n      bbox: this.bbox,\n    };\n  }\n}\n\nexport interface Project {\n  description: string;\n  id?: number;\n  name: string;\n  ds_id?: string;\n  title?: string;\n  uuid?: string;\n  public?: boolean;\n  system_file?: string;\n  system_id?: string;\n  system_path?: string;\n  deletable?: boolean;\n  deleting?: boolean;\n  deletingFailed?: boolean;\n}\n\nexport class Project implements Project {}\n\nexport interface ProjectRequest {\n  project: Project;\n  observable?: boolean;\n  watch_content?: boolean;\n}\n\nexport class ProjectRequest implements ProjectRequest {}\n\nexport class AuthToken {\n  token: string;\n  expires: Date;\n  /**\n   *\n   * @param token : String\n   * @param expires: Date\n   */\n  constructor(token: string, expires: Date) {\n    this.token = token;\n    this.expires = new Date(expires);\n  }\n\n  static fromExpiresIn(token: string, expires_in: number) {\n    const expires = new Date(new Date().getTime() + expires_in * 1000);\n    return new AuthToken(token, expires);\n  }\n\n  /**\n   * Checks if the token is expired or not\n   */\n  public isExpired(): boolean {\n    return new Date().getTime() > this.expires.getTime();\n  }\n}\n\nexport interface IFeatureAsset {\n  id?: number;\n  path?: string;\n  uuid?: string;\n  feature_id?: number;\n  asset_type?: string;\n  display_path?: string;\n}\n\nexport class FeatureAsset implements IFeatureAsset {\n  id: number;\n  path: string;\n  uuid: string;\n  feature_id: number;\n  asset_type: string;\n  display_path: string;\n\n  // TODO: Implenent this\n  get assetPath(): string {\n    return '';\n  }\n}\n\nexport interface FeatureStyles {\n  // [key: string]?: string | number;\n  faIcon?: string;\n  color?: string;\n}\n\nexport class FeatureStyles implements FeatureStyles {}\n\nexport interface Overlay {\n  id: number;\n  path: string;\n  uuid: string;\n  minLon: number;\n  minLat: number;\n  maxLon: number;\n  maxLat: number;\n  project_id: number;\n  label: string;\n}\n\ninterface AppGeoJSONFeature extends GeoJSONFeature {\n  assets?: Array<IFeatureAsset>;\n  styles?: FeatureStyles;\n  project_id?: number;\n  // featureType?(): String\n}\n\nexport class FeatureCollection implements IFeatureCollection {\n  features: Feature[];\n  type: any;\n}\n\nexport class Feature implements AppGeoJSONFeature {\n  geometry: Geometry;\n  // Taggit specific:\n  // properties.tags: Tag[]\n  // properties.groups: Group[]\n  // properties.values: TagValue[]\n  properties: GeoJsonProperties;\n  id?: string | number;\n  type: any;\n  assets?: Array<IFeatureAsset>;\n  styles?: FeatureStyles;\n  project_id?: number;\n\n  constructor(f: AppGeoJSONFeature) {\n    this.geometry = f.geometry;\n    this.properties = f.properties;\n    this.id = f.id;\n    this.type = f.type;\n    this.assets = f.assets;\n    this.styles = f.styles;\n    this.project_id = f.project_id;\n  }\n\n  initialAsset?() {\n    return this.assets[0];\n  }\n\n  featureType?(): string {\n    if (this.assets && this.assets.length === 1) {\n      return this.initialAsset().asset_type;\n    }\n\n    if (this.assets && this.assets.length > 1) {\n      return 'collection';\n    }\n\n    if (!this.assets.length) {\n      return this.geometry.type;\n    }\n  }\n\n  featurePath?(): string {\n    const initialAsset = this.initialAsset();\n    if (initialAsset.display_path) {\n      return initialAsset.display_path;\n    } else if (initialAsset.path) {\n      return initialAsset.path;\n    } else {\n      return this.id.toString();\n    }\n  }\n\n  featureShortPath?(): string {\n    const [initialAsset] = this.assets;\n    if (initialAsset.display_path) {\n      return /[^/]*$/.exec(initialAsset.display_path)[0];\n    } else if (initialAsset.path) {\n      const path = /[^/]*$/.exec(initialAsset.path)[0];\n      return path.slice(0, 15) + '...';\n    } else {\n      return this.id.toString();\n    }\n  }\n}\n\nexport interface IProjectUser {\n  id: number;\n  username: string;\n}\n","import { Injectable } from '@angular/core';\nimport { SystemSummary } from 'ng-tapis';\nimport { ApiService } from 'ng-tapis';\nimport { Observable, ReplaySubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AgaveSystemsService {\n  private baseUrl = 'https://agave.designsafe-ci.org/systems/v2/';\n  private _systems: ReplaySubject<SystemSummary[]> = new ReplaySubject<\n    SystemSummary[]\n  >(1);\n  public readonly systems: Observable<SystemSummary[]> =\n    this._systems.asObservable();\n  private _projects: ReplaySubject<SystemSummary[]> = new ReplaySubject<\n    SystemSummary[]\n  >(1);\n  public readonly projects: Observable<SystemSummary[]> =\n    this._projects.asObservable();\n  private systemsList: SystemSummary[];\n\n  constructor(private tapis: ApiService) {}\n\n  // list() runs when the file browser is opened, retrieves all files in TACC for given user\n  list() {\n    this.tapis.systemsList({ type: 'STORAGE' }).subscribe(\n      (resp) => {\n        this._systems.next(resp.result);\n        this._projects.next(\n          resp.result.filter((sys) => sys.id.startsWith('project'))\n        );\n      },\n      (error) => {\n        this._systems.next(null);\n        this._projects.next(null);\n      }\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthToken } from '../models/models';\nimport { environment } from '../../environments/environment';\nimport { Observable, ReplaySubject } from 'rxjs';\nimport { Router } from '@angular/router';\n\nexport class AuthenticatedUser {\n  public readonly username: string;\n  public readonly email: string;\n  private _token: AuthToken;\n\n  constructor(username: string, email: string) {\n    this.username = username;\n    this.email = email;\n  }\n}\n\ninterface OpenIDUser {\n  name: string;\n  email: string;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class AuthService {\n  private _currentUser: ReplaySubject<AuthenticatedUser> =\n    new ReplaySubject<AuthenticatedUser>(1);\n  public readonly currentUser: Observable<AuthenticatedUser> =\n    this._currentUser.asObservable();\n  userToken: AuthToken;\n  private LS_TOKEN_KEY = 'hazmapperToken';\n  private LS_USER_KEY = 'hazmapperUser';\n\n  constructor(private http: HttpClient, private router: Router) {}\n\n  public login() {\n    // First, check if the user has a token in localStorage\n    const tokenStr = localStorage.getItem(this.LS_TOKEN_KEY);\n    if (!tokenStr) {\n      this.redirectToauthenticaor();\n    } else {\n      const token = JSON.parse(tokenStr);\n      this.userToken = new AuthToken(token.token, new Date(token.expires));\n      if (!this.userToken || this.userToken.isExpired()) {\n        this.logout();\n        this.redirectToauthenticaor();\n      }\n      this.getUserInfo();\n    }\n  }\n\n  private redirectToauthenticaor() {\n    const client_id = environment.clientId;\n    const callback = location.origin + environment.baseHref + 'callback';\n    const state = Math.random().toString(36);\n    const AUTH_URL = `https://agave.designsafe-ci.org/authorize?scope=openid&client_id=${client_id}&response_type=token&redirect_uri=${callback}&state=${state}`;\n    window.location.href = AUTH_URL;\n  }\n\n  /**\n   * Checks to make sure that the user has a token and the token is not expired;\n   */\n  public isLoggedIn(): boolean {\n    return this.userToken && !this.userToken.isExpired();\n  }\n\n  public logout(): void {\n    this.userToken = null;\n    localStorage.removeItem(this.LS_TOKEN_KEY);\n    localStorage.removeItem(this.LS_USER_KEY);\n  }\n\n  public setToken(token: string, expires: number): void {\n    this.userToken = AuthToken.fromExpiresIn(token, expires);\n    localStorage.setItem(this.LS_TOKEN_KEY, JSON.stringify(this.userToken));\n    // hit the wso2 api to retrieve the username etc\n    this.router.navigate(['/']);\n  }\n\n  public getUserInfo() {\n    const INFO_URL = `https://agave.designsafe-ci.org/oauth2/userinfo?schema=openid`;\n    const userStr = localStorage.getItem(this.LS_USER_KEY);\n    const user = JSON.parse(userStr);\n    if (user !== null) {\n      this._currentUser.next(new AuthenticatedUser(user.username, user.email));\n    } else {\n      this.http.get<OpenIDUser>(INFO_URL).subscribe((resp) => {\n        const u = new AuthenticatedUser(resp.name, resp.email);\n        localStorage.setItem(this.LS_USER_KEY, JSON.stringify(u));\n        this._currentUser.next(u);\n      });\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Feature, FeatureCollection } from '../models/models';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { GeoDataService } from './geo-data.service';\nimport { feature } from '@turf/turf';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FeatureService {\n  private featureCollection: FeatureCollection;\n  private _features: BehaviorSubject<FeatureCollection>;\n  public features$: Observable<FeatureCollection>;\n\n  constructor(private geoDataService: GeoDataService) {\n    this._features = new BehaviorSubject<FeatureCollection>({\n      type: 'FeatureCollection',\n      features: [],\n    });\n    this.features$ = this._features.asObservable();\n\n    this.geoDataService.features.subscribe((fc: FeatureCollection) => {\n      this._features.next(fc);\n      this.featureCollection = fc;\n    });\n  }\n\n  // Takes the feature to be deleted, and filters it out of the feature list\n  deleteFeature(feat: Feature): void {\n    this.featureCollection.features = this.featureCollection.features.filter(\n      (featListfeat) => featListfeat.id != feat.id\n    );\n    this._features.next(this.featureCollection); // Update the observable\n    this.geoDataService.deleteFeature(feat);\n  }\n\n  // Takes a list of features, and deletes them from the observable in a more efficient manner\n  bulkFeatureDelete(delFeats: Array<Feature>): void {\n    delFeats.forEach((feat) => {\n      // Filter out every feature in delFeats from the master list\n      this.featureCollection.features = this.featureCollection.features.filter(\n        (featListFeature) => featListFeature.id != feat.id\n      );\n      this.geoDataService.deleteFeature(feat);\n    });\n    this._features.next(this.featureCollection); // Update the observable with the filtered list\n  }\n\n  saveFeature(feat: Feature): void {\n    this.geoDataService.updateFeatureProperty(\n      feat.project_id,\n      Number(feat.id),\n      feat.properties\n    );\n  }\n\n  // Takes a feature, and optionally an updated property section\n  // If featprop is null, it assumes the passed in feature was already updated with the new properties\n  updateFeatureProperties(feature: Feature, featProp = null): void {\n    // If featprop has a value, update the feature's properties to the new section\n    if (featProp != null) {\n      feature.properties = featProp;\n    }\n    // Update and save the list\n    this.featureCollection.features.forEach((feat) => {\n      if (feat.id == feature.id) {\n        feat = feature;\n      }\n    });\n    this.saveFeature(feature);\n  }\n}\n","import { Component, Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, ReplaySubject, Subject } from 'rxjs';\nimport { Group, TagGroup, GroupForm, Tag, Project } from '../models/models';\nimport { map, first } from 'rxjs/operators';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { GeoDataService } from './geo-data.service';\nimport { prepareSyntheticListenerFunctionName } from '@angular/compiler/src/render3/util';\nimport { fadeInItems } from '@angular/material';\nimport { Feature, FeatureCollection } from 'geojson';\nimport { v4 as uuidv4 } from 'uuid';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FormsService {\n  constructor(private geoDataService: GeoDataService) {}\n\n  deleteForm(\n    projectId: number,\n    form: GroupForm,\n    activeGroup: TagGroup,\n    featureGroups: Feature[]\n  ): void {\n    const taggedGroup: TagGroup = {\n      ...activeGroup,\n      forms: activeGroup.forms.filter((t: GroupForm) => t.id !== form.id),\n    };\n\n    this.geoDataService.updateGroupFeatures(\n      projectId,\n      featureGroups,\n      taggedGroup\n    );\n  }\n\n  renameForm(\n    projectId: number,\n    targetForm: GroupForm,\n    activeGroup: TagGroup,\n    featureGroups: Feature[],\n    newName: string\n  ): void {\n    const taggedGroup: TagGroup = {\n      ...activeGroup,\n      forms: [\n        ...activeGroup.forms.filter((form) => form.id !== targetForm.id),\n        { ...targetForm, label: newName },\n      ],\n    };\n\n    this.geoDataService.updateGroupFeatures(\n      projectId,\n      featureGroups,\n      taggedGroup\n    );\n  }\n\n  createForm(\n    projectId: number,\n    form: GroupForm,\n    activeGroup: TagGroup,\n    featureGroups: Feature[]\n  ): void {\n    const id = uuidv4();\n    form = { ...form, id };\n    const taggedGroup: TagGroup = {\n      ...activeGroup,\n      forms: activeGroup.forms ? [...activeGroup.forms, form] : [form],\n    };\n    this.geoDataService.updateGroupFeatures(\n      projectId,\n      featureGroups,\n      taggedGroup\n    );\n  }\n\n  checkDefault(selectedColor: string, feature: any) {\n    if (selectedColor === 'default') {\n      try {\n        selectedColor = feature.styles.color;\n      } catch (error) {\n        selectedColor = '#00C8FF';\n      }\n    }\n    return selectedColor;\n  }\n\n  // Inputs:\n  // color:string A 7 digit hexadecimal string (#RRGGBB) passed in from a color tag\n  // This method accesses group services to retrive the current group's icon as well\n  saveStyles(\n    projectId: number,\n    featureList: Feature[],\n    group: TagGroup,\n    color?: string,\n    icon?: string\n  ) {\n    const style = {\n      color: color ? color : '#00C8FF',\n      faIcon: icon ? icon : group.icon,\n    };\n\n    this.geoDataService.updateGroupFeatures(\n      projectId,\n      featureList,\n      group,\n      style\n    );\n  }\n\n  updateTagValue(\n    activeProject: Project,\n    feature: Feature,\n    form: GroupForm,\n    tagValue: any\n  ) {\n    let tagProp = feature.properties.tags ? feature.properties.tags : [];\n    tagProp = tagProp.filter((tag: Tag) => form.id !== tag.id);\n\n    const tag = {\n      id: form.id,\n      value: tagValue,\n    };\n\n    feature.properties.tags = [...tagProp, tag];\n\n    this.geoDataService.updateFeatureProperty(\n      activeProject.id,\n      feature.id,\n      feature.properties\n    );\n  }\n\n  updateTagValues(\n    activeProject: Project,\n    feature: Feature,\n    formList: GroupForm[],\n    newValues: any[]\n  ) {\n    feature.properties.tags = newValues;\n    this.geoDataService.updateFeatureProperty(\n      activeProject.id,\n      feature.id,\n      feature.properties\n    );\n  }\n\n  getTagValue(feature: Feature, form: GroupForm): any {\n    if (feature.properties.tags) {\n      const tagValueObj = feature.properties.tags.find(\n        (featTag: any) => featTag.id && featTag.id === form.id\n      );\n\n      if (tagValueObj) {\n        return tagValueObj.value;\n      }\n    }\n    if (form.type === 'checkbox') {\n      return [];\n    } else {\n      return '';\n    }\n  }\n}\n\n// TODO: put this in models so we can reference it like we do the Features type\nexport interface tags {\n  type: string;\n  groupName: string;\n  label: string;\n  options: Array<Group>;\n  feature: string | number;\n  extra: Array<Group>;\n  id?: string;\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { BehaviorSubject, Observable, ReplaySubject, Subject } from 'rxjs';\nimport { LatLng } from 'leaflet';\nimport {\n  AssetFilters,\n  FeatureAsset,\n  FeatureStyles,\n  IFeatureAsset,\n  IPointCloud,\n  Overlay,\n  TagGroup,\n  Tag,\n  TagValue,\n  GroupForm,\n} from '../models/models';\nimport { Feature, FeatureCollection } from '../models/models';\nimport { environment } from '../../environments/environment';\nimport { Form } from '@angular/forms';\nimport { take } from 'rxjs/operators';\nimport * as querystring from 'querystring';\nimport { RemoteFile } from 'ng-tapis';\nimport { NotificationsService } from './notifications.service';\nimport { ScrollService } from './scroll.service';\nimport { getRandomColor } from '../utils/randomColor';\nimport { v4 as uuidv4 } from 'uuid';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class GeoDataService {\n  // TODO: clean this up and put the observables up here. Also look into Replay/Behavior\n  // TODO: Go over this and remove all unused functions, a lot of this was copy/pasted over from Hazmapper without a second thought\n  private _features: BehaviorSubject<FeatureCollection>;\n  private features$: Observable<FeatureCollection>;\n  private _activeFeature: BehaviorSubject<any>;\n  private _mapMouseLocation: BehaviorSubject<any>;\n  private _basemap: BehaviorSubject<any>;\n  private _overlays: BehaviorSubject<any>;\n  private _activeOverlay: BehaviorSubject<any>;\n  private _pointClouds: BehaviorSubject<Array<IPointCloud>> =\n    new BehaviorSubject<Array<IPointCloud>>(null);\n  public readonly pointClouds: Observable<Array<IPointCloud>> =\n    this._pointClouds.asObservable();\n  private fileList: Array<RemoteFile>;\n\n  private _loaded: BehaviorSubject<boolean> = new BehaviorSubject(null);\n  public loaded: Observable<boolean> = this._loaded.asObservable();\n\n  private _activeGroupId: BehaviorSubject<number> = new BehaviorSubject(null);\n  public activeGroupId: Observable<number> = this._activeGroupId.asObservable();\n\n  private _activeGroup: BehaviorSubject<TagGroup> = new BehaviorSubject(null);\n  public activeGroup: Observable<TagGroup> = this._activeGroup.asObservable();\n\n  private _activeGroupFeature: BehaviorSubject<any> = new BehaviorSubject<any>(\n    null\n  );\n  public activeGroupFeature: Observable<any> =\n    this._activeGroupFeature.asObservable();\n\n  private _groups: BehaviorSubject<Map<string, TagGroup>> = new BehaviorSubject(\n    null\n  );\n  public groups: Observable<Map<string, TagGroup>> =\n    this._groups.asObservable();\n\n  private _groupsFeatures: BehaviorSubject<Map<string, Feature[]>> =\n    new BehaviorSubject(null);\n  public groupsFeatures: Observable<Map<string, Feature[]>> =\n    this._groupsFeatures.asObservable();\n\n  constructor(\n    private http: HttpClient,\n    private notificationsService: NotificationsService,\n    private scrollService: ScrollService\n  ) {\n    this._features = new BehaviorSubject<FeatureCollection>({\n      type: 'FeatureCollection',\n      features: [],\n    });\n    this.features$ = this._features.asObservable();\n    this._activeFeature = new BehaviorSubject<any>(null);\n    this._mapMouseLocation = new BehaviorSubject<any>(null);\n\n    // For the style of the basemap, defaults to OpenStreetmap\n    this._basemap = new BehaviorSubject<any>('roads');\n\n    // Holds all of the overlays on a project\n    this._overlays = new BehaviorSubject<any>(null);\n    this._activeOverlay = new BehaviorSubject<any>(null);\n  }\n\n  getFeature(\n    projectId: number,\n    feature: Feature\n  ): Observable<FeatureCollection> {\n    return this.http.get<FeatureCollection>(\n      environment.apiUrl + `/projects/${projectId}/features/${feature.id}/`\n    );\n  }\n\n  getFeatures(\n    projectId: number,\n    query: AssetFilters = new AssetFilters(),\n    restoreScroll = false\n  ): void {\n    const qstring: string = querystring.stringify(query.toJson());\n    this.http\n      .get<FeatureCollection>(\n        environment.apiUrl + `/projects/${projectId}/features/` + '?' + qstring\n      )\n      .subscribe(\n        (fc: FeatureCollection) => {\n          fc.features = fc.features.map((feat: Feature) => new Feature(feat));\n          this.getGroups(fc.features);\n          this._features.next(fc);\n          this._loaded.next(true);\n\n          if (restoreScroll) {\n            this.scrollService.setScrollRestored(true);\n          }\n        },\n        (error) => {\n          this.notificationsService.showErrorToast(\n            'Failed to retrieve project data! Geoapi might be down.'\n          );\n        }\n      );\n  }\n\n  deleteFeature(feature: Feature) {\n    this.http\n      .delete(\n        environment.apiUrl +\n          `projects/${feature.project_id}/features/${feature.id}/`\n      )\n      .subscribe((resp) => {\n        this.getFeatures(feature.project_id, new AssetFilters(), true);\n      });\n  }\n\n  getPointClouds(projectId: number) {\n    this.http\n      .get<Array<IPointCloud>>(\n        environment.apiUrl + `/projects/${projectId}/point-cloud/`\n      )\n      .subscribe((resp) => {\n        this._pointClouds.next(resp);\n      });\n  }\n\n  setActiveGroup(group: TagGroup): void {\n    this._activeGroup.next(group);\n    if (group) {\n      const groupFeatures = this._groupsFeatures.value.get(group.name);\n      if (\n        !this._activeGroupFeature.value ||\n        !groupFeatures.some((gf) => this._activeGroupFeature.value.id === gf.id)\n      ) {\n        this.setActiveGroupFeature(groupFeatures[0]);\n      }\n    } else {\n      this.setActiveGroupFeature(null);\n    }\n  }\n\n  setActiveGroupFeature(feat: any): void {\n    this._activeGroupFeature.next(feat);\n  }\n\n  addFeature(feat: Feature): void {\n    this.features$.pipe(take(1)).subscribe((current: FeatureCollection) => {\n      current.features.push(feat);\n      this._features.next(current);\n    });\n  }\n\n  addPointCloud(\n    projectId: number,\n    title: string,\n    conversionParams: string\n  ): void {\n    const payload = {\n      description: title,\n      conversion_parameters: conversionParams,\n    };\n    this.http\n      .post(environment.apiUrl + `/projects/${projectId}/point-cloud/`, payload)\n      .subscribe(\n        (resp) => {\n          this.getPointClouds(projectId);\n        },\n        (error) => {\n          this.notificationsService.showErrorToast(\n            'Failed to update image property!'\n          );\n        }\n      );\n  }\n\n  updateFeatureProperty(\n    projectId: number,\n    featureId: string | number,\n    groupData: any\n  ): void {\n    this.http\n      .post(\n        environment.apiUrl +\n          `projects/${projectId}/features/${featureId}/properties/`,\n        groupData\n      )\n      .subscribe(\n        (resp) => {\n          this.getFeatures(projectId);\n        },\n        (error) => {\n          this.notificationsService.showErrorToast(\n            'Failed to save tag values!'\n          );\n        }\n      );\n  }\n\n  // NOTE: unused for now\n  updateFeatureStyles(\n    projectId: number,\n    featureId: string | number,\n    styles: FeatureStyles\n  ): void {\n    this.http\n      .post(\n        environment.apiUrl +\n          `/projects/${projectId}/features/${featureId}/styles/`,\n        styles\n      )\n      .subscribe(\n        (resp) => {\n          this.getFeatures(projectId);\n        },\n        (error) => {\n          this.notificationsService.showErrorToast(\n            'Failed to update image style!'\n          );\n        }\n      );\n  }\n\n  deletePointCloud(pc: IPointCloud): void {\n    this.http\n      .delete(\n        environment.apiUrl + `/projects/${pc.project_id}/point-cloud/${pc.id}/`\n      )\n      .subscribe((resp) => {\n        this.getPointClouds(pc.project_id);\n      });\n  }\n\n  addFileToPointCloud(pc: IPointCloud, file: File) {\n    const form = new FormData();\n    form.append('file', file);\n    this.http\n      .post(\n        environment.apiUrl + `/projects/${pc.project_id}/point-cloud/${pc.id}/`,\n        form\n      )\n      .subscribe((resp) => {\n        console.log(resp);\n      });\n  }\n\n  // This function updates the underlying observable, so changes naturally flow to feature service\n  importFileFromTapis(projectId: number, files: Array<RemoteFile>): void {\n    const tmp = files.map((f) => ({ system: f.system, path: f.path }));\n    const payload = {\n      files: tmp,\n    };\n    this.fileList = tmp;\n    this.http\n      .post(\n        environment.apiUrl + `projects/${projectId}/features/files/import/`,\n        payload\n      )\n\n      .subscribe(\n        (resp) => {\n          this.notificationsService.showSuccessToast('Import started!');\n        },\n        (error) => {\n          this.notificationsService.showImportErrorToast(\n            'Import failed! Try again?'\n          );\n        }\n      );\n  }\n\n  // An alternate function for importing images with no GPS data. A feature is created elsewhere, and the image is added to the feature\n  // Inputs:\n  // projectId: Id number of current project\n  // features: A pre-created feature with user-defined or zeroed out gps data\n  // file: A Tapis Remote File containing the image to be imported\n  importImage(projectId: number, feature: Feature, path: string): void {\n    const featureId = feature.id;\n    let file;\n    this.fileList.forEach((remoteFile) => {\n      if (remoteFile.path == path) {\n        file = remoteFile;\n      }\n    });\n    const payload = { system_id: file.system, path: file.path };\n    this.http\n      .post(\n        environment.apiUrl +\n          `projects/${projectId}/features/${featureId}/assets/`,\n        payload\n      )\n      .subscribe((resp) => {\n        this.notificationsService.showSuccessToast('Import started!');\n        // this.getFeatures(projectId)\n      });\n  }\n\n  // Creates a new feature from an uploaded locally created feature\n  uploadNewFeature(projectId: number, feature: Feature, path: string): void {\n    const payload = feature;\n    let response;\n    // Calls the addFeatureAsset route in GeoAPI, resp is a list of features\n    this.http\n      .post(environment.apiUrl + `projects/${projectId}/features/`, payload)\n      .subscribe((resp) => {\n        response = new Feature(resp[0]);\n        this.importImage(projectId, response, path);\n      });\n  }\n\n  downloadGeoJSON(projectId: number, query: AssetFilters = new AssetFilters()) {\n    const qstring: string = querystring.stringify(query.toJson());\n    const downloadLink = document.createElement('a');\n\n    this.http\n      .get<FeatureCollection>(\n        environment.apiUrl + `/projects/${projectId}/features/` + '?' + qstring\n      )\n      .subscribe((resp) => {\n        const blob = new Blob([JSON.stringify(resp)], {\n          type: 'application/json',\n        });\n        downloadLink.href = URL.createObjectURL(blob);\n        downloadLink.setAttribute('download', 'hazmapper.json');\n        document.body.appendChild(downloadLink);\n        downloadLink.click();\n        document.body.removeChild(downloadLink);\n      });\n  }\n\n  uploadFile(projectId: number, file: File): void {\n    const form: FormData = new FormData();\n    form.append('file', file, file.name);\n    this.http\n      .post<Array<Feature>>(\n        environment.apiUrl + `/projects/${projectId}/features/files/`,\n        form\n      )\n      .subscribe(\n        (feats) => {\n          feats.forEach((feat) => {\n            this.addFeature(new Feature(feat));\n          });\n        },\n        (error) => {\n          // TODO: Add notification\n        }\n      );\n  }\n\n  uploadAssetFile(projectId: number, featureId: number, file: File): void {\n    const form: FormData = new FormData();\n    form.append('file', file, file.name);\n    this.http\n      .post<Feature>(\n        environment.apiUrl +\n          `/api/projects/${projectId}/features/${featureId}/assets/`,\n        form\n      )\n      .subscribe(\n        (feature) => {\n          // TODO workaround to update activeFeature\n          const f = this._activeFeature.getValue();\n          if (f && f.id === featureId) {\n            this.activeFeature = new Feature(feature);\n            this.getFeatures(projectId);\n          }\n        },\n        (error) => {\n          // TODO: Add notification\n        }\n      );\n  }\n\n  getOverlays(projectId: number): void {\n    this.http\n      .get(environment.apiUrl + `/projects/${projectId}/overlays/`)\n      .subscribe((ovs: Array<Overlay>) => {\n        this._overlays.next(ovs);\n      });\n  }\n\n  addOverlay(\n    projectId: number,\n    file: File,\n    label: string,\n    minLat: number,\n    maxLat: number,\n    minLon: number,\n    maxLon: number\n  ) {\n    const payload = new FormData();\n    payload.append('file', file);\n    payload.append('label', label);\n    payload.append('minLat', minLat.toFixed(6));\n    payload.append('maxLat', maxLat.toFixed(6));\n    payload.append('minLon', minLon.toFixed(6));\n    payload.append('maxLon', maxLon.toFixed(6));\n\n    this.http\n      .post(environment.apiUrl + `/projects/${projectId}/overlays/`, payload)\n      .subscribe((resp) => {\n        this.getOverlays(projectId);\n      });\n  }\n\n  // Call on getFeatures (each time feature update)\n  getGroups(featureList: Feature[]): void {\n    const groups = new Map<string, TagGroup>();\n    const groupsFeatures = new Map<string, Feature[]>();\n    featureList\n      .filter(\n        (feat: Feature) =>\n          feat.properties.group && feat.properties.group.length > 0\n      )\n      .forEach((feat: Feature) => {\n        feat.properties.group.forEach((group: TagGroup) => {\n          groupsFeatures.set(\n            group.name,\n            groupsFeatures.has(group.name)\n              ? [...groupsFeatures.get(group.name), feat]\n              : [feat]\n          );\n          groups.set(group.name, group);\n        });\n      });\n    this._groups.next(groups);\n    this._groupsFeatures.next(groupsFeatures);\n    const activeGroup = this._activeGroup.value;\n    if (activeGroup) {\n      this.setActiveGroup(groups.get(activeGroup.name));\n    }\n  }\n\n  getGroup(groupName: string) {\n    return this._groups.value.get(groupName);\n  }\n\n  getGroupFeatures(featureList: Feature[], group: TagGroup) {\n    return featureList.filter(\n      (feat: Feature) =>\n        feat.properties.group &&\n        feat.properties.group.length &&\n        feat.properties.group.some((grp: TagGroup) => grp.id === group.id)\n    );\n  }\n\n  private createGroup(\n    featureList: Feature[],\n    group: TagGroup,\n    style?: FeatureStyles\n  ): Feature[] {\n    return featureList.map((feat: Feature) => {\n      let groupProp = feat.properties.group ? feat.properties.group : [];\n      groupProp = groupProp.filter((grp: TagGroup) => grp.id !== group.id);\n      groupProp.push(group);\n      feat.properties.group = groupProp;\n      feat.properties.style = style\n        ? style\n        : feat.properties.style\n        ? feat.properties.style\n        : {};\n\n      return feat;\n    });\n  }\n\n  private updateGroup(\n    featureList: Feature[],\n    group: TagGroup,\n    style?: FeatureStyles\n  ): Feature[] {\n    return this.getGroupFeatures(featureList, group).map((feat: Feature) => {\n      const groupProp = feat.properties.group.filter(\n        (grp: TagGroup) => grp.id !== group.id\n      );\n      groupProp.push(group);\n      feat.properties.group = groupProp;\n      feat.properties.style = style\n        ? style\n        : feat.properties.style\n        ? feat.properties.style\n        : {};\n\n      return feat;\n    });\n  }\n\n  private deleteGroup(featureList: Feature[], group: TagGroup): Feature[] {\n    return this.getGroupFeatures(featureList, group).map((feat: Feature) => {\n      feat.properties.group = feat.properties.group.filter(\n        (grp: TagGroup) => grp.id !== group.id\n      );\n      return feat;\n    });\n  }\n\n  createNewGroup(projectId: number, featureList: Feature[], name: string) {\n    const id = uuidv4();\n    const myRandColor: string = getRandomColor();\n    const group: TagGroup = {\n      id,\n      name,\n      color: myRandColor,\n      icon: 'fa-house-damage',\n    };\n    const style = {\n      color: myRandColor,\n      faIcon: 'fa-house-damage',\n    };\n    this.createGroupFeatures(projectId, featureList, group, style);\n    return group;\n  }\n\n  createGroupFeatures(\n    projectId: number,\n    featureList: Feature[],\n    group: TagGroup,\n    style?: FeatureStyles\n  ) {\n    if (style) {\n      this.createGroup(featureList, group, style).forEach((feat: Feature) => {\n        this.updateFeatureProperty(projectId, feat.id, feat.properties);\n      });\n    } else {\n      this.createGroup(featureList, group).forEach((feat: Feature) => {\n        this.updateFeatureProperty(projectId, feat.id, feat.properties);\n      });\n    }\n  }\n\n  deleteGroupFeatures(\n    projectId: number,\n    featureList: Feature[],\n    group: TagGroup\n  ) {\n    this.deleteGroup(featureList, group).forEach((feat: Feature) => {\n      this.updateFeatureProperty(projectId, feat.id, feat.properties);\n    });\n  }\n\n  updateGroupFeatures(\n    projectId: number,\n    featureList: Feature[],\n    group: TagGroup,\n    style?: FeatureStyles\n  ) {\n    if (style) {\n      this.updateGroup(featureList, group, style).forEach((feat: Feature) => {\n        this.updateFeatureProperty(projectId, feat.id, feat.properties);\n      });\n    } else {\n      this.updateGroup(featureList, group).forEach((feat: Feature) => {\n        this.updateFeatureProperty(projectId, feat.id, feat.properties);\n      });\n    }\n  }\n\n  renameGroup(\n    projectId: number,\n    featureList: Feature[],\n    group: TagGroup,\n    name: string\n  ): void {\n    const renamedGroup = {\n      ...group,\n      name,\n    };\n\n    this.updateGroupFeatures(projectId, featureList, renamedGroup);\n  }\n\n  reiconGroup(\n    projectId: number,\n    featureList: Feature[],\n    group: TagGroup,\n    icon: string\n  ): void {\n    const reiconedGroup = {\n      ...group,\n      icon,\n    };\n\n    const reiconedStyle = {\n      faIcon: icon,\n      color: group.color ? group.color : '#00C8FF',\n    };\n\n    this.updateGroupFeatures(\n      projectId,\n      featureList,\n      reiconedGroup,\n      reiconedStyle\n    );\n  }\n\n  public get overlays(): Observable<Array<Overlay>> {\n    return this._overlays.asObservable();\n  }\n\n  public get features(): Observable<FeatureCollection> {\n    return this._features.asObservable();\n  }\n\n  public get activeFeature() {\n    return this._activeFeature.asObservable();\n  }\n\n  // TODO: This is heinous\n  public set activeFeature(f: any) {\n    if (f) {\n      if (f === this._activeFeature.getValue()) {\n        this._activeFeature.next(null);\n      } else {\n        this._activeFeature.next(f);\n      }\n    } else {\n      this._activeFeature.next(null);\n    }\n  }\n\n  public get activeOverlay(): Observable<Overlay> {\n    return this._activeOverlay.asObservable();\n  }\n\n  public set activeOverlay(ov) {\n    this._activeOverlay.next(ov);\n  }\n\n  public get mapMouseLocation(): Observable<LatLng> {\n    return this._mapMouseLocation.asObservable();\n  }\n\n  public set mapMouseLocation(loc) {\n    this._mapMouseLocation.next(loc);\n  }\n\n  public set basemap(bmap) {\n    this._basemap.next(bmap);\n  }\n\n  public get basemap(): any {\n    return this._basemap.asObservable();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable, ReplaySubject, Subject } from 'rxjs';\nimport { ProjectsService } from './projects.service';\nimport { Feature } from '../models/models';\n\n// Will inject Projects and GeoData Service to get properties of Feature\n@Injectable({\n  providedIn: 'root',\n})\nexport class GroupsService {\n  private _selectedImages: BehaviorSubject<Array<any>> = new BehaviorSubject(\n    []\n  );\n  public selectedImages: Observable<Array<any>> =\n    this._selectedImages.asObservable();\n\n  private _showTagger: BehaviorSubject<boolean> = new BehaviorSubject(false);\n  public showTagger: Observable<boolean> = this._showTagger.asObservable();\n\n  private _showTagGenerator: BehaviorSubject<boolean> =\n    new BehaviorSubject<boolean>(false);\n  public showTagGenerator: Observable<boolean> =\n    this._showTagGenerator.asObservable();\n\n  constructor() {}\n\n  imageSelected(feature: Feature): boolean {\n    const currentFeatures = this._selectedImages.value;\n    return currentFeatures.some((feat) => feat.id === feature.id);\n  }\n\n  unselectAllImages() {\n    this._selectedImages.next([]);\n  }\n\n  toggleImageSelect(feature: Feature): void {\n    const currentFeatures = this._selectedImages.value;\n    const newFeatures = this.imageSelected(feature)\n      ? currentFeatures.filter((feat) => feat.id !== feature.id)\n      : [feature, ...currentFeatures];\n\n    this._selectedImages.next(newFeatures);\n  }\n\n  setSelectedImages(selectedImages: any): void {\n    this._selectedImages.next(selectedImages);\n  }\n\n  toggleTagger(): void {\n    this._showTagger.next(!this._showTagger.value);\n  }\n\n  setShowTagGenerator(value: boolean): void {\n    this._showTagGenerator.next(value);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { ToastrService } from 'ngx-toastr';\nimport { HttpClient } from '@angular/common/http';\nimport { INotification } from '../models/notification';\nimport { interval, Observable, ReplaySubject } from 'rxjs';\nimport { AuthService } from '../services/authentication.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class NotificationsService {\n  // Interval time to get notifications in millisecs\n  private TIMEOUT = 5000;\n  private _notifications: ReplaySubject<Array<INotification>> =\n    new ReplaySubject<Array<INotification>>(1);\n  public readonly notifications: Observable<Array<INotification>> =\n    this._notifications.asObservable();\n\n  constructor(\n    private toastr: ToastrService,\n    private http: HttpClient,\n    private authService: AuthService\n  ) {\n    if (this.authService.isLoggedIn()) {\n      const timer = interval(this.TIMEOUT);\n      timer.subscribe((next) => {\n        this.getRecent();\n      });\n    }\n  }\n\n  // Sends a request to GeoAPI to retrieve recent notifications\n  getRecent(): void {\n    const baseUrl = environment.apiUrl + 'notifications/';\n    const now = new Date();\n    const then = new Date(now.getTime() - this.TIMEOUT);\n\n    this.http\n      .get<Array<INotification>>(baseUrl + `?startDate=${then.toISOString()}`)\n      .subscribe((notes) => {\n        this._notifications.next(notes);\n        notes.forEach((note) => {\n          switch (note.status) {\n            case 'success':\n              this.showSuccessToast(note.message);\n              break;\n            case 'error':\n              this.showErrorToast(note.message);\n              break;\n            default:\n              break;\n          }\n        });\n      });\n  }\n\n  showSuccessToast(message: string): void {\n    this.toastr.success(message);\n  }\n\n  showImportErrorToast(message: string): void {\n    this.toastr.error(message + ', trying alternate method');\n  }\n\n  showErrorToast(message: string): void {\n    this.toastr.error(message);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { BehaviorSubject, Observable, ReplaySubject } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { Project, IProjectUser, ProjectRequest } from '../models/models';\nimport { environment } from '../../environments/environment';\nimport { AuthService } from './authentication.service';\nimport { validateBBox } from '@turf/helpers';\nimport { NotificationsService } from './notifications.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ProjectsService {\n  private _projects: BehaviorSubject<Project[]> = new BehaviorSubject([]);\n  public readonly projects: Observable<Project[]> =\n    this._projects.asObservable();\n  private _activeProject: ReplaySubject<Project> = new ReplaySubject<Project>(\n    1\n  );\n  public readonly activeProject: Observable<Project> =\n    this._activeProject.asObservable();\n  private _projectUsers: ReplaySubject<Array<IProjectUser>> = new ReplaySubject<\n    Array<IProjectUser>\n  >(1);\n  public readonly projectUsers$: Observable<Array<IProjectUser>> =\n    this._projectUsers.asObservable();\n\n  private _deletingProjects: BehaviorSubject<Project[]> = new BehaviorSubject<\n    Project[]\n  >([]);\n  public deletingProjects: Observable<Project[]> =\n    this._deletingProjects.asObservable();\n\n  constructor(\n    private http: HttpClient,\n    private authService: AuthService,\n    private notificationsService: NotificationsService\n  ) {}\n\n  testGeoApi(): void {\n    const data = {\n      name: 'Awesome Project',\n      description: 'Cool project',\n    };\n    const prom = this.http\n      .post<Project>(`http://localhost:8888/projects/`, data)\n      .subscribe((resp) => {\n        this._projects.next([...this._projects.value, resp]);\n        // Set the active project to the one just created?\n        this._activeProject.next(resp);\n      });\n\n    this.http\n      .get<Project[]>(`http://localhost:8888/projects/`)\n      .subscribe((resp) => {\n        this._projects.next(resp);\n      });\n  }\n\n  updateProjectsList(resp: Project[] = []) {\n    const myProjs = resp.length !== 0 ? resp : this._projects.value;\n\n    this._deletingProjects.value.length !== 0\n      ? this._projects.next(\n          myProjs.map((p) => {\n            const deletingProj = this._deletingProjects.value.find(\n              (dp) => dp.id === p.id\n            );\n            return deletingProj ? deletingProj : p;\n          })\n        )\n      : this._projects.next(myProjs);\n  }\n\n  // Queries database for all user projects.\n  getProjects(): void {\n    this.http.get<Project[]>(environment.apiUrl + `/projects/`).subscribe(\n      (resp) => {\n        this.updateProjectsList(resp);\n      },\n      (error) => {\n        this.notificationsService.showErrorToast(\n          'Error importing files Design Safe, GeoAPI might be down'\n        );\n      }\n    );\n  }\n\n  create(data: ProjectRequest): Observable<Project> {\n    const prom = this.http.post<Project>(\n      environment.apiUrl + `/projects/`,\n      data\n    );\n    prom.subscribe((proj) => {\n      this._projects.next([...this._projects.value, proj]);\n\n      // Awkward as hell, but this ensures we actually transition to the newly created project\n      // Without this, the screen flickers briefly to the new project, but ends up stuck on the old project\n      this.setActiveProject(proj);\n      this.setActiveProject(proj);\n    });\n    return prom;\n  }\n\n  setActiveProject(proj: Project): void {\n    // saves change as last visited project\n    window.localStorage.setItem('lastProj', JSON.stringify(proj));\n    try {\n      this._activeProject.next(proj);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  update(data: ProjectRequest): void {\n    this.http\n      .put<Project>(environment.apiUrl + `/projects/${data.project.id}/`, data)\n      .subscribe((resp) => {\n        this._activeProject.next(resp);\n      });\n  }\n\n  // Note: This will delete the project for everyone, if the project is shared.\n  delete(data: Project): void {\n    this._deletingProjects.next([\n      ...this._deletingProjects.value,\n      { ...data, deleting: true },\n    ]);\n    this.updateProjectsList();\n\n    this.http.delete(environment.apiUrl + `projects/${data.id}/`).subscribe(\n      (resp) => {\n        window.localStorage.setItem('lastProj', JSON.stringify('none'));\n\n        this._deletingProjects.next(\n          this._deletingProjects.value.filter((p) => p.id !== data.id)\n        );\n        // These next two lines might be causing problems. Adding getProjects causes duplicates during project creation,\n        // So I'm thinking that calling these here might be the root of my delete woes, as they're restoring the project I just\n        // deleted...\n        this.updateProjectsList();\n        this.getProjects();\n        // As elegant as a brick to the face, but this solves the delete issues...\n        window.localStorage.setItem('lastProj', JSON.stringify('none'));\n      },\n      (error) => {\n        window.localStorage.setItem('lastProj', JSON.stringify('none'));\n\n        this._deletingProjects.next(\n          this._deletingProjects.value.map((p) => {\n            return p.id === data.id\n              ? { ...p, deleting: false, deletingFailed: true }\n              : p;\n          })\n        );\n        this.updateProjectsList();\n\n        this.getProjects();\n\n        this.notificationsService.showErrorToast('Could not delete project!');\n        console.error(error);\n      }\n    ); // end of error\n  }\n\n  getProjectUsers(proj: Project): Observable<Array<IProjectUser>> {\n    return this.http\n      .get<Array<IProjectUser>>(\n        environment.apiUrl + `/projects/${proj.id}/users/`\n      )\n      .pipe(\n        tap((users) => {\n          this._projectUsers.next(users);\n        })\n      );\n  }\n\n  addUserToProject(proj: Project, uname: string): void {\n    const payload = {\n      username: uname,\n    };\n    this.http\n      .post(environment.apiUrl + `/projects/${proj.id}/users/`, payload)\n      .subscribe((resp) => {\n        this.getProjectUsers(proj).subscribe();\n      });\n  }\n\n  deleteUserFromProject(proj: Project, user: string): void {\n    this.http\n      .delete(environment.apiUrl + `/projects/${proj.id}/users/${user}/`)\n      .subscribe(\n        (resp) => {\n          this.getProjectUsers(proj).subscribe();\n        },\n        (error) => {\n          // TODO: Create popup for an error message.\n          console.log(error);\n        }\n      );\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ScrollService {\n  constructor() {}\n\n  public scrollRestored = true; // if true, the scroll was restored to the proper place\n  public scrollPosition = 0;\n\n  setScrollRestored(change: boolean) {\n    this.scrollRestored = change;\n  }\n\n  setScrollPosition() {\n    this.scrollPosition = document.documentElement.scrollTop;\n  }\n\n  scroll() {\n    // Attempts to scroll to the specified location\n    document.documentElement.scroll({ top: this.scrollPosition });\n    // if it reaches there, marks the check as complete\n    if (document.documentElement.scrollTop == this.scrollPosition) {\n      this.scrollRestored = false;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { ApiService, FileOperationRequest } from 'ng-tapis';\nimport { RemoteFile } from 'ng-tapis';\nimport { Project } from '../models/models';\nimport { share } from 'rxjs/operators';\nimport { HttpClient } from '@angular/common/http';\nimport { HttpHeaders } from '@angular/common/http';\nimport { environment } from '../../environments/environment';\nimport { AuthService } from './authentication.service';\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { SystemSummary } from 'ng-tapis';\n// import { verify } from 'ts-mockito';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TapisFilesService {\n  private baseUrl = 'https://agave.designsafe-ci.org/files/v2/';\n  public currentListing: Array<RemoteFile>;\n  private _listing: BehaviorSubject<RemoteFile[]> = new BehaviorSubject<\n    RemoteFile[]\n  >([]);\n  public readonly listing: Observable<RemoteFile[]> =\n    this._listing.asObservable();\n  public readonly IMPORTABLE_TYPES: Array<string> = [\n    'jpg',\n    'jpeg',\n    'las',\n    'laz',\n    'json',\n    'geojson',\n    'geotiff',\n    'tiff',\n    'gpx',\n  ];\n  public lastSystem: SystemSummary; // The last filesystem the user was browsing\n  public lastFile: RemoteFile; // The last directory the user was browsing\n  public noPreviousSelections: boolean;\n\n  constructor(\n    private tapis: ApiService,\n    private http: HttpClient,\n    private authService: AuthService,\n    private popup: MatSnackBar\n  ) {}\n\n  checkIfSelectable(file: RemoteFile): boolean {\n    if (file.type === 'dir') {\n      return false;\n    }\n    const ext = this.getFileExtension(file);\n    return this.IMPORTABLE_TYPES.includes(ext);\n  }\n\n  private getFileExtension(file: RemoteFile): string {\n    return file.name.split('.').pop().toLowerCase();\n  }\n\n  listFiles(system: string, path: string, offset: number, limit: number) {\n    return this.tapis.filesList({\n      systemId: system,\n      filePath: path,\n      offset,\n      limit,\n    });\n  }\n\n  public getParentPath(path: string): string {\n    const cleaned = path.replace('//', '/');\n    const arr = cleaned.split('/');\n    arr.pop();\n    const parentPath = arr.join('/');\n    return parentPath;\n  }\n\n  // saves project to a specified format in Design Safe's my Data section\n  public export(\n    systemID: string,\n    path: string,\n    fileName: string,\n    extension: string,\n    data: any\n  ) {\n    // Constructs an object that configures the success/error pop-up\n    const snackbarConfig: MatSnackBarConfig = {\n      duration: 3000,\n      horizontalPosition: 'right',\n      verticalPosition: 'top',\n    };\n    // construct the full URL that points to where the data will be stored\n    const fullURL = `https://agave.designsafe-ci.org/files/v2/media/system/${systemID}${path}`;\n\n    // construct a file to submit\n    let fileType = 'plain/text';\n    extension == '.csv'\n      ? (fileType = 'text/csv')\n      : (fileType = 'application/json');\n    const tmp = new Blob([data], { type: fileType });\n    const date = new Date();\n    const file = new File([tmp], fileName, { lastModified: date.valueOf() });\n\n    // Creates a form data object which holds the file to be uploaded\n    const form: FormData = new FormData();\n    form.append('fileToUpload', file);\n\n    // sends the packaged data to Designsafe. URL its being uploaded to handles authentication\n    this.http.post(fullURL, form).subscribe(\n      (resp) => {\n        console.log(resp);\n        const msg = 'Successfully saved file to ' + systemID + path;\n        this.popup.open(msg, '', snackbarConfig);\n      },\n      (error) => {\n        console.log(error);\n        const msg = 'Faled to save file to ' + systemID + path;\n        this.popup.open(msg, '', snackbarConfig);\n      }\n    );\n  }\n\n  // Saves the current file directory and file system to Local Storage\n  saveState() {\n    const sysStr = JSON.stringify(this.lastSystem);\n    const fileStr = JSON.stringify(this.lastFile);\n    window.localStorage.setItem('system', sysStr);\n    window.localStorage.setItem('file', fileStr);\n  }\n\n  // Attempts to retrieve the last used state\n  getState() {\n    try {\n      this.lastSystem = JSON.parse(window.localStorage.getItem('system'));\n      this.lastFile = JSON.parse(window.localStorage.getItem('file'));\n      this.noPreviousSelections = this.lastFile == null;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n","export const groupIcons: Array<any> = [\n  { id: 'fa-house-damage', unicode: '&#xf6f1; house-damage' },\n  { id: 'fa-car', unicode: '&#xf1b9; car' },\n  { id: 'fa-tree', unicode: '&#xf1bb; tree' },\n\n  { id: 'fa-school', unicode: '&#xf549; school' },\n  { id: 'fa-archway', unicode: '&#xf557; archway' },\n  { id: 'fa-building', unicode: '&#xf1ad; building' },\n  { id: 'fa-bus', unicode: '&#xf207; bus' },\n  { id: 'fa-church', unicode: '&#xf51d; church' },\n\n  { id: 'fa-helicopter', unicode: '&#xf533; helicopter' },\n  { id: 'fa-hospital-alt', unicode: '&#xf47d; hospital' },\n  { id: 'fa-hotel', unicode: '&#xf594; hotel' },\n  { id: 'fa-igloo', unicode: '&#xf7ae; igloo' },\n  { id: 'fa-motorcycle', unicode: '&#xf21c; motorcycle' },\n  { id: 'fa-place-of-worship', unicode: '&#xf67f; place-of-worship' },\n  { id: 'fa-plane', unicode: '&#xf072; plane' },\n  { id: 'fa-school', unicode: '&#xf549; school' },\n\n  { id: 'fa-rocket', unicode: '&#xf135; rocket' },\n  { id: 'fa-ship', unicode: '&#xf21a; ship' },\n  { id: 'fa-shopping-cart', unicode: '&#xf07a; shopping-cart' },\n  { id: 'fa-shuttle-van', unicode: '&#xf5b6; shuttle-van' },\n  { id: 'fa-monument', unicode: '&#xf5a6; monument' },\n  { id: 'fa-store', unicode: '&#xf54e; store' },\n\n  { id: 'fa-subway', unicode: '&#xf239; subway' },\n  { id: 'fa-taxi', unicode: '&#xf1ba; taxi' },\n  { id: 'fa-train', unicode: '&#xf238; train' },\n  { id: 'fa-truck', unicode: '&#xf0d1; truck' },\n  { id: 'fa-truck-pickup', unicode: '&#xf63c; truck-pickup' },\n  { id: 'fa-university', unicode: '&#xf19c; university' },\n  { id: 'fa-warehouse', unicode: '&#xf494; warehouse' },\n  { id: 'fa-bolt', unicode: '&#xf0e7; bolt' },\n];\n","import {\n  CircleMarker,\n  circleMarker,\n  divIcon,\n  LatLng,\n  Marker,\n  marker,\n} from 'leaflet';\nimport { Feature } from '../models/models';\n\nfunction createCircleMarker(feature: Feature, latlng: LatLng): CircleMarker {\n  const options = {\n    radius: 8,\n    fillColor: '#d3d3d3',\n    color: 'black',\n    weight: 1,\n    opacity: 1,\n    fillOpacity: 0.8,\n  };\n  return circleMarker(latlng, options);\n}\n\nfunction createImageMarker(feature: Feature, latlng: LatLng): Marker {\n  const divHtml = '<i class=\\'fas fa-camera-retro fa-2x light-blue\\'></i>';\n  const ico = divIcon({ className: 'leaflet-fa-marker-icon', html: divHtml });\n  return marker(latlng, { icon: ico });\n}\n\nfunction createCollectionMarker(feature: Feature, latlng: LatLng): Marker {\n  const divHtml = '<i class=\"fa fa-folder-open fa-2x light-blue\"></i>';\n  const ico = divIcon({ className: 'icon-marker', html: divHtml });\n  return marker(latlng, { icon: ico });\n}\nfunction createVideoMarker(feature: Feature, latlng: LatLng): Marker {\n  const divHtml = '<i class=\\'fas fa-video fa-2x light-blue\\'></i>';\n  const ico = divIcon({ className: 'leaflet-fa-marker-icon', html: divHtml });\n  return marker(latlng, { icon: ico });\n}\n\nexport function createMarker(feature: Feature, latlng: LatLng): Marker {\n  let marker;\n  if (feature.featureType() == 'image') {\n    marker = createImageMarker(feature, latlng);\n  } else if (feature.featureType() == 'collection') {\n    marker = createCollectionMarker(feature, latlng);\n  } else if (feature.featureType() == 'video') {\n    marker = createVideoMarker(feature, latlng);\n  } else {\n    marker = createCircleMarker(feature, latlng);\n  }\n  return marker;\n}\n","export function getRandomColor() {\n  const letters = '0123456789ABCDEF';\n  let color = '#';\n  for (let i = 0; i < 6; i++) {\n    color += letters[Math.floor(Math.random() * 16)];\n  }\n  return color;\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nimport { EnvironmentType } from './environmentType';\nimport { jwt as devJWT } from './jwt';\n\nexport interface AppEnvironment {\n  production: boolean;\n  apiUrl: string;\n  jwt?: string;\n  clientId: string;\n  baseHref: string;\n  backend: EnvironmentType;\n}\n\nexport const environment: AppEnvironment = {\n  production: false,\n  // Production\n  apiUrl: 'https://agave.designsafe-ci.org/geo/v2/',\n  clientId: 'vtDnU5adn3ue7MMNPTq__bvxSa8a',\n  // Local host\n  // apiUrl: 'http://localhost:8888/',\n  // clientId: 'RMCJHgW9CwJ6mKjhLTDnUYBo9Hka',\n  baseHref: '/',\n  jwt: devJWT,\n  backend: EnvironmentType.Local,\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","export enum EnvironmentType {\n  Production = 'production',\n  Staging = 'staging',\n  Local = 'local',\n}\n","export const jwt = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ3c28yLm9yZy9wcm9kdWN0cy9hbSIsImV4cCI6MjM4NDQ4MTcxMzg0MiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9zdWJzY3JpYmVyIjoiaXBhcmsiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwcGxpY2F0aW9uaWQiOiI0NCIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvYXBwbGljYXRpb25uYW1lIjoiRGVmYXVsdEFwcGxpY2F0aW9uIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9hcHBsaWNhdGlvbnRpZXIiOiJVbmxpbWl0ZWQiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2FwaWNvbnRleHQiOiIvYXBwcyIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvdmVyc2lvbiI6IjIuMCIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvdGllciI6IlVubGltaXRlZCIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMva2V5dHlwZSI6IlBST0RVQ1RJT04iLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL3VzZXJ0eXBlIjoiQVBQTElDQVRJT05fVVNFUiIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvZW5kdXNlciI6ImlwYXJrIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9lbmR1c2VyVGVuYW50SWQiOiIxMCIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvZW1haWxhZGRyZXNzIjoidGVzdHVzZXIzQHRlc3QuY29tIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9mdWxsbmFtZSI6IkRldiBVc2VyIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9naXZlbm5hbWUiOiJEZXYiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL2xhc3RuYW1lIjoiVXNlciIsImh0dHA6Ly93c28yLm9yZy9jbGFpbXMvcHJpbWFyeUNoYWxsZW5nZVF1ZXN0aW9uIjoiTi9BIiwiaHR0cDovL3dzbzIub3JnL2NsYWltcy9yb2xlIjoiSW50ZXJuYWwvZXZlcnlvbmUiLCJodHRwOi8vd3NvMi5vcmcvY2xhaW1zL3RpdGxlIjoiTi9BIn0.rAAlbJsSGK-aBTgc0_UWPB7wr760JPQMOss9-2fxTv8';\n","import 'hammerjs';\nimport { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n"],"sourceRoot":"webpack:///","file":"main-es5.js"}