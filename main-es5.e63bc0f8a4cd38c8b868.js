function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){o=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"033P":function(t,e,n){"use strict";n.r(e),e.default='<div class="asset-list">\n  <div class="subitem-title" (click)="expandPanel()">Image List</div>\n\n  <div *ngIf="showSubitem" class="subitem asset-subitem">\n\n\t<div *ngFor="let asset of getActiveFeatures()" (click)="jumpToImage(asset)" class="asset-container" [ngClass]="{\'highlight\': isActiveFeature(asset)}">\n\n\t  <div class="name-group">\n\t\t{{ getAssetDisplay(asset) }}\n\t  </div>\n\n\t  <div class="button-group">\n\t\t<div (click)="deleteAsset(asset.id)">\n\t\t  <i class="fas fa-minus"\n\t\t\t matTooltip="Delete"\n\t\t\t matTooltipPosition="above">\n\t\t  </i>\n\t\t</div>\n\t  </div>\n\t</div>\n  </div>\n</div>\n'},"0NOL":function(t,e,n){"use strict";n.r(e),e.default='<h4> Select Files </h4>\n<small><em> Note: Only files are selectable, not folders. Double click on a folder to navigate into it. </em></small>\n<hr>\n<select (ngModelChange)="selectSystem($event)" [(ngModel)]="selectedSystem">\n\t<option [ngValue]="myDataSystem"> My Data </option>\n\t<option [ngValue]="communityDataSystem"> Community Data</option>\n\t<option [ngValue]="publishedDataSystem"> Published Data</option>\n\t<optgroup label="My Projects">\n\t\t<option *ngFor="let project of projects" [ngValue]="project">{{project.description}}</option>\n\t</optgroup>\n</select>\n<div class="fileslisting">\n\t<div class="grid-x" *ngIf="inProgress">\n\t\t<div class="cell medium-12">\n\t\t\t<i class="fas fa-spin fa-atom"></i>\n\t\t</div>\n\t</div>\n\t<div class="grid-x file-row" *ngFor="let file of filesList" [ngClass]="{\'selected\':selectedFiles.has(file.path)}">\n\t\t<div class="cell medium-9 clickable" (click)="select(file)"  (dblclick)="browse(file)">\n\t\t\t<i class="fas fa-folder" *ngIf="file.type === \'dir\'" ></i>\n\t\t\t<i class="far fa-file" *ngIf="file.type !== \'dir\'"></i>\n\t\t\t<span > {{ file.name }} </span>\n\t\t</div>\n\t\t<div class="cell medium-3">\n\t\t\t{{file.length | filesize }}\n\t\t</div>\n\t</div>\n</div>\n<div class="button-group">\n\t<button mat-raised-button color="warn" class="button warning" (click)="cancel()">Cancel</button>\n\t<button mat-raised-button color="primary" class="button" [disabled]="!selectedFiles.size" (click)="chooseFiles()">Import</button>\n</div>\n'},"6CRC":function(t,e,n){"use strict";n.r(e),e.default=""},"8lyn":function(t,e,n){"use strict";n.r(e),e.default=":host .top-bar {\n  height: 40px;\n  padding: 5px;\n  padding-left: 0.5em;\n  flex-wrap: nowrap;\n  position: fixed;\n  overflow: hidden;\n  width: 100%;\n  z-index: 999;\n}\n:host .top-bar-right .top-bar-left {\n  -webkit-box-flex: 0;\n  flex-wrap: nowrap;\n  flex: 0 1 auto;\n  max-width: 100%;\n}\n@media print, screen and (min-width: 40em) {\n  :host .top-bar {\n    flex-wrap: nowrap;\n    -webkit-box-flex: 0;\n            flex: 0 1 auto;\n  }\n}"},AZwa:function(t,e,n){"use strict";n.r(e),e.default='\x3c!-- <div class="grid-x"> --\x3e\n\n\x3c!--   <div class="top-bar" style="background-color: black" id="navbar"> --\x3e\n\n\x3c!--\t<div class="top-bar-left"> --\x3e\n\x3c!--\t  <img src="assets/logo.svg" width="30PX"> --\x3e\n\x3c!--\t  <span style="color: white">Taggit</span> --\x3e\n\x3c!--\t</div> --\x3e\n\n\n\x3c!--\t<div class="top-bar-right"> --\x3e\n\x3c!--\t  <div class="light-blue" *ngIf="currentUser">{{ currentUser.username }}</div> --\x3e\n\x3c!--\t</div> --\x3e\n\n\x3c!--   </div> --\x3e\n\n\x3c!--   <\\!-- <div class="cell control-bar"> -\\-> --\x3e\n\x3c!--   <\\!--\t<app-control-bar></app-control-bar> -\\-> --\x3e\n\x3c!--   <\\!-- </div> -\\-> --\x3e\n\x3c!-- </div> --\x3e\n\n<app-control-bar></app-control-bar>\n\x3c!-- NOTE Router Outlet was here --\x3e\n<app-image-gallery></app-image-gallery>\n\n\x3c!-- NOTE Leaflet was here --\x3e\n'},Af46:function(t,e,n){"use strict";n.r(e),e.default="<p>\n  notfound works!\n</p>\n"},I57P:function(t,e,n){"use strict";n.r(e),e.default=":host {\n  overflow-y: scroll;\n}\n:host .select-group {\n  max-height: 20%;\n}\n:host .subitem-title {\n  text-align: left;\n  color: #555;\n  font-size: 14px;\n  padding: 10px;\n  background-color: #F1F1F1;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n}\n:host .subitem {\n  border-width: 0px 10px;\n  border-color: #F1F1F1;\n  border-style: solid;\n  overflow-y: scroll;\n  background-color: #FFFFFF;\n  height: 100%;\n}\n:host .group-subitem {\n  height: 100px;\n}\n:host .subitem-scroll {\n  border-width: 5px;\n}\n:host .boxed input[type=radio] {\n  display: none;\n}\n:host .boxed label {\n  background-color: #fff;\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n}\n:host .boxed input[type=radio]:checked + label {\n  background-color: #B3E5FF;\n}\n:host .group-container {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  margin: 0;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n}\n:host .name-group {\n  display: inline-block;\n  padding: 3px;\n}\n:host .button-group {\n  margin: 0;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n}\n:host .button-group div {\n  padding: 3px;\n}"},IElf:function(t,e,n){"use strict";n.r(e),e.default=":host {\n  background-color: #F1F1F1;\n}"},MHpZ:function(t,e,n){"use strict";n.r(e),e.default='<div class="create-prompt">\n  <div class="subitem-title" (click)="expandPanel()">\n\t<span>\n\t  Create Tag\n\t</span>\n\t\x3c!-- <span style="cursor: pointer" --\x3e\n\t\x3c!--\t  (click)="addFormItem(); clearLabel(); clearOption()" --\x3e\n\t\x3c!--\t  matTooltip="Add Form Item" --\x3e\n\t\x3c!--\t  style="cursor: pointer; margin-right: 20px" --\x3e\n\t\x3c!--\t  matTooltipPosition="above"> --\x3e\n\t\x3c!--   <i class="fas fa-plus"></i> --\x3e\n\t\x3c!-- </span> --\x3e\n  </div> \x3c!-- subitem-title --\x3e\n\n  <div *ngIf="showSubitem" class="subitem">\n\t<form class="form-type-form">\n\t  <div *ngFor="let control of enabledControls; let idx = index" class="box form">\n\t\t<input type="radio" [id]="control" value="control.toLowerCase()" name="form-type" [checked]="(idx === 0)" (change)="selectInputForm(control.toLowerCase())">\n\t\t<label style="cursor: pointer; margin: 3px; padding: 3px; font-size: 10px" [for]="control">{{ control }}</label>\n\t  </div> \x3c!-- form-type-form --\x3e\n\t</form>\n\n\t<div *ngIf="formType == \'text\'; else optionForms">\n\t  <div class="form-name">\n\t\t<mat-form-field class="input-label-group">\n\t\t  <mat-label>Label</mat-label>\n\t\t  <input matInput placeholder="Label" #labelValue [(ngModel)]="labelFilter" (keyup)="inputFormLabel($event)" name="labelFilter" class="tiny" type="text">\n\t\t</mat-form-field>\n\t  </div> \x3c!--form-name --\x3e\n\t</div> \x3c!-- formtype --\x3e\n\n\t<ng-template #optionForms>\n\t  <div class="form-name">\n\n\t\t<mat-form-field class="input-label-group">\n\t\t  <mat-label>Label</mat-label>\n\t\t  <input matInput placeholder="Label" #labelValue [(ngModel)]="labelFilter" (keyup)="inputFormLabel($event)" name="labelFilter" class="tiny" type="text">\n\t\t</mat-form-field>\n\t\t<mat-form-field class="input-label-group">\n\t\t  <mat-label>Options</mat-label>\n\t\t  <div class="input-group">\n\t\t\t<input matInput #optionValue class="input-group-field" placeholder="Option" type="text" [(ngModel)]="optionFilter" name="optionFilter">\n\t\t  </div> \x3c!-- input-group --\x3e\n\t\t</mat-form-field>\n\n\t\t<div class="input-group-button">\n\t\t  <button mat-button color="accent" class="button" (click)="addOptionItem(optionValue.value); optionValue.value = \'\'; clearOption()">\n\t\t\t<i class="fas fa-plus"></i>\n\t\t  </button>\n\t\t</div> \x3c!-- input-group-button --\x3e\n\n\t\t<ul class="form-option-container">\n\t\t  <li *ngFor="let opt of formOptions" class="list-group">\n\t\t\t<div [className]="showOpt">\n\t\t\t  {{opt.label}}\n\t\t\t</div> \x3c!-- showopt --\x3e\n\t\t\t<div class="button-group">\n\t\t\t  <div (click)="deleteOption(opt)">\n\t\t\t\t<i class="fas fa-minus"\n\t\t\t\t   matTooltip="Delete"\n\t\t\t\t   matTooltipPosition="above"\n\t\t\t\t   style="cursor: pointer">\n\t\t\t\t</i>\n\t\t\t  </div> \x3c!-- delete opt --\x3e\n\n\t\t\t  <div (click)="openRenameOptionModal(renameOptionModal)">\n\t\t\t\t<i class="fas fa-edit"\n\t\t\t\t   style="cursor: pointer"\n\t\t\t\t   matTooltip="Rename"\n\t\t\t\t   matTooltipPosition="above">\n\t\t\t\t</i>\n\t\t\t  </div>\n\n\t\t\t  <ng-template #renameOptionModal>\n\t\t\t\t<input matInput #optionRename\n\t\t\t\t\t   placeholder="Rename Option">\n\t\t\t\t<br/>\n\t\t\t\t<br/>\n\t\t\t\t<div class="button-group">\n\t\t\t\t  <button matDialogClose\n\t\t\t\t\t\t  mat-raised-button\n\t\t\t\t\t\t  color="primary"\n\t\t\t\t\t\t  (click)="renameOption(opt, optionRename.value)">Rename</button>\n\t\t\t\t  <button matDialogClose\n\t\t\t\t\t\t  mat-button>Cancel</button>\n\t\t\t\t</div>\n\t\t\t  </ng-template>\n\n\t\t\t</div> \x3c!-- button group --\x3e\n\n\t\t  </li>\n\t\t</ul>\n\t  </div> \x3c!-- form name --\x3e\n\t</ng-template> \x3c!-- form options --\x3e\n\n\t<button mat-raised-button color="primary" (click)="addFormItem(); clearLabel(); clearOption()">Save</button>\n\t<button mat-button color="primary" (click)="cancelCreate(); clearLabel(); clearOption()">Cancel</button>\n\n  </div> \x3c!-- subitem --\x3e\n</div> \x3c!-- create-group --\x3e\n'},N3QO:function(t,e,n){"use strict";n.r(e),e.default=":host .img-list-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  grid-gap: 1em;\n  height: 100%;\n  padding: 1em;\n}\n:host #no-img {\n  font-size: 32px;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n  height: 70vh;\n}\n:host #no-proj {\n  font-size: 32px;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n  height: 70vh;\n}\n:host app-image-box {\n  height: 100%;\n}\n:host .masonry-item {\n  width: 200px;\n}\n:host ngx-spinner {\n  position: relative;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100px;\n  background: #fff;\n}\n:host .side-bar-container {\n  background-color: #F1F1F1;\n  position: fixed;\n  width: 25%;\n  margin-right: 0px;\n  height: calc(100vh - 50px);\n  right: 0;\n}\n:host .success {\n  margin-right: 20%;\n}\n:host .danger {\n  margin-right: 0%;\n}\n:host #gallery-container {\n  position: relative;\n  width: 100%;\n  height: auto;\n  text-align: center;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n          flex-direction: column;\n  margin-top: 50px;\n}\n:host #gallery-container .gallery-image {\n  height: 100%;\n  display: -webkit-inline-box;\n  display: inline-flex;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n}\n:host #gallery-container .gallery-image img {\n  max-width: 100%;\n  max-height: 100%;\n  margin: 0 auto;\n}\n:host .imager {\n  width: 75%;\n  height: calc(100vh - 50px);\n  background-color: #fefefe;\n}\n:host .view-image {\n  max-width: 100%;\n  height: auto;\n}\n:host .gallery-btn {\n  width: 35px;\n  height: 35px;\n  background: #000;\n  color: #fff;\n  text-align: center;\n  line-height: 35px;\n  cursor: pointer;\n  -webkit-transition: all 0.4s ease;\n  transition: all 0.4s ease;\n  font-size: 20px;\n  box-sizing: border-box;\n  padding-left: 2px;\n  position: fixed;\n  bottom: 10px;\n}\n:host .gallery-btn:hover {\n  background: #222;\n}\n:host .gallery-close {\n  top: 10px;\n}\n:host .gallery-close .gallery-next {\n  right: 10px;\n}\n:host .gallery-prev {\n  right: 50px;\n}\n:host .gallery-prev .gallery-next {\n  bottom: 10px;\n}\n@media (min-width: 478px) {\n  :host .img-list-container img:nth-child(3n):not(last-of-type) {\n    grid-row-end: span 2;\n  }\n}\n@media (max-width: 768px) {\n  :host .img-list-container {\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  }\n}\n@media (max-width: 450px) {\n  :host .img-list-container {\n    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n  }\n}"},Pwca:function(t,e,n){"use strict";n.r(e),e.default='<div *ngIf="projectsExist; else noProjWarn" id="gallery-container">\n  <div *ngIf="imagesExist; else noImgWarn">\n\t<div [ngClass]="status ? \'success\' : \'danger\'"\n\t\t infiniteScroll\n\t\t [infiniteScrollDistance]="1"\n\t\t [infiniteScrollThrottle]="1500"\n\t\t (scrolled)="onScroll()"\n\t\t class="img-list-container"\n\t\t *ngIf="!showSidebar; else elseBlock">\n\t  <app-image-box\n\t\t*ngFor="let feat of featureListScroll"\n\t\t[feature]="feat">\n\t  </app-image-box>\n\t</div>\n\n\t<ngx-spinner\n\t  bdOpacity = 0.9\n\t  bdColor = ""\n\t  size = "default"\n\t  color = "#3ADB76"\n\t  type = "line-scale-pulse-out"\n\t  [fullScreen] = "false">\n\t</ngx-spinner>\n\t<ng-template #elseBlock>\n\t  <div class="imager">\n\t\t<img class="view-image" [src]="getPath()">\n\t  </div>\n\t  \x3c!-- <div (click)="otherPath(1)">next</div> --\x3e\n\t  \x3c!-- <div (click)="otherPath(-1)">prev</div> --\x3e\n\n\n\t  \x3c!-- <img [src]="getPath()"> --\x3e\n\t  \x3c!-- <button class="button" (click)="otherPath(1)">next</button> --\x3e\n\t  \x3c!-- <button class="button" (click)="otherPath(-1)">prev</button> --\x3e\n\n\t  \x3c!-- <app-image-list> --\x3e\n\t\t\x3c!--   <\\!-- *ngFor="let feat of features.features" -\\-> --\x3e\n\t\t  \x3c!--   <\\!-- [feature]="feat" -\\-> --\x3e\n\n\t\t\t\x3c!--   <\\!-- *ngFor="let feat of features.features" -\\-> --\x3e\n\t\t\t  \x3c!--   <\\!-- [feature]="features.features" -\\-> --\x3e\n\t\t\t\t\x3c!--   <\\!-- (clickRequest)="addGroupList($event)" -\\-> --\x3e\n\t\t\t\t  \x3c!-- </app-image-list> --\x3e\n\n\t</ng-template>\n\t<div *ngIf="showSidebar" class="side-bar-container">\n\t  <app-side-bar></app-side-bar>\n\t</div>\n  </div>\n  <ng-template #noImgWarn>\n\t<div id="no-img">\n\t  No images have been imported!<br>Please import images through the menu.\n\t</div>\n  </ng-template>\n</div>\n\n<ng-template #noProjWarn>\n  <div id="no-proj">\n\tNo project has been created!<br>Please create a project through the menu.\n  </div>\n</ng-template>\n\n\x3c!-- <div id="gallery-container"> --\x3e\n  \x3c!--   <div [ngClass]="status ? \'success\' : \'danger\'"> --\x3e\n\t\x3c!--\t<div class="img-list-container" *ngIf="!showSidebar; else elseBlock"> --\x3e\n\t  \x3c!--\t  <app-image-box --\x3e\n\t  \x3c!--\t\t*ngFor="let feat of features.features" --\x3e\n\t  \x3c!--\t\t[feature]="feat" --\x3e\n\t  \x3c!--\t\t(clickRequest)="addGroupList($event)"> --\x3e\n\t\t\x3c!--\t  </app-image-box> --\x3e\n\t  \x3c!--\t</div> --\x3e\n\n\t\x3c!--\t<ng-template #elseBlock> --\x3e\n\t  \x3c!--\t  <app-image-list> --\x3e\n\t\t\x3c!--\t  </app-image-list> --\x3e\n\t  \x3c!--\t</ng-template> --\x3e\n\n\t\x3c!--   </div> --\x3e\n  \x3c!--   <div *ngIf="showSidebar" class="side-bar-container"> --\x3e\n\t\x3c!--\t<app-side-bar></app-side-bar> --\x3e\n\t\x3c!--   </div> --\x3e\n  \x3c!-- </div> --\x3e\n'},T7o7:function(t,e,n){"use strict";n.r(e),e.default=":host .subitem-title {\n  text-align: left;\n  color: #555;\n  font-size: 14px;\n  padding: 10px;\n  background-color: #F1F1F1;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n}\n:host .subitem {\n  border-width: 0px 10px;\n  border-color: #F1F1F1;\n  border-style: solid;\n  overflow-y: scroll;\n  background-color: #FFFFFF;\n  height: 100%;\n}\n:host .subitem-scroll {\n  border-width: 5px;\n}\n:host .asset-list {\n  max-height: 20%;\n}\n:host .asset-subitem {\n  height: 100px;\n}\n:host .asset-container {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n  cursor: pointer;\n}\n:host .highlight {\n  background-color: #B3E5FF;\n}\n:host .name-group {\n  display: inline-block;\n  padding: 3px;\n}\n:host .button-group {\n  margin: 0;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n}\n:host .button-group div {\n  padding: 3px;\n  padding-right: 5px;\n}"},VzVu:function(t,e,n){"use strict";n.r(e),e.default="\x3c!--The content below is only a placeholder and can be replaced.--\x3e\n<router-outlet></router-outlet>\n"},X9m5:function(t,e,n){"use strict";n.r(e),e.default='<div id="callback">\n    <div>\n\t<i class="fas fa-spinner"></i>\n    </div>\n</div>\n'},"ay+3":function(t,e,n){"use strict";n.r(e),e.default='<div class="img-container">\n  <img [ngClass]="status ? \'img-selected\' : \'img-unselected\'"\n\t   [src]="featureSource"\n\t   (click)="imageSelect()"\n\t   class="img-responsive img-target">\n\n  <div class="top-overlay">\n\t<div class="image-option"\n\t\t matTooltip="Zoom"\n\t\t matTooltipPosition="below"\n\t\t (click)="imageZoom(diffSizes)">\n\t  <i class="fas fa-search-plus"></i>\n\t</div>\n\n\t<ng-template #diffSizes>\n\t  <div class="zoom-content">\n\t\t<div class="img-container">\n\t\t  <img [src]="featureSource">\n\t\t</div>\n\t\t<div class="img-details">\n\t\t  <div class="detail-container">\n\t\t\t<div class="title">\n\t\t\t  Coordinates\n\t\t\t</div>\n\t\t\t<div class="detail-contents">\n\t\t\t  <div class="detail-item">\n\t\t\t\t{{coordinates[0]}},\n\t\t\t  </div>\n\t\t\t  <div class="detail-item">\n\t\t\t\t{{coordinates[1]}}\n\t\t\t  </div>\n\t\t\t</div>\n\t\t  </div>\n\t\t  <div class="detail-container">\n\t\t\t<div class="title">\n\t\t\t  Path\n\t\t\t</div>\n\t\t\t<div class="detail-contents">\n\t\t\t  <div class="detail-item">\n\t\t\t\t{{featureSource}}\n\t\t\t  </div>\n\t\t\t</div>\n\t\t  </div>\n\t\t</div>\n\t\t<button mat-button class="close-button" matDialogClose aria-label="Close modal" type="button">\n\t\t  <span aria-hidden="true">&times;</span>\n\t\t</button>\n\t  </div>\n\t</ng-template>\n\n\t<div class="image-option"\n\t\t matTooltip="Remove"\n\t\t matTooltipPosition="below"\n\t\t (click)="openImageDeleteModal(deleteImage)">\n\t  <i class="fas fa-trash"></i>\n\t</div>\n\n\t<ng-template #deleteImage>\n\t  <div>\n\t  This image will be deleted from the current project. It will not be deleted from the Data Depot.\n\t  </div>\n\n\t  <button mat-raised-button color="primary" matDialogClose (click)="imageDelete()">Delete Image</button>\n\t  <button mat-button matDialogClose>Cancel</button>\n\t</ng-template>\n\n\n\n\t<div class="image-option"\n\t\t matTooltip="Add To Group"\n\t\t matTooltipPosition="below"\n\t\t (click)="openImageAddModal(addMoreToGroup)">\n\t  <i class="fas fa-plus"></i>\n\t</div>\n\n\t<ng-template #addMoreToGroup>\n\t  <select #selectGroup class="form-control" [value]="activeGroup">\n\t\t<option *ngFor="let group of groupList">\n\t\t  {{ group.name }}\n\t\t</option>\n\t  </select>\n\t  <button mat-button matDialogClose (click)="selectGroupForm(selectGroup.value)">Add To Group</button>\n\n\t  <button mat-button matDialogClose aria-label="Close modal" type="button">\n\t\t<span aria-hidden="true">&times;</span>\n\t  </button>\n\t</ng-template>\n  </div>\n\n  <div class="bottom-overlay">\n\n\t\x3c!-- <div class="color-container"> --\x3e\n\t  \x3c!-- TODO This should be an iff relationship --\x3e\n\t  <div *ngIf="hasGroup && colors.length > 0">\n\n\t\t<div *ngIf="colors.length < 5; else dotdot" class="group-tags">\n\t\t  <div *ngFor="let color of colors"\n\t\t\t   class="center"\n\t\t\t   (mouseover)="getGroupNameFromColor(color)"\n\t\t\t   [matTooltip]="currentGroup"\n\t\t\t   matTooltipPosition="below">\n\t\t\t<svg class="box" (click)="deleteFromGroup(color)" width="15px" height="15px">\n\t\t\t  <rect width="15px" height="15px" [style.fill]="color"/>\n\t\t\t  <rect class="inner-del" width="8px" height="4px" x="3.3" y="5.5" style="fill: #000"/>\n\t\t\t</svg>\n\t\t  </div>\n\t\t</div>\n\n\t\t<ng-template #dotdot class="text">\n\t\t  <div class="image-option"\n\t\t\t   (click)="openMoreGroupsModal(moreGroupsModal)">\n\t\t\t<i class="fas fa-ellipsis-h"></i>\n\t\t  </div>\n\t\t</ng-template>\n\n\t\t\x3c!-- TODO Should close modal once zero groups --\x3e\n\t\t<ng-template #moreGroupsModal>\n\t\t  <div style="display: flex; justify-content: center; align-items: center">\n\t\t\t<div *ngFor="let color of colors"\n\t\t\t\t class="center-temp"\n\t\t\t\t style="display: flex"\n\t\t\t\t (mouseover)="getGroupNameFromColor(color)"\n\t\t\t\t [matTooltip]="currentGroup"\n\t\t\t\t matTooltipPosition="right">\n\t\t\t  <svg style="padding: 1" (click)="deleteFromGroup(color)" width="15px" height="15px">\n\t\t\t\t<rect width="15px" height="15px" [style.fill]="color"/>\n\t\t\t\t<rect class="inner-del-temp" width="8px" height="4px" x="3.3" y="5.5" style="fill: #000"/>\n\t\t\t  </svg>\n\t\t\t</div>\n\t\t  </div>\n\t\t</ng-template>\n\n\t  </div>\n\t\x3c!-- </div> --\x3e\n\n  </div>\n\n</div>\n'},c6cR:function(t,e,n){"use strict";n.r(e),e.default="\x3c!-- <p>side-bar works!</p> --\x3e\n\x3c!-- <app-preset-generator></app-preset-generator> --\x3e\n\x3c!-- <app-tagger></app-tagger> --\x3e\n<app-select-group></app-select-group>\n<app-select-image></app-select-image>\n<router-outlet></router-outlet>\n"},crnd:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},"dTB+":function(t,e,n){"use strict";n.r(e),e.default=":host {\n  display: block;\n  font-size: 0.8em;\n  height: calc(100vh - 50px);\n}\n:host .lat-lon-label {\n  font-size: 0.8em;\n  color: #4d4d4d;\n}\n:host .active-project {\n  background-color: #1aff8c;\n}\n:host .menu button.dropdown.button {\n  padding: 0.85em 1em;\n}\n:host .switch {\n  margin: 0;\n}\n:host .button.tiny {\n  margin: 0;\n}\n:host .no-show-option {\n  display: none;\n}\n:host .show-option {\n  display: block;\n}\n:host .create-prompt {\n  max-height: 500px;\n  height: 500px;\n}\n:host .select-group {\n  max-height: 20%;\n  height: 20%;\n}\n:host .subitem-title {\n  text-align: left;\n  color: #555;\n  font-size: 14px;\n  padding: 10px;\n  background-color: #F1F1F1;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n}\n:host .input-label-group {\n  padding: 10px;\n  display: block;\n}\n:host .input-group {\n  display: inline-block;\n}\n:host .form-name {\n  text-align: center;\n}\n:host .input-group-button {\n  display: inline-block;\n}\n:host .subitem {\n  border-width: 0px 10px;\n  border-color: #F1F1F1;\n  border-style: solid;\n  overflow-y: scroll;\n  background-color: #FFFFFF;\n  height: 100%;\n  padding: 20px;\n}\n:host .subitem-scroll {\n  border-width: 5px;\n}\n:host .preset-descriptions {\n  max-height: 20%;\n  height: 20%;\n}\n:host .boxed input[type=radio] {\n  display: none;\n}\n:host .boxed label {\n  background-color: #fff;\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n}\n:host .boxed input[type=radio]:checked + label {\n  background-color: #B3E5FF;\n}\n:host .group-container {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  margin: 0;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n}\n:host .button-group {\n  margin: 0;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n}\n:host .form-option-container {\n  padding: 0px;\n}\n:host .list-group {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  margin: 0;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n}\n:host .list-suboptions {\n  background-color: #F0F0F0;\n}\n:host .button-group div {\n  padding: 3px;\n}\n:host .name-group {\n  display: inline-block;\n  padding: 3px;\n}\n:host .form-item-container {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  margin: 0;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n}\n:host .form-type-form {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n  margin: 5px;\n  margin-bottom: 15px;\n}\n:host .form-type-form input[type=radio] {\n  display: none;\n}\n:host .form-type-form label {\n  border-style: solid;\n  border-width: 1px;\n  border-color: #ddd;\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n}\n:host .form-type-form input[type=radio]:checked + label {\n  border-style: solid;\n  border-width: 1px;\n  border-color: #000;\n}\n:host .changed {\n  color: #F07575;\n}\n:host .unchanged {\n  color: #555555;\n}\n:host .asset-list {\n  max-height: 20%;\n  height: 20%;\n}\n:host .asset-container {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n  cursor: pointer;\n}\n:host .highlight {\n  background-color: #B3E5FF;\n}"},eC1z:function(t,e,n){"use strict";n.r(e),e.default='<div id="map" style="min-height: calc(100vh - 67px)"></div>\n'},fWOx:function(t,e,n){"use strict";n.r(e),e.default=":host #create-project-form {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n          flex-direction: column;\n  text-align: center;\n  padding: 5em;\n}"},if2z:function(t,e,n){"use strict";n.r(e),e.default=":host .img-container {\n  position: relative;\n}\n:host .img-container img {\n  -o-object-fit: cover;\n     object-fit: cover;\n  cursor: default;\n  width: 100%;\n  height: 100%;\n  -webkit-transition: opacity 0.3s ease;\n  transition: opacity 0.3s ease;\n  -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n  max-width: 100%;\n  max-height: 100%;\n  margin: 0 auto;\n}\n:host .top-overlay {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  -webkit-transition: 0.3s ease;\n  transition: 0.3s ease;\n  opacity: 0;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  cursor: pointer;\n  text-align: center;\n}\n:host .bottom-overlay {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  -webkit-transition: 0.3s ease;\n  transition: 0.3s ease;\n  opacity: 1;\n  position: absolute;\n  right: 10px;\n  bottom: 10px;\n  cursor: pointer;\n  text-align: center;\n}\n:host .img-container:hover img {\n  opacity: 0.9;\n}\n:host .img-container:hover .top-overlay {\n  opacity: 0.9;\n}\n:host .img-container:hover .top-overlay:hover {\n  opacity: 1;\n}\n:host .image-option {\n  opacity: 0.9;\n  background-color: white;\n  display: -webkit-box;\n  display: flex;\n  color: black;\n  width: 40px;\n  height: 30px;\n  border-radius: 5px;\n  font-size: 16px;\n  margin: 3px;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n}\n:host .image-option:hover {\n  opacity: 1;\n}\n:host .image-option .fas {\n  top: 5px;\n}\n:host .img-selected {\n  border: solid #4FB876;\n  border-width: 5px;\n}\n:host .img-unselected {\n  border: solid #fff;\n  border-width: 5px;\n}\n:host .group-tags {\n  opacity: 0.9;\n  background-color: white;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  width: auto;\n  height: 30px;\n  border-radius: 5px;\n  padding: 5px;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n          align-items: center;\n  z-index: 999;\n}\n:host .center {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  -webkit-box-pack: center;\n          justify-content: center;\n  -webkit-transition: 0.3s ease;\n  transition: 0.3s ease;\n  cursor: pointer;\n  -webkit-box-align: center;\n          align-items: center;\n}\n:host .center .inner-del {\n  opacity: 0;\n  -webkit-transition: 0.3s ease;\n  transition: 0.3s ease;\n}\n:host .center:hover .inner-del {\n  opacity: 0.5;\n}\n:host .box {\n  padding: 1px;\n}\n.center-temp {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  -webkit-box-pack: center;\n          justify-content: center;\n  cursor: pointer;\n  -webkit-box-align: center;\n          align-items: center;\n}\n.center-temp .inner-del-temp {\n  opacity: 0;\n  -webkit-transition: 0.3s ease;\n  transition: 0.3s ease;\n}\n.center-temp:hover .inner-del-temp {\n  opacity: 0.5;\n}\n.zoom-content {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n          flex-direction: column;\n  max-height: 700px;\n}\n.zoom-content .img-container {\n  overflow-y: scroll;\n  width: 100%;\n  height: 100%;\n  background-color: #e7e7e7;\n}\n.zoom-content .img-details {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  margin-top: 24px;\n  background-color: #e7e7e7;\n  -webkit-box-align: center;\n          align-items: center;\n  text-align: center;\n}\n.zoom-content .title {\n  background-color: #ccc;\n  padding: 5px;\n}\n.zoom-content .detail-container {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n          flex-direction: column;\n  padding: 5px;\n}\n.zoom-content .detail-contents {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  padding: 5px;\n  background-color: #fff;\n}\n.zoom-content .detail-item {\n  padding: 5px;\n}"},ld75:function(t,e,n){"use strict";n.r(e),e.default=":host {\n  text-align: left;\n}\n:host .mat-form-field {\n  width: 100%;\n  text-align: left;\n}\n:host .input-group {\n  padding: 5px;\n}\n:host label {\n  padding: 5px;\n}\n:host input {\n  padding: 5px;\n  vertical-align: middle;\n}\n:host .radio-group {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n          flex-direction: column;\n}\n:host .form-controls {\n  padding: 20px;\n}"},mrSG:function(t,e,n){"use strict";function i(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a}function o(t,e){return function(n,i){e(n,i,t)}}function r(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function a(t){return t&&t.__esModule?t:{default:t}}n.d(e,"a",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a}))},nOsy:function(t,e,n){"use strict";n.r(e),e.default='<h4> Create a new Project </h4>\n<form [formGroup]="projCreateForm" (ngSubmit)="submit()" id="create-project-form">\n  <mat-form-field>\n\t<mat-label>Name:</mat-label>\n\t<input matInput type="text" formControlName="name" required="true">\n  </mat-form-field>\n\n  <mat-form-field>\n\t<mat-label>Description</mat-label>\n\t<textarea matInput formControlName="description" required="true"></textarea>\n  </mat-form-field>\n\n  <div class="button-group small">\n\t<button mat-raised-button color="warn" class="button small warning" type="button" (click)="close()">Close</button>\n\t<button mat-raised-button color="primary" class="button small align-right" type="submit" [disabled]="!projCreateForm.valid">Submit</button>\n  </div>\n</form>\n'},obZR:function(t,e,n){"use strict";n.r(e),e.default=""},qk7I:function(t,e,n){"use strict";n.r(e),e.default=":host {\n  font-size: 0.8em;\n  display: block;\n}\n:host .subitem-title {\n  text-align: left;\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n  color: #555;\n  font-size: 14px;\n  padding: 10px;\n  background-color: #F1F1F1;\n}\n:host .subitem {\n  border-width: 0px 10px;\n  border-color: #F1F1F1;\n  border-style: solid;\n  padding: 10px;\n  overflow-y: scroll;\n  background-color: #FFFFFF;\n  height: 100%;\n}\n:host .main-form-container {\n  padding: 10px;\n}\n:host .subitem-scroll {\n  padding: 10px;\n}\n:host .subitem-scroll {\n  border-width: 5px;\n}\n:host .highlight {\n  background-color: #B3E5FF;\n}\n:host .boxed input[type=radio] {\n  display: none;\n}\n:host .boxed label {\n  background-color: #fff;\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n}\n:host .boxed input[type=radio]:checked + label {\n  background-color: #B3E5FF;\n}\n:host .group-container {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  margin: 0;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n}\n:host .select-group {\n  max-height: 20%;\n  height: 20%;\n}\n:host .tag-forms {\n  height: 500px;\n}\n:host .asset-list {\n  max-height: 20%;\n  height: 20%;\n}\n:host .asset-container {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n  cursor: pointer;\n}\n:host .preset-descriptions {\n  max-height: 20%;\n  height: 20%;\n}\n:host .form-item-container {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  margin: 0;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n}\n:host .button-group {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  margin: 0;\n}\n:host .button-group div {\n  padding: 3px;\n}\n:host .name-group {\n  padding: 3px;\n  font-size: 17px;\n  font-weight: bold;\n}\n:host .list-group {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n  margin: 0;\n  -webkit-box-pack: justify;\n          justify-content: space-between;\n}\n:host .list-suboptions {\n  background-color: #F0F0F0;\n}"},s9wi:function(t,e,n){"use strict";n.r(e),e.default='<div class="select-group">\n  <div class="subitem-title" (click)="expandPanel()">Groups</div>\n  <div *ngIf="showSubitem" class="subitem group-subitem">\n\t\x3c!-- TODO redundant functionality radio is just for style --\x3e\n\t<form class="boxed">\n\t  <div *ngFor="let group of groupList" (click)="selectGroupForm(group.name)" class="box form">\n\t\t<input type="radio" [id]="group.name" [value]="group.name" name="skills" [checked]="isChecked(group.name)">\n\t\t<label class="group-container" style="cursor: pointer" [for]="group.name">\n\t\t  <div class="name-group">\n\t\t\t{{group.name}}\n\t\t\t<svg class="box" width="10px" height="10px">\n\t\t\t  <rect width="10px" height="10px" style="fill: #ffffff"/>\n\t\t\t  <rect width="8px" height="8px" x="1px" y="1px" [style.fill]="group.color"/>\n\t\t\t</svg>\n\t\t  </div>\n\t\t  <div class="button-group">\n\t\t\t<div (click)="deleteGroup(group.name)">\n\t\t\t  <i class="fas fa-minus"\n\t\t\t\t matTooltip="Delete"\n\t\t\t\t matTooltipPosition="below">\n\t\t\t  </i>\n\t\t\t</div>\n\t\t\t<div (click)="openRenameModal(renameModal, group.name)">\n\t\t\t  <i class="fas fa-edit"\n\t\t\t\t matTooltip="Rename"\n\t\t\t\t matTooltipPosition="below">\n\t\t\t  </i>\n\t\t\t</div>\n\t\t  </div>\n\t\t</label>\n\t  </div>\n\t</form>\n\n\t<ng-template #renameModal>\n\t  <input matInput #groupRename\n\t\t\t placeholder="Rename Group"\n\t\t\t (keyup.enter)="renameGroup(groupRename.value)">\n\t  <br/>\n\t  <br/>\n\t  <div class="button-group">\n\t\t<button matDialogClose color="primary" mat-raised-button (click)="renameGroup(groupRename.value)">Rename</button>\n\t\t<button matDialogClose mat-button>Cancel</button>\n\t  </div>\n\t</ng-template>\n  </div> \x3c!-- subitem --\x3e\n</div> \x3c!-- select-group --\x3e\n'},u61n:function(t,e,n){"use strict";n.r(e),e.default=""},u6lZ:function(t,e,n){"use strict";n.r(e),e.default=":host .fileslisting {\n  min-height: 15em;\n  max-height: 15em;\n  overflow-y: scroll;\n}\n:host .selected {\n  background: #eeeeee;\n}\n:host .button-group {\n  text-align: center;\n}\n:host .file-row {\n  border: 1px solid transparent;\n}\n:host .file-row:hover {\n  border: 1px solid #d3d3d3;\n}\n:host .file-row:hover.selected {\n  background: #d3d3d3;\n}"},uV4w:function(t,e,n){"use strict";n.r(e),e.default=":host .active-project {\n  background-color: #1aff8c;\n}\n:host .menu button.dropdown.button {\n  padding: 0.85em 1em;\n}\n:host .button.tiny {\n  margin: 0;\n}\n:host .current-project {\n  padding: 30px;\n  font-size: 14px;\n}\n:host .goods {\n  height: 27px;\n  margin: 0px;\n  padding: 0px;\n}\n:host .toggler {\n  margin-left: 10px;\n}\n:host .picker {\n  display: inline-block;\n}\n:host .group-bar {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n          flex-direction: row;\n}\n:host .path-buttons {\n  text-align: center;\n}\n:host .project-menu {\n  margin-left: 10px;\n}\n:host .top-bar {\n  position: fixed;\n  margin-top: -50px;\n  height: 50px;\n  z-index: 999;\n}\n:host .top-bar-right .top-bar-left {\n  -webkit-box-flex: 0;\n  flex-wrap: nowrap;\n  flex: 0 1 auto;\n  max-width: 100%;\n}\n:host .my-button {\n  border-radius: 5px;\n  padding: 5px;\n}\n@media print, screen and (min-width: 40em) {\n  :host .top-bar {\n    flex-wrap: nowrap;\n    -webkit-box-flex: 0;\n            flex: 0 1 auto;\n  }\n}\n:host .example-spacer {\n  -webkit-box-flex: 1;\n          flex: 1 1 auto;\n}"},vlUF:function(t,e,n){"use strict";n.r(e),e.default='<mat-toolbar class="top-bar" color="primary">\n  <img src="assets/logo.svg" width="40PX">\n  <span style="color: white">Taggit</span>\n\n  <button mat-icon-button [matMenuTriggerFor]="project" color="foreground" class="project-menu">\n\t<mat-icon>menu</mat-icon>\n  </button>\n\n\n  <mat-menu #project="matMenu">\n\t<span mat-menu-item *ngIf="selectedProject">\n\t  Current Project : {{selectedProject.name}}\n\t</span>\n\t<button mat-menu-item (click)="openCreateProjectModal()">Create Project</button>\n\t<button mat-menu-item [matMenuTriggerFor]="projectList">Select Project</button>\n\t<button mat-menu-item (click)="openFilePicker()">File Browser</button>\n  </mat-menu>\n\n  <mat-menu #projectList="matMenu">\n\t<button mat-menu-item class="clickable" *ngFor="let p of projects" (click)="selectProject(p)" [ngClass]="{\'active-project\': p === selectedProject}">\n\t  {{ p.name }}\n\t</button>\n  </mat-menu>\n\n  <span class="example-spacer"></span>\n\n  <div *ngIf="showSidebar; else doThat" class="path-buttons">\n\t<div class="slides" style="line-height: 1; font-size: 12px">\n\t  {{imageName}}\n\t  <div class="lr-buttons" style="margin-top: 5px">\n\t\t<i (click)="otherPath(false)" style="margin-right: 10px; cursor: pointer" class="fas fa-angle-left"></i>\n\t\t<i (click)="otherPath(true)" style="margin-left: 10px; cursor: pointer" class="fas fa-angle-right"></i>\n\t  </div>\n\t</div>\n  </div>\n\n  <ng-template #doThat>\n\t\x3c!-- <input placeholder="Search images" --\x3e\n\t\x3c!--\t   name="" --\x3e\n\t\x3c!--\t   type="text" --\x3e\n\t\x3c!--\t   value="" --\x3e\n\t\x3c!--\t   class="goods"/> --\x3e\n\n\n\t\x3c!-- <mat-form-field appearance="fill"> --\x3e\n\t\x3c!--   <input matInput placeholder="Search"> --\x3e\n\t\x3c!-- </mat-form-field> --\x3e\n\n\t\x3c!-- <mat-form-field class="example-full-width"> --\x3e\n\t\x3c!--   <input matInput type="text" --\x3e\n\t\x3c!--\t\t [(ngModel)]="value" --\x3e\n\t\x3c!--\t\t placeholder="Search"> --\x3e\n\t\x3c!-- </mat-form-field> --\x3e\n  </ng-template>\n\n  <span class="example-spacer"></span>\n\n  <div *ngIf="showGroup" class="group-bar grid-x align-right">\n\t<button mat-raised-button\n\t\t\t(click)="openAddGroupModal(addGroupModal)">Add Group</button>\n\n\t<ng-template #addGroupModal>\n\t  <mat-form-field>\n\t\t<mat-label>Group Name</mat-label>\n\t\t<input matInput placeholder="Group Name" #groupInput>\n\t  </mat-form-field>\n\t  <br/>\n\t  <br/>\n\t  <button mat-raised-button matDialogClose color="primary" (click)="addToGroupService(groupInput.value)">Add Group</button>\n\t  <button mat-button matDialogClose color="secondary">Cancel</button>\n\t</ng-template>\n  </div>\n\n  \x3c!-- <button *ngIf="groupsExist && showSidebar && activePane == \'preset\'" --\x3e\n  \x3c!--\t\t  mat-button --\x3e\n  \x3c!--\t\t  color="secondary" --\x3e\n  \x3c!--\t\t  (click)="goToRoute()">Tagger</button> --\x3e\n\n  \x3c!-- <button *ngIf="groupsExist && showSidebar && activePane == \'tagger\'" --\x3e\n  \x3c!--\t\t  mat-button --\x3e\n  \x3c!--\t\t  color="secondary" --\x3e\n  \x3c!--\t\t  (click)="goToRoute()">Preset</button> --\x3e\n\n\n  <button *ngIf="groupsExist && !showSidebar"\n\t\t  mat-raised-button\n\t\t  style="margin-left: 15px"\n\t\t  (click)="openSidebar()">Taggit!</button>\n\n  <button *ngIf="groupsExist && showSidebar"\n\t\t  mat-raised-button\n\t\t  style="margin-left: 15px"\n\t\t  (click)="openSidebar()">Gallery</button>\n\n\n</mat-toolbar>\n'},ynWL:function(t,e,n){"use strict";n.r(e),e.default=""},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("mrSG"),o=(n("yLV6"),n("8Y7J")),r=n("wAiw"),a=n("cUpR"),s=n("omvX"),l=n("IheW"),c=n("SVse"),u=n("MNke"),p=n("7g+E"),d=n("neit"),h=n("gavF"),f=n("BzsH"),m=n("Fwaw"),b=n("s6ns"),g=n("Mz6y"),v=n("ZwOa"),x=n("Gi4r"),y=n("r0V8"),k=n("elxJ"),w=n("JjoW"),S=n("jGvI"),F=n("vO5K"),j=n("nqmK"),O=n("iInd"),_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();_=i.a([Object(o.n)({selector:"app-notfound",template:i.b(n("Af46")).default,styles:[i.b(n("6CRC")).default]}),i.c("design:paramtypes",[])],_);var C=function t(){_classCallCheck(this,t)},G=function(){function t(){_classCallCheck(this,t),this.bbox=[],this.assetType=new Set}return _createClass(t,[{key:"updateAssetTypes",value:function(t){this.assetType.has(t)?this.assetType.delete(t):this.assetType.add(t)}},{key:"updateBBox",value:function(t){this.bbox=t}},{key:"toJson",value:function(){return{assetType:_toConsumableArray(this.assetType),bbox:this.bbox}}}]),t}(),L=function t(){_classCallCheck(this,t)},I=function(){function t(e,n){_classCallCheck(this,t),this.token=e,this.expires=new Date(n)}return _createClass(t,[{key:"isExpired",value:function(){return(new Date).getTime()>this.expires.getTime()}}],[{key:"fromExpiresIn",value:function(e,n){return new t(e,new Date((new Date).getTime()+1e3*n))}}]),t}(),P=function(){function t(e){_classCallCheck(this,t),this.geometry=e.geometry,this.properties=e.properties,this.id=e.id,this.type=e.type,this.assets=e.assets,this.styles=e.styles,this.project_id=e.project_id}return _createClass(t,[{key:"featureType",value:function(){return this.assets&&1===this.assets.length?this.assets[0].asset_type:this.assets&&this.assets.length>1?"collection":this.assets.length?void 0:this.geometry.type}}]),t}(),T={production:!0,apiUrl:"https://agave.designsafe-ci.org/geo/v2/",clientId:"jHXnvsmQQcmP43qlrG7ATaxFXHQa",baseHref:"/"},A=n("jtHE"),N=function t(e,n){_classCallCheck(this,t),this.username=e,this.email=n},E=function(){function t(e,n){_classCallCheck(this,t),this.http=e,this.router=n,this._currentUser=new A.a(1),this.currentUser=this._currentUser.asObservable(),this.LS_TOKEN_KEY="hazmapperToken",this.LS_USER_KEY="hazmapperUser"}return _createClass(t,[{key:"login",value:function(){var t=localStorage.getItem(this.LS_TOKEN_KEY);if(t){var e=JSON.parse(t);this.userToken=new I(e.token,new Date(e.expires)),this.userToken&&!this.userToken.isExpired()||(this.logout(),this.redirectToauthenticaor()),this.getUserInfo()}else this.redirectToauthenticaor()}},{key:"redirectToauthenticaor",value:function(){var t="https://agave.designsafe-ci.org/authorize?scope=openid&client_id=".concat(T.clientId,"&response_type=token&redirect_uri=").concat(location.origin+T.baseHref+"callback","&state=").concat(Math.random().toString(36));window.location.href=t}},{key:"isLoggedIn",value:function(){return this.userToken&&!this.userToken.isExpired()}},{key:"logout",value:function(){this.userToken=null,localStorage.removeItem(this.LS_TOKEN_KEY),localStorage.removeItem(this.LS_USER_KEY)}},{key:"setToken",value:function(t,e){this.userToken=I.fromExpiresIn(t,e),localStorage.setItem(this.LS_TOKEN_KEY,JSON.stringify(this.userToken)),this.router.navigate(["/"])}},{key:"getUserInfo",value:function(){var t=this,e=localStorage.getItem(this.LS_USER_KEY),n=JSON.parse(e);null!==n?this._currentUser.next(new N(n.username,n.email)):this.http.get("https://agave.designsafe-ci.org/oauth2/userinfo?schema=openid").subscribe((function(e){var n=new N(e.name,e.email);localStorage.setItem(t.LS_USER_KEY,JSON.stringify(n)),t._currentUser.next(n)}))}}]),t}();E.ctorParameters=function(){return[{type:l.b},{type:O.b}]},E=i.a([Object(o.B)({providedIn:"root"}),i.c("design:paramtypes",[l.b,O.b])],E);var D=n("2Vo4"),R=n("IzEk"),z=n("r8II"),M=function(){function t(e){_classCallCheck(this,t),this.http=e,this._pointClouds=new D.a(null),this.pointClouds=this._pointClouds.asObservable(),this._features=new D.a({type:"FeatureCollection",features:[]}),this.features$=this._features.asObservable(),this._activeFeature=new D.a(null),this._mapMouseLocation=new D.a(null),this._basemap=new D.a("roads"),this._overlays=new D.a(null),this._activeOverlay=new D.a(null)}return _createClass(t,[{key:"getFeatures",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new G,i=z.stringify(n.toJson());this.http.get(T.apiUrl+"/projects/".concat(t,"/features/")+"?"+i).subscribe((function(t){t.features=t.features.map((function(t){return new P(t)})),e._features.next(t)}))}},{key:"deleteFeature",value:function(t){var e=this;this.http.delete(T.apiUrl+"/projects/".concat(t.project_id,"/features/").concat(t.id,"/")).subscribe((function(n){e.getFeatures(t.project_id)}))}},{key:"getPointClouds",value:function(t){var e=this;this.http.get(T.apiUrl+"/projects/".concat(t,"/point-cloud/")).subscribe((function(t){console.log(t),e._pointClouds.next(t)}))}},{key:"addFeature",value:function(t){var e=this;this.features$.pipe(Object(R.a)(1)).subscribe((function(n){n.features.push(t),e._features.next(n)}))}},{key:"addPointCloud",value:function(t,e,n){var i=this,o={description:e,conversion_parameters:n};this.http.post(T.apiUrl+"/projects/".concat(t,"/point-cloud/"),o).subscribe((function(e){i.getPointClouds(t)}),(function(t){}))}},{key:"updateFeatureProperty",value:function(t,e,n){var i=this;this.http.post(T.apiUrl+"/projects/{projectId}/features/{featureId}/properties/",n).subscribe((function(e){i.getFeatures(t)}),(function(t){}))}},{key:"updateFeatureStyle",value:function(t,e,n){var i=this;this.http.post(T.apiUrl+"/projects/{projectId}/features/{featureId}/styles/",n).subscribe((function(e){i.getFeatures(t)}),(function(t){}))}},{key:"deletePointCloud",value:function(t){var e=this;console.log(t),this.http.delete(T.apiUrl+"/projects/".concat(t.project_id,"/point-cloud/").concat(t.id,"/")).subscribe((function(n){e.getPointClouds(t.project_id)}))}},{key:"addFileToPointCloud",value:function(t,e){var n=new FormData;n.append("file",e),console.log(t),this.http.post(T.apiUrl+"/projects/".concat(t.project_id,"/point-cloud/").concat(t.id,"/"),n).subscribe((function(t){console.log(t)}))}},{key:"importFileFromTapis",value:function(t,e){var n={files:e.map((function(t){return{system:t.system,path:t.path}}))};this.http.post(T.apiUrl+"/projects/".concat(t,"/features/files/import/"),n).subscribe((function(t){}),(function(t){}))}},{key:"downloadGeoJSON",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new G,n=z.stringify(e.toJson()),i=document.createElement("a");this.http.get(T.apiUrl+"/projects/".concat(t,"/features/")+"?"+n).subscribe((function(t){var e=new Blob([JSON.stringify(t)],{type:"application/json"});i.href=URL.createObjectURL(e),i.setAttribute("download","hazmapper.json"),document.body.appendChild(i),i.click(),document.body.removeChild(i)}))}},{key:"uploadFile",value:function(t,e){var n=this,i=new FormData;i.append("file",e,e.name),this.http.post(T.apiUrl+"/projects/".concat(t,"/features/files/"),i).subscribe((function(t){t.forEach((function(t){n.addFeature(new P(t))}))}),(function(t){}))}},{key:"uploadAssetFile",value:function(t,e,n){var i=this,o=new FormData;o.append("file",n,n.name),this.http.post(T.apiUrl+"/api/projects/".concat(t,"/features/").concat(e,"/assets/"),o).subscribe((function(n){var o=i._activeFeature.getValue();o&&o.id===e&&(i.activeFeature=new P(n),i.getFeatures(t))}),(function(t){}))}},{key:"getOverlays",value:function(t){var e=this;this.http.get(T.apiUrl+"/projects/".concat(t,"/overlays/")).subscribe((function(t){e._overlays.next(t)}))}},{key:"addOverlay",value:function(t,e,n,i,o,r,a){var s=this,l=new FormData;l.append("file",e),l.append("label",n),l.append("minLat",i.toFixed(6)),l.append("maxLat",o.toFixed(6)),l.append("minLon",r.toFixed(6)),l.append("maxLon",a.toFixed(6)),this.http.post(T.apiUrl+"/projects/".concat(t,"/overlays/"),l).subscribe((function(e){s.getOverlays(t)}))}},{key:"overlays",get:function(){return this._overlays.asObservable()}},{key:"features",get:function(){return this._features.asObservable()}},{key:"activeFeature",get:function(){return this._activeFeature.asObservable()},set:function(t){t?t===this._activeFeature.getValue()?this._activeFeature.next(null):this._activeFeature.next(t):this._activeFeature.next(null)}},{key:"activeOverlay",get:function(){return this._activeOverlay.asObservable()},set:function(t){this._activeOverlay.next(t)}},{key:"mapMouseLocation",get:function(){return this._mapMouseLocation.asObservable()},set:function(t){this._mapMouseLocation.next(t)}},{key:"basemap",set:function(t){this._basemap.next(t)},get:function(){return this._basemap.asObservable()}}]),t}();M.ctorParameters=function(){return[{type:l.b}]},M=i.a([Object(o.B)({providedIn:"root"}),i.c("design:paramtypes",[l.b])],M);var U=function(){function t(e,n,i){_classCallCheck(this,t),this.geoDataService=e,this.authService=n,this.bsModalService=i}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();U.ctorParameters=function(){return[{type:M},{type:E},{type:d.c}]},U=i.a([Object(o.n)({selector:"app-main",template:i.b(n("AZwa")).default,styles:[i.b(n("8lyn")).default]}),i.c("design:paramtypes",[M,E,d.c])],U);var B=function(){function t(e,n){_classCallCheck(this,t),this.route=e,this.auth=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.route.snapshot.fragment,e=new URLSearchParams(t),n=e.get("access_token"),i=+e.get("expires_in");this.auth.setToken(n,i)}}]),t}();B.ctorParameters=function(){return[{type:O.a},{type:E}]},B=i.a([Object(o.n)({selector:"app-callback",template:i.b(n("X9m5")).default,styles:[i.b(n("u61n")).default]}),i.c("design:paramtypes",[O.a,E])],B);var $=n("SxV6"),V=n("lJxs"),H=function(){function t(e){_classCallCheck(this,t),this.http=e,this._projects=new D.a([]),this.projects=this._projects.asObservable(),this._activeProject=new A.a(1),this.activeProject=this._activeProject.asObservable()}return _createClass(t,[{key:"getProjects",value:function(){var t=this;this.http.get(T.apiUrl+"/projects/").subscribe((function(e){t._projects.next(e)}))}},{key:"create",value:function(t){var e=this,n=this.http.post(T.apiUrl+"/projects/",t);return n.subscribe((function(t){var n=new L;n.name="test",n.description="test",e._projects.next([].concat(_toConsumableArray(e._projects.value),[t])),e._activeProject.next(t)})),n}},{key:"setActiveProject",value:function(t){this._activeProject.next(t)}}]),t}();H.ctorParameters=function(){return[{type:l.b}]},H=i.a([Object(o.B)({providedIn:"root"}),i.c("design:paramtypes",[l.b])],H);var J=function(){function t(e){_classCallCheck(this,t),this.projectsService=e,this._groups=new D.a([]),this.groups=this._groups.asObservable(),this._forms=new D.a([]),this.forms=this._forms.asObservable(),this._tempGroup=new D.a([]),this.tempGroup=this._tempGroup.asObservable(),this._showGroup=new D.a(null),this.showGroup=this._showGroup.asObservable(),this._showSidebar=new D.a(null),this.showSidebar=this._showSidebar.asObservable(),this._activeFeature=new D.a(null),this.activeFeature=this._activeFeature.asObservable(),this._activeGroup=new D.a(null),this.activeGroup=this._activeGroup.asObservable(),this._activeFeatureNum=new D.a(null),this.activeFeatureNum=this._activeFeatureNum.asObservable(),this._unselectAll=new D.a(null),this.unselectAll=this._unselectAll.asObservable(),this._activeFeatureId=new D.a(null),this.activeFeatureId=this._activeFeatureId.asObservable(),this._activePane=new D.a(null),this.activePane=this._activePane.asObservable(),this._tagFeatureGroup=new D.a(null),this.tagFeatureGroup=this._tagFeatureGroup.asObservable()}return _createClass(t,[{key:"addGroup",value:function(t){this._groups.next(t)}},{key:"addForm",value:function(t){this._forms.next(t)}},{key:"addTempGroup",value:function(t){this._tempGroup.next(t)}},{key:"setShowGroup",value:function(t){this._showGroup.next(t)}},{key:"setShowSidebar",value:function(t){this._showSidebar.next(t)}},{key:"setUnselectAll",value:function(t){this._unselectAll.next(t)}},{key:"setActiveProject",value:function(t){this._activeFeature.next(t)}},{key:"setActiveGroup",value:function(t){this._activeGroup.next(t)}},{key:"setActivePane",value:function(t){this._activePane.next(t)}},{key:"setActiveFeatureNum",value:function(t){this._activeFeatureNum.next(t)}},{key:"setActiveFeatureId",value:function(t){this._activeFeatureId.next(t)}},{key:"setTagFeatureGroup",value:function(t,e,n){var i=t+e,o=this._tagFeatureGroup.value;null==o?o={}:o[i]=n,this._tagFeatureGroup.next(o)}}]),t}();J.ctorParameters=function(){return[{type:H}]},J=i.a([Object(o.B)({providedIn:"root"}),i.c("design:paramtypes",[H])],J);var W=n("s7LF"),K=function(){function t(e){_classCallCheck(this,t),this.groupsService=e,this._forms=new D.a([]),this.forms=this._forms.asObservable(),this._activeFormList=new D.a([]),this.activeFormList=this._activeFormList.asObservable(),this._formGroup=new D.a(null),this.formGroup=this._formGroup.asObservable()}return _createClass(t,[{key:"addForm",value:function(t,e){var n=this;this.forms.pipe(Object($.a)(),Object(V.a)((function(n){return n.map((function(n){return n.groupName==t&&n.formList.push(e),n}))}))).subscribe((function(t){return n._forms.next(t)})),this.changeGroupForm(t)}},{key:"updateFormItem",value:function(){var t={};this._activeFormList.value.forEach((function(e){return t[e.label]=e.required?new W.b(e.value||"",W.k.required):new W.b(e.value||"")})),this._formGroup.next(new W.c(t))}},{key:"changeGroupForm",value:function(t){var e=this;this.forms.pipe(Object($.a)(),Object(V.a)((function(e){return e.map((function(e){if(e.groupName==t)return e.formList}))}))).subscribe((function(t){e._activeFormList.next(t.find((function(t){return null!=t})))})),this.updateFormItem()}},{key:"addGroup",value:function(t){var e=this,n=new C;n.formList=[],n.groupName=t,this.forms.pipe(Object($.a)()).subscribe((function(t){t.push(n),e._forms.next(t)}))}},{key:"deleteForm",value:function(t,e){var n=this;this.forms.pipe(Object($.a)(),Object(V.a)((function(n){return n.map((function(n){return n.groupName==t&&(n.formList=n.formList.filter((function(t){return t.label!=e.label}))),n}))}))).subscribe((function(t){return n._forms.next(t)})),this.forms.pipe(Object($.a)(),Object(V.a)((function(n){return n.map((function(n){if(n.groupName==t)return n.formList.filter((function(t){return t.label!=e.label}))}))}))).subscribe((function(t){n._activeFormList.next(t.find((function(t){return null!=t})))})),this.changeGroupForm(t)}},{key:"renameForm",value:function(t,e,n){var i=this;this.forms.pipe(Object($.a)(),Object(V.a)((function(i){return i.map((function(i){return i.groupName==t&&i.formList.forEach((function(t){t.label==e.label&&(t.label=n)})),i}))}))).subscribe((function(t){i._forms.next(t)})),this.forms.pipe(Object($.a)(),Object(V.a)((function(i){return i.map((function(i){return i.groupName==t&&i.formList.forEach((function(t){t.label==e.label&&(t.label=n)})),i.formList}))}))).subscribe((function(t){i._activeFormList.next(t.find((function(t){return null!=t})))})),this.changeGroupForm(t)}},{key:"renameOption",value:function(t,e,n,i){var o=this;this.forms.pipe(Object($.a)(),Object(V.a)((function(o){return o.map((function(o){return o.groupName==t&&o.formList.forEach((function(t){t.label==n.label&&t.options.forEach((function(t){t.label==e.label&&(t.label=i)}))})),o}))}))).subscribe((function(t){return o._forms.next(t)})),this.forms.pipe(Object($.a)(),Object(V.a)((function(o){return o.map((function(o){return o.groupName==t&&o.formList.forEach((function(t){t.label==n.label&&t.options.forEach((function(t){t.label==e.label&&(t.label=i)}))})),o.formList}))}))).subscribe((function(t){o._activeFormList.next(t.find((function(t){return null!=t})))})),this.changeGroupForm(t)}},{key:"deleteOption",value:function(t,e,n){var i=this;this.forms.pipe(Object($.a)(),Object(V.a)((function(i){return i.map((function(i){return i.groupName==t&&i.formList.forEach((function(t){t.label==n.label&&(t.options=t.options.filter((function(t){return t.label!=e.label})))})),i}))}))).subscribe((function(t){i._forms.next(t)})),this.forms.pipe(Object($.a)(),Object(V.a)((function(i){return i.map((function(i){return i.groupName==t&&i.formList.forEach((function(t){t.label==n.label&&(t.options=t.options.filter((function(t){return t.label!=e.label})))})),i.formList}))}))).subscribe((function(t){i._activeFormList.next(t.find((function(t){return null!=t})))})),this.changeGroupForm(t)}},{key:"getForm",value:function(t,e){var n=e.filter((function(e){return e.groupName===t})),i=[];return null!=n[0]&&(i=n[0].formList),i}}]),t}();K.ctorParameters=function(){return[{type:J}]},K=i.a([Object(o.B)({providedIn:"root"}),i.c("design:paramtypes",[J])],K);var q=function(){function t(e,n,i,o){_classCallCheck(this,t),this.formsService=e,this.groupsService=n,this.dialog=i,this.router=o,this.formOptions=[],this.changed=!1,this.formItemList=[],this.openOption={},this.enabledControls=[],this.showSubitem=!0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.groupsService.activeGroup.subscribe((function(e){t.activeGroup=e})),this.formsService.activeFormList.subscribe((function(e){t.activeFormList=e})),this.formOptions=[],this.formItemList=[],this.formType="text",this.formName="",this.formLabel="",this.formValue="",this.formRequired=!1,this.enabledControls=["Text","Checkbox","Radio","Dropdown"]}},{key:"inputFormLabel",value:function(t){this.formLabel=t.target.value}},{key:"addOptionItem",value:function(t){t&&0==this.formOptions.filter((function(e){return e.label==t})).length&&0!=t.length&&this.formOptions.push({key:t[0],label:t})}},{key:"deleteOption",value:function(t){this.formOptions=this.formOptions.filter((function(e){return e.label!=t.label}))}},{key:"openRenameModal",value:function(t,e){this.selectedGroup=e,this.dialog.open(t)}},{key:"openRenameOptionModal",value:function(t){this.dialog.open(t)}},{key:"renameOption",value:function(t,e){"show-option"==this.showOpt?this.showOpt="no-show-option":this.showOpt="show-option",e=e.toLowerCase(),this.formOptions.forEach((function(n){n.label==t.label&&(n.label=e)}))}},{key:"selectInputForm",value:function(t){this.formType=t,this.formLabel="",this.formOptions=[]}},{key:"clearOption",value:function(){this.optionFilter=""}},{key:"clearLabel",value:function(){this.labelFilter=""}},{key:"addFormItem",value:function(){var t=this;if(0==this.activeFormList.filter((function(e){return e.label==t.formLabel})).length&&0!=this.formLabel.length){var e={type:this.formType,name:this.formName,label:this.formLabel,value:this.formValue,required:this.formRequired,options:[]};if(this.openOption[this.formLabel]=!1,"text"!==this.formType&&0!=this.formOptions.length){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=this.formOptions[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.push({key:l[0],label:l})}}catch(c){o=!0,r=c}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}e.options=this.formOptions}this.formItemList.push(e),this.formsService.addForm(this.activeGroup,e),this.formLabel="",this.formOptions=[],this.labelFilter="",this.changed=!0,this.groupsService.setActivePane("tagger"),this.router.navigateByUrl("/tagger",{skipLocationChange:!0})}}},{key:"cancelCreate",value:function(){this.groupsService.setActivePane("tagger"),this.router.navigateByUrl("/tagger",{skipLocationChange:!0})}},{key:"expandPanel",value:function(){this.showSubitem=!this.showSubitem,this.showSubitem}}]),t}();q.ctorParameters=function(){return[{type:K},{type:J},{type:b.a},{type:O.b}]},q=i.a([Object(o.n)({selector:"app-tag-generator",template:i.b(n("MHpZ")).default,styles:[i.b(n("dTB+")).default]}),i.c("design:paramtypes",[K,J,b.a,O.b])],q);var X=function(){function t(e,n,i,o){_classCallCheck(this,t),this.groupsService=e,this.formsService=n,this.dialog=i,this.router=o,this.openOption={},this.showSubitem=!0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.activeGroup$=this.activeGroup$=this.groupsService.activeGroup.subscribe((function(e){t.activeGroup=e})),this.activeFeatureId$=this.groupsService.activeFeatureId.subscribe((function(e){t.activeFeatureId=e})),this.formGroup$=this.formsService.formGroup.subscribe((function(e){t.form=e}))}},{key:"openRenameModal",value:function(t,e){this.selectedGroup=e,this.dialog.open(t)}},{key:"openRenameOptionModal",value:function(t){this.dialog.open(t)}},{key:"openOptionToggle",value:function(t){this.openOption[t]?this.openOption[t]=!1:this.openOption[t]=!0}},{key:"createNewTag",value:function(){this.groupsService.setActivePane("preset"),this.router.navigateByUrl("/preset",{skipLocationChange:!0})}},{key:"onSubmit",value:function(){this.payload=this.form.getRawValue(),console.log(this.payload),this.groupsService.setTagFeatureGroup(this.activeGroup,this.activeFeatureId,this.payload)}},{key:"ngOnDestroy",value:function(){this.formGroup$.unsubscribe(),this.activeFeatureId$.unsubscribe(),this.activeGroup$.unsubscribe()}},{key:"expandPanel",value:function(){this.showSubitem=!this.showSubitem,this.showSubitem}}]),t}();X.ctorParameters=function(){return[{type:J},{type:K},{type:b.a},{type:O.b}]},X=i.a([Object(o.n)({selector:"app-tag-images",template:i.b(n("zXfM")).default,styles:[i.b(n("qk7I")).default]}),i.c("design:paramtypes",[J,K,b.a,O.b])],X);var Z=function(){function t(e){_classCallCheck(this,t),this.authSvc=e}return _createClass(t,[{key:"canActivate",value:function(t,e){if(this.authSvc.isLoggedIn())return!0;this.authSvc.login()}}]),t}();Z.ctorParameters=function(){return[{type:E}]};var Y=[{path:"",component:U,canActivate:[Z=i.a([Object(o.B)(),i.c("design:paramtypes",[E])],Z)],children:[{path:"tagger",component:X,canActivateChild:[Z]},{path:"preset",component:q,canActivateChild:[Z]}]},{path:"callback",component:B},{path:"404",component:_}],Q=function t(){_classCallCheck(this,t)};Q=i.a([Object(o.J)({imports:[O.c.forRoot(Y,{onSameUrlNavigation:"reload"})],exports:[O.c],providers:[Z]})],Q);var tt=function(){function t(e){_classCallCheck(this,t),this.authService=e,this.title="viewer"}return _createClass(t,[{key:"ngOnInit",value:function(){this.authService.login()}}]),t}();tt.ctorParameters=function(){return[{type:E}]},tt=i.a([Object(o.n)({selector:"app-root",template:i.b(n("VzVu")).default,styles:[i.b(n("ynWL")).default]}),i.c("design:paramtypes",[E])],tt);var et=n("4R65");function nt(t,e){return"image"==t.featureType()?function(t,e){var n=Object(et.divIcon)({className:"leaflet-fa-marker-icon",html:"<i class='fas fa-camera-retro fa-2x light-blue'></i>"});return Object(et.marker)(e,{icon:n})}(0,e):"collection"==t.featureType()?function(t,e){var n=Object(et.divIcon)({className:"icon-marker",html:'<i class="fa fa-folder-open fa-2x light-blue"></i>'});return Object(et.marker)(e,{icon:n})}(0,e):"video"==t.featureType()?function(t,e){var n=Object(et.divIcon)({className:"leaflet-fa-marker-icon",html:"<i class='fas fa-video fa-2x light-blue'></i>"});return Object(et.marker)(e,{icon:n})}(0,e):function(t,e){return Object(et.circleMarker)(e,{radius:8,fillColor:"#d3d3d3",color:"black",weight:1,opacity:1,fillOpacity:.8})}(0,e)}n("JXP8");var it=n("WVt+"),ot=n("zP0r"),rt=n("pLZG"),at=function(){function t(e,n){_classCallCheck(this,t),this.GeoDataService=e,this.route=n,this.mapType="normal",this.features=new et.FeatureGroup,this.featureClickHandler.bind(this),this.mouseEventHandler.bind(this)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.environment=T,this.overlays=new Map,this.map=new et.Map("map",{center:[40,-80],zoom:9});var e=et.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n=et.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"});this.map.addLayer(e),this.loadFeatures(),this.map.on("mousemove",(function(e){return t.mouseEventHandler(e)})),this.GeoDataService.activeOverlay.pipe(Object(ot.a)(1)).subscribe((function(e){t.addRemoveOverlay(e)})),this.GeoDataService.activeFeature.pipe(Object(rt.a)((function(t){return null!=t}))).subscribe((function(e){t.activeFeature=e;var n=it.bbox(e);t.map.fitBounds([[n[1],n[0]],[n[3],n[2]]])})),this.GeoDataService.basemap.pipe(Object(ot.a)(1)).subscribe((function(i){"sat"==i&&(t.map.removeLayer(e),t.map.addLayer(n)),"roads"==i&&(t.map.removeLayer(n),t.map.addLayer(e))}))}},{key:"addRemoveOverlay",value:function(t){if(this.overlays.has(t.id))this.features.removeLayer(this.overlays.get(t.id)),this.overlays.delete(t.id);else{var e=et.imageOverlay(T.apiUrl+"/assets/"+t.path,[[t.minLat,t.minLon],[t.maxLat,t.maxLon]]);this.overlays.set(t.id,e),this.features.addLayer(e)}this.map.fitBounds(this.features.getBounds())}},{key:"mouseEventHandler",value:function(t){this.GeoDataService.mapMouseLocation=t.latlng}},{key:"loadFeatures",value:function(){var t=this,e={pointToLayer:nt};this.GeoDataService.features.subscribe((function(n){t.features.clearLayers();var i=et.markerClusterGroup({iconCreateFunction:function(t){return et.divIcon({html:"<div><b>".concat(t.getChildCount(),"</b></div>"),className:"marker-cluster"})}});n.features.forEach((function(n){var o=et.geoJSON(n,e);o.on("click",(function(e){t.featureClickHandler(e)})),"Point"==n.geometry.type?i.addLayer(o):t.features.addLayer(o)})),t.features.addLayer(i),t.map.addLayer(t.features);try{t.map.fitBounds(t.features.getBounds())}catch(o){}}))}},{key:"featureClickHandler",value:function(t){var e=t.layer.feature;this.GeoDataService.activeFeature=e}}]),t}();at.ctorParameters=function(){return[{type:M},{type:O.a}]},at=i.a([Object(o.n)({selector:"app-map",template:i.b(n("eC1z")).default,styles:[i.b(n("obZR")).default]}),i.c("design:paramtypes",[M,O.a])],at);var st=n("JX91"),lt=function(){function t(e){_classCallCheck(this,t),this.tapis=e,this.baseUrl="https://agave.designsafe-ci.org/systems/v2/",this._systems=new A.a(1),this.systems=this._systems.asObservable(),this._projects=new A.a(1),this.projects=this._projects.asObservable()}return _createClass(t,[{key:"list",value:function(){var t=this;this.tapis.systemsList({type:"STORAGE"}).subscribe((function(e){t._systems.next(e.result),t._projects.next(e.result.filter((function(t){return t.id.startsWith("project")})))}),(function(e){t._systems.next(null),t._projects.next(null)}))}}]),t}();lt.ctorParameters=function(){return[{type:j.b}]},lt=i.a([Object(o.B)({providedIn:"root"}),i.c("design:paramtypes",[j.b])],lt);var ct=function(){function t(e){_classCallCheck(this,t),this.tapis=e,this.baseUrl="https://agave.designsafe-ci.org/files/v2/",this._listing=new D.a([]),this.listing=this._listing.asObservable(),this.IMPORTABLE_TYPES=["jpg","las","laz","json","geojson","geotiff","tiff","gpx"]}return _createClass(t,[{key:"checkIfSelectable",value:function(t){if("dir"===t.type)return!1;var e=this.getFileExtension(t);return this.IMPORTABLE_TYPES.includes(e)}},{key:"getFileExtension",value:function(t){return t.name.split(".").pop()}},{key:"listFiles",value:function(t,e){var n=this;this.tapis.filesList({systemId:t,filePath:e}).subscribe((function(t){var e=t.result,i=e.shift();i.path=n.getParentPath(i.path),i.name="..",e.unshift(i),n._listing.next(e)}))}},{key:"getParentPath",value:function(t){var e=t.replace("//","/").split("/");return e.pop(),e.join("/")}}]),t}();ct.ctorParameters=function(){return[{type:j.b}]},ct=i.a([Object(o.B)({providedIn:"root"}),i.c("design:paramtypes",[j.b])],ct);var ut=n("XNiG"),pt=n("itXk"),dt=function(){function t(e,n,i,o,r){_classCallCheck(this,t),this.tapisFilesService=e,this.dialogRef=n,this.dialog=i,this.authService=o,this.agaveSystemsService=r,this.selectedFiles=new Map,this.onClose=new ut.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.agaveSystemsService.list(),Object(pt.a)([this.authService.currentUser,this.agaveSystemsService.systems,this.agaveSystemsService.projects]).subscribe((function(e){var n=_slicedToArray(e,3),i=n[0],o=n[1],r=n[2];t.myDataSystem=o.find((function(t){return"designsafe.storage.default"===t.id})),t.communityDataSystem=o.find((function(t){return"designsafe.storage.community"===t.id})),t.publishedDataSystem=o.find((function(t){return"designsafe.storage.published"===t.id})),t.selectedSystem=t.myDataSystem,t.projects=r,t.currentUser=i;var a={system:t.myDataSystem.id,type:"dir",path:t.currentUser.username};t.browse(a)}))}},{key:"selectSystem",value:function(t){var e;e=t.id===this.myDataSystem.id?this.currentUser.username:"/";var n={system:t.id,type:"dir",path:e};this.browse(n)}},{key:"browse",value:function(t){var e=this;"dir"===t.type&&(this.inProgress=!0,this.selectedFiles.clear(),this.tapisFilesService.listFiles(t.system,t.path),this.tapisFilesService.listing.subscribe((function(t){e.inProgress=!1,e.filesList=t})))}},{key:"select",value:function(t){this.tapisFilesService.checkIfSelectable(t)&&this.addSelectedFile(t)}},{key:"addSelectedFile",value:function(t){this.selectedFiles.has(t.path)?this.selectedFiles.delete(t.path):this.selectedFiles.set(t.path,t)}},{key:"chooseFiles",value:function(){var t=Array.from(this.selectedFiles.values());this.dialogRef.close(t)}},{key:"cancel",value:function(){this.dialogRef.close()}}]),t}();dt.ctorParameters=function(){return[{type:ct},{type:b.c},{type:b.a},{type:E},{type:lt}]},dt=i.a([Object(o.n)({selector:"app-modal-file-browser",template:i.b(n("0NOL")).default,styles:[i.b(n("u6lZ")).default]}),i.c("design:paramtypes",[ct,b.c,b.a,E,lt])],dt);var ht=function(){function t(e,n,i){_classCallCheck(this,t),this.dialogRef=e,this.dialog=n,this.projectsService=i}return _createClass(t,[{key:"ngOnInit",value:function(){this.projCreateForm=new W.c({name:new W.b(""),description:new W.b("")})}},{key:"close",value:function(){this.dialogRef.close()}},{key:"submit",value:function(){var t=new L;t.description=this.projCreateForm.get("description").value,t.name=this.projCreateForm.get("name").value,this.projectsService.create(t),this.dialogRef.close()}}]),t}();ht.ctorParameters=function(){return[{type:b.c},{type:b.a},{type:H}]},ht=i.a([Object(o.n)({selector:"app-modal-create-project",template:i.b(n("nOsy")).default,styles:[i.b(n("fWOx")).default]}),i.c("design:paramtypes",[b.c,b.a,H])],ht);var ft=n("l5mm"),mt=function(){function t(e,n,i,o,r,a,s,l){_classCallCheck(this,t),this.projectsService=e,this.geoDataService=n,this.bsModalService=i,this.groupsService=o,this.formsService=r,this.authService=a,this.router=s,this.dialog=l,this.featureList=[],this.REFRESHTIME=60,this.mapMouseLocation=new et.LatLng(0,0),this.liveRefresh=!0,this.timer=Object(ft.a)(1e3*this.REFRESHTIME)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.geoDataService.features.subscribe((function(e){t.features=e,null!=t.features&&(t.featureList=t.features.features,t.groupsService.setActiveProject(t.featureList[0]))})),this.groupsService.activeGroup.subscribe((function(e){t.activeGroup=e})),this.groupsService.activePane.subscribe((function(e){t.activePane=e})),this.geoDataService.activeFeature.subscribe((function(e){t.activeFeature=e,t.activeFeature&&console.log(t.activeFeature.assets[0].path)})),this.authService.currentUser.subscribe((function(e){return t.currentUser=e})),this.projectsService.getProjects(),this.projectsService.projects.subscribe((function(e){t.projects=e,t.projects.length&&t.projectsService.setActiveProject(t.projects[0]),t.groupsService.groups.subscribe((function(e){t.groupList=e,t.groupList.length>0?t.groupsExist=!0:t.groupsExist=!1})),t.groupsService.activeFeatureNum.pipe(Object(st.a)(0)).subscribe((function(e){t.activeFeatureNum=e,t.groupList.forEach((function(n){n.name==t.activeGroup&&(n.features[e].assets[0].display_path?t.imageName=/[^/]*$/.exec(n.features[e].assets[0].display_path)[0]:t.imageName=/[^/]*$/.exec(n.features[e].assets[0].path)[0])}))})),t.groupsService.tempGroup.subscribe((function(e){t.tempGroup=e})),t.groupsService.showGroup.subscribe((function(e){t.showGroup=e})),t.groupsService.showSidebar.subscribe((function(e){t.showSidebar=e})),t.groupsService.tempGroup.subscribe((function(e){t.tempGroup=e}))})),this.projectsService.activeProject.subscribe((function(e){t.selectedProject=e,t.getDataForProject(t.selectedProject)})),this.geoDataService.mapMouseLocation.pipe(Object(ot.a)(1)).subscribe((function(e){t.mapMouseLocation=e})),this.timerSubscription=this.timer.subscribe((function(){t.reloadFeatures()})),this.groupsService.setActiveFeatureNum(0)}},{key:"reloadFeatures",value:function(){this.geoDataService.getFeatures(this.selectedProject.id)}},{key:"setLiveRefresh",value:function(t){var e=this;t?this.timerSubscription=this.timer.subscribe((function(){e.reloadFeatures()})):this.timerSubscription.unsubscribe()}},{key:"selectProject",value:function(t){this.projectsService.setActiveProject(t),this.getDataForProject(t)}},{key:"getDataForProject",value:function(t){this.geoDataService.getFeatures(t.id),this.geoDataService.getOverlays(t.id),this.geoDataService.getPointClouds(t.id)}},{key:"openFilePicker",value:function(){var t=this;this.dialog.open(dt).afterClosed().subscribe((function(e){t.geoDataService.importFileFromTapis(t.selectedProject.id,e)}))}},{key:"openCreateProjectModal",value:function(){this.dialog.open(ht,{height:"400px",width:"600px"})}},{key:"addToGroupService",value:function(t){if(this.groupName=t,this.groupsService.setActiveGroup(t),t&&0!==t.length)if(this.groupList.filter((function(e){return e.name===t})).length)console.log("Existing Name");else{var e=this.getRandomColor();this.groupList.push({name:t,features:this.tempGroup,color:e}),this.groupsService.addGroup(this.groupList),this.formsService.addGroup(this.groupName)}else console.log("Invalid Name");this.tempGroup=[],this.groupsService.addTempGroup(this.tempGroup),this.groupsService.setUnselectAll(!0),this.groupsService.setShowGroup(!1)}},{key:"openAddGroupModal",value:function(t){this.dialog.open(t)}},{key:"openSidebar",value:function(){var t=!this.showSidebar;this.groupsService.setActiveGroup(this.groupList[0].name),this.groupsService.setActiveFeatureNum(0),this.groupsService.setShowSidebar(t),this.groupsService.setShowGroup(!1),this.router.navigateByUrl("/tagger",{skipLocationChange:!0}),this.tempGroup=[],this.groupsService.addTempGroup(this.tempGroup),this.groupsService.setUnselectAll(!0),this.groupsService.setActivePane("tagger")}},{key:"otherPath",value:function(t){var e=this,n=this.groupList.filter((function(t){return t.name===e.activeGroup}));t?(this.activeFeatureNum+=1,this.activeFeatureNum=this.activeFeatureNum%n[0].features.length):(0==this.activeFeatureNum&&(this.activeFeatureNum=n[0].features.length),this.activeFeatureNum-=1),this.groupsService.setActiveFeatureNum(this.activeFeatureNum)}},{key:"getRandomColor",value:function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}},{key:"goToRoute",value:function(){"preset"==this.activePane?(this.groupsService.setActivePane("tagger"),this.router.navigateByUrl("/tagger",{skipLocationChange:!0})):(this.groupsService.setActivePane("preset"),this.router.navigateByUrl("/preset",{skipLocationChange:!0})),this.groupsService.setActiveGroup(this.activeGroup)}},{key:"clearAndUnselect",value:function(){}}]),t}();mt.ctorParameters=function(){return[{type:H},{type:M},{type:d.c},{type:J},{type:K},{type:E},{type:O.b},{type:b.a}]},mt=i.a([Object(o.n)({selector:"app-control-bar",template:i.b(n("vlUF")).default,styles:[i.b(n("uV4w")).default]}),i.c("design:paramtypes",[H,M,d.c,J,K,E,O.b,b.a])],mt);var bt=n("z6cu"),gt=n("JIr8"),vt=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"intercept",value:function(t,e){var n=this;return e.handle(t).pipe(Object(gt.a)((function(t){401===t.status&&(n.authService.logout(),location.reload());var e=t.error.message||t.statusText;return Object(bt.a)(e)})))}}]),t}();vt.ctorParameters=function(){return[{type:E}]},vt=i.a([Object(o.B)(),i.c("design:paramtypes",[E])],vt);var xt=function(){function t(e){_classCallCheck(this,t),this.authSvc=e}return _createClass(t,[{key:"intercept",value:function(t,e){return t.url.indexOf("https://agave.designsafe-ci.org")>-1&&this.authSvc.isLoggedIn()&&(t=t.clone({setHeaders:{Authorization:"Bearer "+this.authSvc.userToken.token}})),e.handle(t)}}]),t}();xt.ctorParameters=function(){return[{type:E}]},xt=i.a([Object(o.B)(),i.c("design:paramtypes",[E])],xt);var yt=function(){function t(e,n,i,o,r){_classCallCheck(this,t),this.geoDataService=e,this.projectsService=n,this.groupsService=i,this.renderer=o,this.spinner=r,this.scrolling=!1,this.featureList=[],this.scrollSum=15}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.environment=T,this.geoDataService.features.subscribe((function(e){e&&(e.features.length>0?(t.imagesExist=!0,t.featureList=e.features.filter((function(t){return"image"==t.assets[0].asset_type})),15==t.scrollSum&&(t.featureListScroll=t.featureList.slice(0,t.scrollSum))):t.imagesExist=!1)})),this.projectsService.projects.subscribe((function(e){t.projects=e,t.projects.length?t.projectsExist=!0:t.projectsExist=!1})),this.geoDataService.activeFeature.subscribe((function(e){e&&(t.activeFeature=e)})),this.groupsService.groups.subscribe((function(e){t.groupList=e})),this.groupsService.activeGroup.subscribe((function(e){t.activeGroup=e})),this.groupsService.tempGroup.subscribe((function(e){t.tempGroup=e})),this.groupsService.showGroup.subscribe((function(e){t.showGroup=e})),this.groupsService.activeFeatureNum.pipe(Object(st.a)(0)).subscribe((function(e){t.activeFeatureNum=e})),this.groupsService.showSidebar.subscribe((function(e){t.showSidebar=e,t.status=!!e})),this.groupsService.setActiveFeatureNum(0)}},{key:"getPath",value:function(){var t=this,e=this.groupList.filter((function(e){return e.name===t.activeGroup}));null!=e[0]&&null==e[0].features[this.activeFeatureNum].assets[0].path&&(this.groupsService.setActiveFeatureNum(0),null==e[0].features[this.activeFeatureNum]&&this.groupsService.setActiveGroup(this.groupList[0].name));var n=this.environment.apiUrl+"/assets/"+e[0].features[this.activeFeatureNum].assets[0].path;return this.groupsService.setActiveFeatureId(e[0].features[this.activeFeatureNum].id),n.replace(/([^:])(\/{2,})/g,"$1/")}},{key:"appendSum",value:function(){var t=this;if(0!=this.featureList.length&&(this.scrollSum>this.featureList.length&&(this.scrollSum=this.featureList.length),this.scrollSum==this.featureList.length))return this.spinner.hide(),void(this.scrolling=!1);this.featureListScroll=this.featureList.slice(0,this.scrollSum),setTimeout((function(){t.spinner.hide(),t.scrolling=!1}),1300)}},{key:"onScroll",value:function(){this.scrolling||(this.spinner.show(),this.scrollSum+=10,this.appendSum(),this.scrolling=!0)}}]),t}();yt.ctorParameters=function(){return[{type:M},{type:H},{type:J},{type:o.Y},{type:p.b}]},yt=i.a([Object(o.n)({selector:"app-image-gallery",template:i.b(n("Pwca")).default,styles:[i.b(n("N3QO")).default]}),i.c("design:paramtypes",[M,H,J,o.Y,p.b])],yt);var kt=n("KaVy"),wt=function(){function t(e,n,i,o){_classCallCheck(this,t),this.geoDataService=e,this.groupsService=n,this.modalService=i,this.dialog=o,this.status=!1,this.hasGroup=!1,this.colors=[],this.currentGroup="hello",this.unselectAll=!1,this.imageCollection={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.environment=T;var e=this.environment.apiUrl+"/assets/"+this.feature.assets[0].path;e=e.replace(/([^:])(\/{2,})/g,"$1/"),this.featureSource=e,this.coordinates=this.feature.geometry.coordinates,this.groupsService.groups.subscribe((function(e){t.groupList=e,null!=t.groupList&&t.groupList.length>0&&null!=t.featureSource&&t.groupList.forEach((function(e){e.features.forEach((function(n){n.id==t.feature.id&&(t.colors.includes(e.color)||t.colors.push(e.color),t.hasGroup=!0)}))}))})),this.groupsService.tempGroup.subscribe((function(e){t.tempGroup=e})),this.groupsService.activeGroup.subscribe((function(e){t.activeGroup=e})),this.groupsService.unselectAll.subscribe((function(e){t.unselectAll=e,1==t.unselectAll&&(t.status=!1)}))}},{key:"imageSelect",value:function(){var t=this;1==this.unselectAll&&(this.unselectAll=!1,this.groupsService.setUnselectAll(!1)),this.status=!this.status,this.tempGroup.filter((function(e){return e.assets[0].id==t.feature.assets[0].id})).length>0?this.tempGroup=this.tempGroup.filter((function(e){return e.assets[0].id!=t.feature.assets[0].id})):this.tempGroup.push(this.feature),this.groupsService.addTempGroup(this.tempGroup),0==this.tempGroup.length?this.groupsService.setShowGroup(!1):this.groupsService.setShowGroup(!0)}},{key:"imageZoom",value:function(t){this.dialog.open(t)}},{key:"imageDelete",value:function(){this.geoDataService.deleteFeature(this.feature)}},{key:"openMoreGroupsModal",value:function(t){this.dialog.open(t)}},{key:"openImageDeleteModal",value:function(t){this.dialog.open(t)}},{key:"deleteFromGroup",value:function(t){var e=this;console.log(this.groupList),this.groupList.forEach((function(n){n.features.length<=1?e.groupList=e.groupList.filter((function(e){return e.color!=t})):n.color==t&&(n.features=n.features.filter((function(t){return t.id!=e.feature.id})))})),this.groupsService.addGroup(this.groupList),this.colors=this.colors.filter((function(e){return e!=t}))}},{key:"openImageAddModal",value:function(t){this.dialog.open(t)}},{key:"selectGroupForm",value:function(t){var e=this;this.groupsService.setActiveFeatureNum(0),this.groupList.forEach((function(n){n.name==t&&n.features.push(e.feature)})),this.groupsService.addGroup(this.groupList)}},{key:"getGroupNameFromColor",value:function(t){var e=this;this.groupList.forEach((function(n){n.color==t&&(e.currentGroup=n.name)}))}}]),t}();wt.ctorParameters=function(){return[{type:M},{type:J},{type:kt.a},{type:b.a}]},i.a([Object(o.E)(),i.c("design:type",P)],wt.prototype,"feature",void 0),wt=i.a([Object(o.n)({selector:"app-image-box",template:i.b(n("ay+3")).default,styles:[i.b(n("if2z")).default]}),i.c("design:paramtypes",[M,J,kt.a,b.a])],wt);var St=function(){function t(e){_classCallCheck(this,t),this.formsService=e,this.name=new W.b("")}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.formGroup$=this.formsService.formGroup.subscribe((function(e){t.form=e}))}},{key:"ngOnDestroy",value:function(){this.formGroup$.unsubscribe()}},{key:"isValid",get:function(){return this.form.controls[this.field.label].valid}}]),t}();St.ctorParameters=function(){return[{type:K}]},i.a([Object(o.E)(),i.c("design:type",Object)],St.prototype,"field",void 0),St=i.a([Object(o.n)({selector:"app-form-generator",template:i.b(n("zusP")).default,styles:[i.b(n("ld75")).default]}),i.c("design:paramtypes",[K])],St);var Ft=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();Ft=i.a([Object(o.n)({selector:"app-side-bar",template:i.b(n("c6cR")).default,styles:[i.b(n("IElf")).default]}),i.c("design:paramtypes",[])],Ft);var jt=function(){function t(e,n,i){_classCallCheck(this,t),this.formsService=e,this.groupsService=n,this.dialog=i,this.showSubitem=!0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.groups$=this.groupsService.groups.subscribe((function(e){t.groupList=e})),this.activeGroup$=this.groupsService.activeGroup.subscribe((function(e){t.activeGroup=e}))}},{key:"selectGroupForm",value:function(t){this.groupsService.setActiveGroup(t),this.groupsService.setActiveFeatureNum(0),this.formsService.changeGroupForm(t)}},{key:"openRenameOptionModal",value:function(t){this.dialog.open(t)}},{key:"deleteGroup",value:function(){var t=this;this.groupsService.addGroup(this.groupList.filter((function(e){return e.name!=t.activeGroup}))),this.groupList.length<=0?(this.showSidebar=!1,this.groupsService.setShowSidebar(this.showSidebar)):this.groupsService.setActiveGroup(this.groupList[0].name)}},{key:"openRenameModal",value:function(t,e){this.selectedGroup=e,this.dialog.open(t)}},{key:"isChecked",value:function(t){return this.activeGroup==t?"checked":""}},{key:"renameGroup",value:function(t){var e=this;this.groupList.forEach((function(n){n.name==e.selectedGroup&&(n.name=t)})),this.groupsService.addGroup(this.groupList),this.groupsService.setActiveGroup(t)}},{key:"expandPanel",value:function(){this.showSubitem=!this.showSubitem,this.showSubitem}},{key:"ngOnDestroy",value:function(){this.groups$.unsubscribe(),this.activeGroup$.unsubscribe()}}]),t}();jt.ctorParameters=function(){return[{type:K},{type:J},{type:b.a}]},jt=i.a([Object(o.n)({selector:"app-select-group",template:i.b(n("s9wi")).default,styles:[i.b(n("I57P")).default]}),i.c("design:paramtypes",[K,J,b.a])],jt);var Ot=function(){function t(e,n){_classCallCheck(this,t),this.formsService=e,this.groupsService=n,this.groupList=[],this.showSubitem=!0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.groups$=this.groupsService.groups.subscribe((function(e){t.groupList=e})),this.activeFeatureNum$=this.groupsService.activeFeatureNum.subscribe((function(e){t.activeFeatureNum=e})),this.activeGroup$=this.groupsService.activeGroup.subscribe((function(e){t.activeGroup=e}))}},{key:"getActiveFeatures",value:function(){var t=this;return this.groupList.filter((function(e){return e.name===t.activeGroup}))[0].features}},{key:"jumpToImage",value:function(t){var e=this,n=0;this.groupList.forEach((function(i){i.name==e.activeGroup&&(n=i.features.indexOf(t))})),this.groupsService.setActiveFeatureNum(n)}},{key:"isActiveFeature",value:function(t){var e=this,n=0;return this.groupList.forEach((function(i){i.name==e.activeGroup&&(n=i.features.indexOf(t))})),this.activeFeatureNum==n}},{key:"deleteGroup",value:function(){var t=this;this.groupsService.addGroup(this.groupList.filter((function(e){return e.name!=t.activeGroup}))),this.groupList.length<=0?(this.showSidebar=!1,this.groupsService.setShowSidebar(this.showSidebar)):this.groupsService.setActiveGroup(this.groupList[0].name)}},{key:"deleteAsset",value:function(t){var e=this;this.groupList.forEach((function(n){n.name===e.activeGroup&&(1==n.features.length?e.deleteGroup():(n.features=n.features.filter((function(e){return e.id!=t})),e.groupsService.addGroup(e.groupList)))}))}},{key:"getAssetDisplay",value:function(t){return t.assets[0].display_path?/[^/]*$/.exec(t.assets[0].display_path)[0]:/[^/]*$/.exec(t.assets[0].path)[0].slice(0,15)+"..."}},{key:"ngOnDestroy",value:function(){this.groups$.unsubscribe(),this.activeFeatureNum$.unsubscribe(),this.activeGroup$.unsubscribe()}},{key:"expandPanel",value:function(){this.showSubitem=!this.showSubitem,this.showSubitem}}]),t}();Ot.ctorParameters=function(){return[{type:K},{type:J}]},Ot=i.a([Object(o.n)({selector:"app-select-image",template:i.b(n("033P")).default,styles:[i.b(n("T7o7")).default]}),i.c("design:paramtypes",[K,J])],Ot);var _t=function t(){_classCallCheck(this,t)};_t=i.a([Object(o.J)({declarations:[tt,at,_,U,mt,B,dt,yt,wt,St,Ft,jt,Ot,q,X,ht],imports:[j.a.forRoot({rootUrl:"https://agave.designsafe-ci.org/"}),a.a,Q,l.c,s.b,u.a,p.a,S.a,d.d.forRoot(),h.a,f.a,m.a,b.b,g.a,v.a,y.a,w.a,k.a,x.a,d.a.forRoot(),W.j,W.e,F.a,d.b.forRoot(),c.b],providers:[E,{provide:l.a,multi:!0,useClass:vt},{provide:l.a,multi:!0,useClass:xt},{provide:c.a,useValue:T.baseHref}],bootstrap:[tt],entryComponents:[dt,ht]})],_t),T.production&&Object(o.rb)(),Object(r.a)().bootstrapModule(_t).catch((function(t){return console.error(t)}))},zXfM:function(t,e,n){"use strict";n.r(e),e.default='<div class="tag-forms">\n  <div class="subitem-title" (click)="expandPanel()">\n\t<span>\n\t  Tag Images\n\t</span>\n\t<span>\n\t  <span style="cursor: pointer"\n\t\t\tmatTooltip="Export Tags"\n\t\t\tstyle="cursor: pointer; margin-right: 10px"\n\t\t\tmatTooltipPosition="above">\n\t\t<i class="fas fa-file-download"></i>\n\t  </span>\n\n\t  <span style="cursor: pointer"\n\t\t\t(click)="createNewTag()"\n\t\t\tmatTooltip="Add New Tag"\n\t\t\tstyle="cursor: pointer; margin-right: 10px"\n\t\t\tmatTooltipPosition="above">\n\t\t<i class="fas fa-plus"></i>\n\t  </span>\n\n\t  <span style="cursor: pointer; margin-right: 20px"\n\t\t\tmatTooltip="Save Tags"\n\t\t\tmatTooltipPosition="above">\n\t\t<i class="fas fa-save"></i>\n\t  </span>\n\t</span>\n  </div> \x3c!-- subitem-title --\x3e\n\n  <div *ngIf="showSubitem" class="subitem">\n\t<div class="subitem-scroll">\n\t  <div *ngIf="(formsService.activeFormList | async)?.length > 0; else elseBlock">\n\t\t<form (ngSubmit)="onSubmit()" [formGroup]="formsService.formGroup | async">\n \x3c!--  --\x3e\n\t\t  <div *ngFor="let form of formsService.activeFormList | async" class="main-form-container">\n\t\t\t<div class="form-item-container">\n\n\t\t\t  <div class="name-group">\n\t\t\t\t{{form.label}} ({{form.type}})\n\t\t\t  </div> \x3c!-- name-group --\x3e\n\n\t\t\t  <div class="button-group">\n\n\t\t\t\t<div (click)="formsService.deleteForm(activeGroup, form)">\n\t\t\t\t  <i class="fas fa-minus"\n\t\t\t\t\t matTooltip="Delete"\n\t\t\t\t\t matTooltipPosition="above"\n\t\t\t\t\t style="cursor: pointer">\n\t\t\t\t  </i>\n\t\t\t\t</div>\n\n\t\t\t\t<div (click)="openRenameOptionModal(renameFormItemModal)">\n\t\t\t\t  <i class="fas fa-edit"\n\t\t\t\t\t matTooltip="Rename"\n\t\t\t\t\t matTooltipPosition="above"\n\t\t\t\t\t style="cursor: pointer">\n\t\t\t\t  </i>\n\t\t\t\t</div>\n\n\t\t\t\t<div *ngIf="form.type != \'text\'">\n\n\t\t\t\t  <div (click)="openOptionToggle(form.label)">\n\t\t\t\t\t<i class="fas fa-ellipsis-h"\n\t\t\t\t\t   style="cursor: pointer"\n\t\t\t\t\t   matTooltip="More Options"\n\t\t\t\t\t   matTooltipPosition="above">\n\t\t\t\t\t</i>\n\t\t\t\t  </div>\n\n\t\t\t\t</div>\n\n\t\t\t\t<ng-template #renameFormItemModal>\n\t\t\t\t  <input matInput #formItemRename\n\t\t\t\t\t\t placeholder="Rename Form Item">\n\t\t\t\t  <br/>\n\t\t\t\t  <br/>\n\t\t\t\t  <div class="button-group">\n\t\t\t\t\t<button matDialogClose\n\t\t\t\t\t\t\tmat-raised-button\n\t\t\t\t\t\t\tcolor="primary"\n\t\t\t\t\t\t\t(click)="formsService.renameForm(activeGroup, form, formItemRename.value)">Rename</button>\n\t\t\t\t\t<button matDialogClose\n\t\t\t\t\t\t\tmat-button>Cancel</button>\n\t\t\t\t  </div>\n\t\t\t\t</ng-template>\n\n\t\t\t  </div> \x3c!-- button group --\x3e\n\t\t\t</div>  \x3c!-- form-item-container --\x3e\n\n\n\n\t\t\t<div *ngIf="form.options.length && form.type != \'text\' && openOption[form.label]" class="options-container">\n\n\t\t\t  <div *ngFor="let opt of form.options" class="list-group list-suboptions">\n\t\t\t\t<div>\n\t\t\t\t  {{opt.label}}\n\t\t\t\t</div>\n\n\t\t\t\t<div class="button-group">\n\n\t\t\t\t  <div (click)="formsService.deleteOption(activeGroup, opt, form)">\n\t\t\t\t\t<i class="fas fa-minus"\n\t\t\t\t\t   style="cursor: pointer"\n\t\t\t\t\t   matTooltip="Delete"\n\t\t\t\t\t   matTooltipPosition="below">\n\t\t\t\t\t</i>\n\t\t\t\t  </div>\n\n\t\t\t\t  <div (click)="openRenameOptionModal(renameDeeperOptionModal)">\n\t\t\t\t\t<i class="fas fa-edit"\n\t\t\t\t\t   matTooltip="Rename"\n\t\t\t\t\t   style="cursor: pointer"\n\t\t\t\t\t   matTooltipPosition="below">\n\t\t\t\t\t</i>\n\t\t\t\t  </div>\n\n\t\t\t\t  <ng-template #renameDeeperOptionModal>\n\t\t\t\t\t<input matInput #optionDeeperRename\n\t\t\t\t\t\t   placeholder="Rename Option">\n\t\t\t\t\t<br/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div class="button-group">\n\t\t\t\t\t  <button matDialogClose\n\t\t\t\t\t\t\t  mat-raised-button\n\t\t\t\t\t\t\t  color="primary"\n\t\t\t\t\t\t\t  (click)="formsService.renameOption(activeGroup, opt, form, optionDeeperRename.value)">Rename</button>\n\t\t\t\t\t  <button matDialogClose\n\t\t\t\t\t\t\t  mat-button>Cancel</button>\n\t\t\t\t\t</div>\n\t\t\t\t  </ng-template>\n\t\t\t\t</div> \x3c!-- button-ggroup --\x3e\n\t\t\t  </div> \x3c!-- option loop --\x3e\n\t\t\t</div> \x3c!-- options container --\x3e\n\n\n\t\t\t\x3c!-- <app-form-generator [form]="form"></app-form-generator> --\x3e\n\t\t\t<app-form-generator [field]="form"></app-form-generator>\n\t\t\t\x3c!-- Conditional --\x3e\n\t\t\t\x3c!-- <div *ngIf="(formsService.activeFormList | async)?.length > 0; else elseBlock"> --\x3e\n\t\t\t  \x3c!-- Does not work without this --\x3e\n\t\t\t  \x3c!-- <div *ngIf="fields"> --\x3e\n\t\t\t\t\x3c!-- <app-form-generator></app-form-generator> --\x3e\n\t\t\t\t\x3c!-- <app-form-generator [fields]="getFields()"></app-form-generator> --\x3e\n\t\t\t\t\x3c!-- <app-form-generator [fields]="fields"></app-form-generator> --\x3e\n\t\t\t\t\x3c!-- </div> --\x3e\n\t\t\t  \x3c!-- </div> --\x3e\n\n\n\t\t  </div> \x3c!-- loop --\x3e\n\n\t\t  <div class="form-row">\n\t\t\t<button mat-raised-button color="primary" type="submit" [disabled]="!form.valid">Save</button>\n\t\t  </div>\n\t\t</form>\n\t  </div> \x3c!-- conditional --\x3e\n\t</div> \x3c!-- subitem scroll --\x3e\n  </div> \x3c!--subitem --\x3e\n\n  <ng-template #elseBlock>\n\tNo tag presets for this Group!\n  </ng-template>\n\n</div> \x3c!-- tag-forms --\x3e\n'},zusP:function(t,e,n){"use strict";n.r(e),e.default='\x3c!-- <label for=""> --\x3e\n\x3c!--   Name: --\x3e\n\x3c!--   <\\!-- {{field.label}} -\\-> --\x3e\n\x3c!--   <input name="" [formControl]="name"/> --\x3e\n\x3c!-- </label> --\x3e\n\n<div [formGroup]="form">\n  \x3c!-- <label [attr.for]="field.label">{{field.label}}</label> --\x3e\n\n  <div [ngSwitch]="field.type" class="form-controls">\n\t<mat-form-field *ngSwitchCase="\'text\'">\n\t  <input matInput color="primary" [formControlName]="field.label"\n\t\t\t [id]="field.label" [type]="field.type">\n\t</mat-form-field>\n\n\t<mat-form-field *ngSwitchCase="\'dropdown\'">\n\t  <mat-select [id]="field.label" [id]="field.label" [formControlName]="field.label">\n\t\t<mat-option *ngFor="let opt of field.options" [value]="opt.label">\n\t\t  {{opt.label}}\n\t\t</mat-option>\n\t  </mat-select>\n\t</mat-form-field>\n\n\t<ng-container *ngSwitchCase="\'radio\'">\n\t  <mat-radio-group [formControlName]="field.label" class="radio-group">\n\t\t<mat-radio-button *ngFor="let opt of field.options" class="input-group" type="radio" [value]="opt.label">\n\t\t  {{opt.label}}\n\t\t</mat-radio-button>\n\t  </mat-radio-group>\n\t</ng-container>\n\n\t<ng-container *ngSwitchCase="\'checkbox\'">\n\t  <div *ngFor="let opt of field.options" [id]="field.label" class="input-group">\n\t\t<mat-checkbox type="checkbox" [value]="opt.label" [formControlName]="field.label">\n\t\t  {{opt.label}}\n\t\t</mat-checkbox>\n\t  </div>\n\t</ng-container>\n\n  </div>\n\n  <div class="errorMessage" *ngIf="!isValid">{{field.label}} is required</div>\n</div>\n\n\n\n\n\n\n\n\x3c!-- <form (ngSubmit)="onSubmit.emit(this.form.value)" [formGroup]="form" class="form-horizontal"> --\x3e\n\x3c!--   <div *ngFor="let field of formsService.activeFormList | async"> --\x3e\n\x3c!--   <\\!-- <div *ngFor="let field of fields"> -\\-> --\x3e\n\x3c!--\t<\\!-- <app-form-fields [field]="field" [form]="form"></app-form-fields> -\\-> --\x3e\n\x3c!--   </div> --\x3e\n\x3c!-- </form> --\x3e\n'}},[[0,0,5]]]);
//# sourceMappingURL=main-es5.e63bc0f8a4cd38c8b868.js.map